import{$ as G,$a as Ar,A as Hl,Aa as Ki,B as zl,Ba as ff,C as rt,Ca as X,D as Qe,Da as Ct,E as Mr,Ea as qe,F as kt,Fa as ys,G as un,Ga as Xn,H as ye,Ha as Qn,I as _e,Ia as Zn,J as Dr,Ja as ct,K as Nt,Ka as xe,L as Yi,La as Ta,M as af,Ma as yo,N as xi,Na as Ci,O as at,Oa as Rn,P as lt,Pa as qi,Q as wi,Qa as pf,R as fo,Ra as mf,S as gs,Sa as gf,T as Yt,Ta as yf,U as qn,Ua as rd,V as lf,Va as sd,W as po,Wa as vf,X as mo,Xa as od,Y as nd,Ya as Ul,Z as id,Za as ad,_ as kr,_a as vs,a as Be,aa as ke,ab as ld,b as Dt,ba as go,bb as bf,c as Xh,ca as We,cb as jt,d as Qh,da as vn,db as _f,e as Zh,ea as He,eb as xf,f as ps,fa as cf,fb as Pr,g as wt,ga as uf,gb as wf,h as Jh,ha as df,hb as Cf,i as Wl,ia as ue,ib as Ie,j as ef,ja as hf,jb as cd,k as Sr,ka as Ui,kb as Sf,l as _i,la as Yl,lb as vo,m as tf,ma as Ye,mb as bo,n as Pn,na as On,nb as Mf,o as Ju,oa as Fn,ob as Df,p as nf,pa as In,pb as kf,q as Da,qa as R,qb as Ef,r as rf,ra as L,rb as Tf,s as ed,sa as ve,sb as Gl,t as td,ta as Et,tb as Af,u as ho,ua as pe,ub as Ut,v as ka,va as Ee,vb as Pf,w as ms,wa as Er,x as sf,xa as Tr,y as of,ya as Gi,z as Ea,za as $i}from"./chunk-WARY2JVH.js";var bs=Zh((Cd,Do)=>{"use strict";(function(t,n){typeof Cd=="object"&&typeof Do<"u"?Do.exports=n():typeof define=="function"&&define.amd?define(n):t.moment=n()})(Cd,function(){"use strict";var t;function n(){return t.apply(null,arguments)}function e(a){t=a}function i(a){return a instanceof Array||Object.prototype.toString.call(a)==="[object Array]"}function r(a){return a!=null&&Object.prototype.toString.call(a)==="[object Object]"}function s(a,h){return Object.prototype.hasOwnProperty.call(a,h)}function o(a){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(a).length===0;var h;for(h in a)if(s(a,h))return!1;return!0}function l(a){return a===void 0}function d(a){return typeof a=="number"||Object.prototype.toString.call(a)==="[object Number]"}function f(a){return a instanceof Date||Object.prototype.toString.call(a)==="[object Date]"}function g(a,h){var m=[],b,C=a.length;for(b=0;b<C;++b)m.push(h(a[b],b));return m}function _(a,h){for(var m in h)s(h,m)&&(a[m]=h[m]);return s(h,"toString")&&(a.toString=h.toString),s(h,"valueOf")&&(a.valueOf=h.valueOf),a}function w(a,h,m,b){return cs(a,h,m,b,!0).utc()}function S(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function D(a){return a._pf==null&&(a._pf=S()),a._pf}var T;Array.prototype.some?T=Array.prototype.some:T=function(a){var h=Object(this),m=h.length>>>0,b;for(b=0;b<m;b++)if(b in h&&a.call(this,h[b],b,h))return!0;return!1};function A(a){var h=null,m=!1,b=a._d&&!isNaN(a._d.getTime());if(b&&(h=D(a),m=T.call(h.parsedDateParts,function(C){return C!=null}),b=h.overflow<0&&!h.empty&&!h.invalidEra&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&m),a._strict&&(b=b&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(a))a._isValid=b;else return b;return a._isValid}function B(a){var h=w(NaN);return a!=null?_(D(h),a):D(h).userInvalidated=!0,h}var j=n.momentProperties=[],Z=!1;function ee(a,h){var m,b,C,O=j.length;if(l(h._isAMomentObject)||(a._isAMomentObject=h._isAMomentObject),l(h._i)||(a._i=h._i),l(h._f)||(a._f=h._f),l(h._l)||(a._l=h._l),l(h._strict)||(a._strict=h._strict),l(h._tzm)||(a._tzm=h._tzm),l(h._isUTC)||(a._isUTC=h._isUTC),l(h._offset)||(a._offset=h._offset),l(h._pf)||(a._pf=D(h)),l(h._locale)||(a._locale=h._locale),O>0)for(m=0;m<O;m++)b=j[m],C=h[b],l(C)||(a[b]=C);return a}function Y(a){ee(this,a),this._d=new Date(a._d!=null?a._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Z===!1&&(Z=!0,n.updateOffset(this),Z=!1)}function Q(a){return a instanceof Y||a!=null&&a._isAMomentObject!=null}function ae(a){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+a)}function J(a,h){var m=!0;return _(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,a),m){var b=[],C,O,H,fe=arguments.length;for(O=0;O<fe;O++){if(C="",typeof arguments[O]=="object"){C+=`
[`+O+"] ";for(H in arguments[0])s(arguments[0],H)&&(C+=H+": "+arguments[0][H]+", ");C=C.slice(0,-2)}else C=arguments[O];b.push(C)}ae(a+`
Arguments: `+Array.prototype.slice.call(b).join("")+`
`+new Error().stack),m=!1}return h.apply(this,arguments)},h)}var me={};function Te(a,h){n.deprecationHandler!=null&&n.deprecationHandler(a,h),me[a]||(ae(h),me[a]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function Me(a){return typeof Function<"u"&&a instanceof Function||Object.prototype.toString.call(a)==="[object Function]"}function Re(a){var h,m;for(m in a)s(a,m)&&(h=a[m],Me(h)?this[m]=h:this["_"+m]=h);this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function St(a,h){var m=_({},a),b;for(b in h)s(h,b)&&(r(a[b])&&r(h[b])?(m[b]={},_(m[b],a[b]),_(m[b],h[b])):h[b]!=null?m[b]=h[b]:delete m[b]);for(b in a)s(a,b)&&!s(h,b)&&r(a[b])&&(m[b]=_({},m[b]));return m}function Vt(a){a!=null&&this.set(a)}var Ge;Object.keys?Ge=Object.keys:Ge=function(a){var h,m=[];for(h in a)s(a,h)&&m.push(h);return m};var st={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function nt(a,h,m){var b=this._calendar[a]||this._calendar.sameElse;return Me(b)?b.call(h,m):b}function Ze(a,h,m){var b=""+Math.abs(a),C=h-b.length,O=a>=0;return(O?m?"+":"":"-")+Math.pow(10,Math.max(0,C)).toString().substr(1)+b}var bt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,kn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Nn={},Gt={};function ge(a,h,m,b){var C=b;typeof b=="string"&&(C=function(){return this[b]()}),a&&(Gt[a]=C),h&&(Gt[h[0]]=function(){return Ze(C.apply(this,arguments),h[1],h[2])}),m&&(Gt[m]=function(){return this.localeData().ordinal(C.apply(this,arguments),a)})}function $t(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function fn(a){var h=a.match(bt),m,b;for(m=0,b=h.length;m<b;m++)Gt[h[m]]?h[m]=Gt[h[m]]:h[m]=$t(h[m]);return function(C){var O="",H;for(H=0;H<b;H++)O+=Me(h[H])?h[H].call(C,a):h[H];return O}}function Pt(a,h){return a.isValid()?(h=Es(h,a.localeData()),Nn[h]=Nn[h]||fn(h),Nn[h](a)):a.localeData().invalidDate()}function Es(a,h){var m=5;function b(C){return h.longDateFormat(C)||C}for(kn.lastIndex=0;m>=0&&kn.test(a);)a=a.replace(kn,b),kn.lastIndex=0,m-=1;return a}var ru={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ol(a){var h=this._longDateFormat[a],m=this._longDateFormat[a.toUpperCase()];return h||!m?h:(this._longDateFormat[a]=m.match(bt).map(function(b){return b==="MMMM"||b==="MM"||b==="DD"||b==="dddd"?b.slice(1):b}).join(""),this._longDateFormat[a])}var Go="Invalid date";function su(){return this._invalidDate}var sr="%d",al=/\d{1,2}/;function Ts(a){return this._ordinal.replace("%d",a)}var or={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $o(a,h,m,b){var C=this._relativeTime[m];return Me(C)?C(a,h,m,b):C.replace(/%d/i,a)}function ou(a,h){var m=this._relativeTime[a>0?"future":"past"];return Me(m)?m(h):m.replace(/%s/i,h)}var we={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function nn(a){return typeof a=="string"?we[a]||we[a.toLowerCase()]:void 0}function Ko(a){var h={},m,b;for(b in a)s(a,b)&&(m=nn(b),m&&(h[m]=a[b]));return h}var As={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Je(a){var h=[],m;for(m in a)s(a,m)&&h.push({unit:m,priority:As[m]});return h.sort(function(b,C){return b.priority-C.priority}),h}var ar=/\d/,rn=/\d\d/,mi=/\d{3}/,qo=/\d{4}/,Ps=/[+-]?\d{6}/,ht=/\d\d?/,ll=/\d\d\d\d?/,Os=/\d\d\d\d\d\d?/,sn=/\d{1,3}/,Fs=/\d{1,4}/,gi=/[+-]?\d{1,6}/,Pi=/\d+/,lr=/[+-]?\d+/,cl=/Z|[+-]\d\d:?\d\d/gi,Xr=/Z|[+-]\d\d(?::?\d\d)?/gi,au=/[+-]?\d+(\.\d{1,3})?/,Qr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,pn=/^[1-9]\d?/,Zr=/^([1-9]\d|\d)/,Is;Is={};function de(a,h,m){Is[a]=Me(h)?h:function(b,C){return b&&m?m:h}}function Xo(a,h){return s(Is,a)?Is[a](h._strict,h._locale):new RegExp(Rs(a))}function Rs(a){return Kt(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,m,b,C,O){return m||b||C||O}))}function Kt(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function qt(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function Ve(a){var h=+a,m=0;return h!==0&&isFinite(h)&&(m=qt(h)),m}var jn={};function se(a,h){var m,b=h,C;for(typeof a=="string"&&(a=[a]),d(h)&&(b=function(O,H){H[h]=Ve(O)}),C=a.length,m=0;m<C;m++)jn[a[m]]=b}function ii(a,h){se(a,function(m,b,C,O){C._w=C._w||{},h(m,C._w,C,O)})}function Oi(a,h,m){h!=null&&s(jn,a)&&jn[a](h,m._a,m,a)}function Fi(a){return a%4===0&&a%100!==0||a%400===0}var re=0,En=1,Tn=2,Ot=3,on=4,Bn=5,ri=6,lu=7,cu=8;ge("Y",0,0,function(){var a=this.year();return a<=9999?Ze(a,4):"+"+a}),ge(0,["YY",2],0,function(){return this.year()%100}),ge(0,["YYYY",4],0,"year"),ge(0,["YYYYY",5],0,"year"),ge(0,["YYYYYY",6,!0],0,"year"),de("Y",lr),de("YY",ht,rn),de("YYYY",Fs,qo),de("YYYYY",gi,Ps),de("YYYYYY",gi,Ps),se(["YYYYY","YYYYYY"],re),se("YYYY",function(a,h){h[re]=a.length===2?n.parseTwoDigitYear(a):Ve(a)}),se("YY",function(a,h){h[re]=n.parseTwoDigitYear(a)}),se("Y",function(a,h){h[re]=parseInt(a,10)});function Wn(a){return Fi(a)?366:365}n.parseTwoDigitYear=function(a){return Ve(a)+(Ve(a)>68?1900:2e3)};var Ii=cr("FullYear",!0);function Qo(){return Fi(this.year())}function cr(a,h){return function(m){return m!=null?(ul(this,a,m),n.updateOffset(this,h),this):Jr(this,a)}}function Jr(a,h){if(!a.isValid())return NaN;var m=a._d,b=a._isUTC;switch(h){case"Milliseconds":return b?m.getUTCMilliseconds():m.getMilliseconds();case"Seconds":return b?m.getUTCSeconds():m.getSeconds();case"Minutes":return b?m.getUTCMinutes():m.getMinutes();case"Hours":return b?m.getUTCHours():m.getHours();case"Date":return b?m.getUTCDate():m.getDate();case"Day":return b?m.getUTCDay():m.getDay();case"Month":return b?m.getUTCMonth():m.getMonth();case"FullYear":return b?m.getUTCFullYear():m.getFullYear();default:return NaN}}function ul(a,h,m){var b,C,O,H,fe;if(!(!a.isValid()||isNaN(m))){switch(b=a._d,C=a._isUTC,h){case"Milliseconds":return void(C?b.setUTCMilliseconds(m):b.setMilliseconds(m));case"Seconds":return void(C?b.setUTCSeconds(m):b.setSeconds(m));case"Minutes":return void(C?b.setUTCMinutes(m):b.setMinutes(m));case"Hours":return void(C?b.setUTCHours(m):b.setHours(m));case"Date":return void(C?b.setUTCDate(m):b.setDate(m));case"FullYear":break;default:return}O=m,H=a.month(),fe=a.date(),fe=fe===29&&H===1&&!Fi(O)?28:fe,C?b.setUTCFullYear(O,H,fe):b.setFullYear(O,H,fe)}}function Vs(a){return a=nn(a),Me(this[a])?this[a]():this}function pt(a,h){if(typeof a=="object"){a=Ko(a);var m=Je(a),b,C=m.length;for(b=0;b<C;b++)this[m[b].unit](a[m[b].unit])}else if(a=nn(a),Me(this[a]))return this[a](h);return this}function Lt(a,h){return(a%h+h)%h}var Mt;Array.prototype.indexOf?Mt=Array.prototype.indexOf:Mt=function(a){var h;for(h=0;h<this.length;++h)if(this[h]===a)return h;return-1};function ur(a,h){if(isNaN(a)||isNaN(h))return NaN;var m=Lt(h,12);return a+=(h-m)/12,m===1?Fi(a)?29:28:31-m%7%2}ge("M",["MM",2],"Mo",function(){return this.month()+1}),ge("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),ge("MMMM",0,0,function(a){return this.localeData().months(this,a)}),de("M",ht,pn),de("MM",ht,rn),de("MMM",function(a,h){return h.monthsShortRegex(a)}),de("MMMM",function(a,h){return h.monthsRegex(a)}),se(["M","MM"],function(a,h){h[En]=Ve(a)-1}),se(["MMM","MMMM"],function(a,h,m,b){var C=m._locale.monthsParse(a,b,m._strict);C!=null?h[En]=C:D(m).invalidMonth=a});var Ls="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),es="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),dl=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,yi=Qr,dr=Qr;function vi(a,h){return a?i(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||dl).test(h)?"format":"standalone"][a.month()]:i(this._months)?this._months:this._months.standalone}function Ns(a,h){return a?i(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[dl.test(h)?"format":"standalone"][a.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function uu(a,h,m){var b,C,O,H=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],b=0;b<12;++b)O=w([2e3,b]),this._shortMonthsParse[b]=this.monthsShort(O,"").toLocaleLowerCase(),this._longMonthsParse[b]=this.months(O,"").toLocaleLowerCase();return m?h==="MMM"?(C=Mt.call(this._shortMonthsParse,H),C!==-1?C:null):(C=Mt.call(this._longMonthsParse,H),C!==-1?C:null):h==="MMM"?(C=Mt.call(this._shortMonthsParse,H),C!==-1?C:(C=Mt.call(this._longMonthsParse,H),C!==-1?C:null)):(C=Mt.call(this._longMonthsParse,H),C!==-1?C:(C=Mt.call(this._shortMonthsParse,H),C!==-1?C:null))}function du(a,h,m){var b,C,O;if(this._monthsParseExact)return uu.call(this,a,h,m);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),b=0;b<12;b++){if(C=w([2e3,b]),m&&!this._longMonthsParse[b]&&(this._longMonthsParse[b]=new RegExp("^"+this.months(C,"").replace(".","")+"$","i"),this._shortMonthsParse[b]=new RegExp("^"+this.monthsShort(C,"").replace(".","")+"$","i")),!m&&!this._monthsParse[b]&&(O="^"+this.months(C,"")+"|^"+this.monthsShort(C,""),this._monthsParse[b]=new RegExp(O.replace(".",""),"i")),m&&h==="MMMM"&&this._longMonthsParse[b].test(a))return b;if(m&&h==="MMM"&&this._shortMonthsParse[b].test(a))return b;if(!m&&this._monthsParse[b].test(a))return b}}function si(a,h){if(!a.isValid())return a;if(typeof h=="string"){if(/^\d+$/.test(h))h=Ve(h);else if(h=a.localeData().monthsParse(h),!d(h))return a}var m=h,b=a.date();return b=b<29?b:Math.min(b,ur(a.year(),m)),a._isUTC?a._d.setUTCMonth(m,b):a._d.setMonth(m,b),a}function Zo(a){return a!=null?(si(this,a),n.updateOffset(this,!0),this):Jr(this,"Month")}function Ri(){return ur(this.year(),this.month())}function hl(a){return this._monthsParseExact?(s(this,"_monthsRegex")||_t.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=yi),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function Jo(a){return this._monthsParseExact?(s(this,"_monthsRegex")||_t.call(this),a?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=dr),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function _t(){function a(Ae,$e){return $e.length-Ae.length}var h=[],m=[],b=[],C,O,H,fe;for(C=0;C<12;C++)O=w([2e3,C]),H=Kt(this.monthsShort(O,"")),fe=Kt(this.months(O,"")),h.push(H),m.push(fe),b.push(fe),b.push(H);h.sort(a),m.sort(a),b.sort(a),this._monthsRegex=new RegExp("^("+b.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}function ea(a,h,m,b,C,O,H){var fe;return a<100&&a>=0?(fe=new Date(a+400,h,m,b,C,O,H),isFinite(fe.getFullYear())&&fe.setFullYear(a)):fe=new Date(a,h,m,b,C,O,H),fe}function hr(a){var h,m;return a<100&&a>=0?(m=Array.prototype.slice.call(arguments),m[0]=a+400,h=new Date(Date.UTC.apply(null,m)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(a)):h=new Date(Date.UTC.apply(null,arguments)),h}function Hn(a,h,m){var b=7+h-m,C=(7+hr(a,0,b).getUTCDay()-h)%7;return-C+b-1}function js(a,h,m,b,C){var O=(7+m-b)%7,H=Hn(a,b,C),fe=1+7*(h-1)+O+H,Ae,$e;return fe<=0?(Ae=a-1,$e=Wn(Ae)+fe):fe>Wn(a)?(Ae=a+1,$e=fe-Wn(a)):(Ae=a,$e=fe),{year:Ae,dayOfYear:$e}}function an(a,h,m){var b=Hn(a.year(),h,m),C=Math.floor((a.dayOfYear()-b-1)/7)+1,O,H;return C<1?(H=a.year()-1,O=C+zn(H,h,m)):C>zn(a.year(),h,m)?(O=C-zn(a.year(),h,m),H=a.year()+1):(H=a.year(),O=C),{week:O,year:H}}function zn(a,h,m){var b=Hn(a,h,m),C=Hn(a+1,h,m);return(Wn(a)-b+C)/7}ge("w",["ww",2],"wo","week"),ge("W",["WW",2],"Wo","isoWeek"),de("w",ht,pn),de("ww",ht,rn),de("W",ht,pn),de("WW",ht,rn),ii(["w","ww","W","WW"],function(a,h,m,b){h[b.substr(0,1)]=Ve(a)});function fr(a){return an(a,this._week.dow,this._week.doy).week}var Bs={dow:0,doy:6};function ta(){return this._week.dow}function na(){return this._week.doy}function Vi(a){var h=this.localeData().week(this);return a==null?h:this.add((a-h)*7,"d")}function fl(a){var h=an(this,1,4).week;return a==null?h:this.add((a-h)*7,"d")}ge("d",0,"do","day"),ge("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),ge("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),ge("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),ge("e",0,0,"weekday"),ge("E",0,0,"isoWeekday"),de("d",ht),de("e",ht),de("E",ht),de("dd",function(a,h){return h.weekdaysMinRegex(a)}),de("ddd",function(a,h){return h.weekdaysShortRegex(a)}),de("dddd",function(a,h){return h.weekdaysRegex(a)}),ii(["dd","ddd","dddd"],function(a,h,m,b){var C=m._locale.weekdaysParse(a,b,m._strict);C!=null?h.d=C:D(m).invalidWeekday=a}),ii(["d","e","E"],function(a,h,m,b){h[b]=Ve(a)});function Ws(a,h){return typeof a!="string"?a:isNaN(a)?(a=h.weekdaysParse(a),typeof a=="number"?a:null):parseInt(a,10)}function pl(a,h){return typeof a=="string"?h.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Ne(a,h){return a.slice(h,7).concat(a.slice(0,h))}var hu="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ml="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gl="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yl=Qr,vl=Qr,ts=Qr;function ns(a,h){var m=i(this._weekdays)?this._weekdays:this._weekdays[a&&a!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return a===!0?Ne(m,this._week.dow):a?m[a.day()]:m}function fu(a){return a===!0?Ne(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort}function pr(a){return a===!0?Ne(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin}function ia(a,h,m){var b,C,O,H=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],b=0;b<7;++b)O=w([2e3,1]).day(b),this._minWeekdaysParse[b]=this.weekdaysMin(O,"").toLocaleLowerCase(),this._shortWeekdaysParse[b]=this.weekdaysShort(O,"").toLocaleLowerCase(),this._weekdaysParse[b]=this.weekdays(O,"").toLocaleLowerCase();return m?h==="dddd"?(C=Mt.call(this._weekdaysParse,H),C!==-1?C:null):h==="ddd"?(C=Mt.call(this._shortWeekdaysParse,H),C!==-1?C:null):(C=Mt.call(this._minWeekdaysParse,H),C!==-1?C:null):h==="dddd"?(C=Mt.call(this._weekdaysParse,H),C!==-1||(C=Mt.call(this._shortWeekdaysParse,H),C!==-1)?C:(C=Mt.call(this._minWeekdaysParse,H),C!==-1?C:null)):h==="ddd"?(C=Mt.call(this._shortWeekdaysParse,H),C!==-1||(C=Mt.call(this._weekdaysParse,H),C!==-1)?C:(C=Mt.call(this._minWeekdaysParse,H),C!==-1?C:null)):(C=Mt.call(this._minWeekdaysParse,H),C!==-1||(C=Mt.call(this._weekdaysParse,H),C!==-1)?C:(C=Mt.call(this._shortWeekdaysParse,H),C!==-1?C:null))}function ra(a,h,m){var b,C,O;if(this._weekdaysParseExact)return ia.call(this,a,h,m);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),b=0;b<7;b++){if(C=w([2e3,1]).day(b),m&&!this._fullWeekdaysParse[b]&&(this._fullWeekdaysParse[b]=new RegExp("^"+this.weekdays(C,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[b]=new RegExp("^"+this.weekdaysShort(C,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[b]=new RegExp("^"+this.weekdaysMin(C,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[b]||(O="^"+this.weekdays(C,"")+"|^"+this.weekdaysShort(C,"")+"|^"+this.weekdaysMin(C,""),this._weekdaysParse[b]=new RegExp(O.replace(".",""),"i")),m&&h==="dddd"&&this._fullWeekdaysParse[b].test(a))return b;if(m&&h==="ddd"&&this._shortWeekdaysParse[b].test(a))return b;if(m&&h==="dd"&&this._minWeekdaysParse[b].test(a))return b;if(!m&&this._weekdaysParse[b].test(a))return b}}function pu(a){if(!this.isValid())return a!=null?this:NaN;var h=Jr(this,"Day");return a!=null?(a=Ws(a,this.localeData()),this.add(a-h,"d")):h}function Hs(a){if(!this.isValid())return a!=null?this:NaN;var h=(this.day()+7-this.localeData()._week.dow)%7;return a==null?h:this.add(a-h,"d")}function bl(a){if(!this.isValid())return a!=null?this:NaN;if(a!=null){var h=pl(a,this.localeData());return this.day(this.day()%7?h:h-7)}else return this.day()||7}function zs(a){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||sa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=yl),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function _l(a){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||sa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vl),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function is(a){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||sa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ts),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function sa(){function a(cn,zi){return zi.length-cn.length}var h=[],m=[],b=[],C=[],O,H,fe,Ae,$e;for(O=0;O<7;O++)H=w([2e3,1]).day(O),fe=Kt(this.weekdaysMin(H,"")),Ae=Kt(this.weekdaysShort(H,"")),$e=Kt(this.weekdays(H,"")),h.push(fe),m.push(Ae),b.push($e),C.push(fe),C.push(Ae),C.push($e);h.sort(a),m.sort(a),b.sort(a),C.sort(a),this._weekdaysRegex=new RegExp("^("+C.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function rs(){return this.hours()%12||12}function mu(){return this.hours()||24}ge("H",["HH",2],0,"hour"),ge("h",["hh",2],0,rs),ge("k",["kk",2],0,mu),ge("hmm",0,0,function(){return""+rs.apply(this)+Ze(this.minutes(),2)}),ge("hmmss",0,0,function(){return""+rs.apply(this)+Ze(this.minutes(),2)+Ze(this.seconds(),2)}),ge("Hmm",0,0,function(){return""+this.hours()+Ze(this.minutes(),2)}),ge("Hmmss",0,0,function(){return""+this.hours()+Ze(this.minutes(),2)+Ze(this.seconds(),2)});function xl(a,h){ge(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}xl("a",!0),xl("A",!1);function wl(a,h){return h._meridiemParse}de("a",wl),de("A",wl),de("H",ht,Zr),de("h",ht,pn),de("k",ht,pn),de("HH",ht,rn),de("hh",ht,rn),de("kk",ht,rn),de("hmm",ll),de("hmmss",Os),de("Hmm",ll),de("Hmmss",Os),se(["H","HH"],Ot),se(["k","kk"],function(a,h,m){var b=Ve(a);h[Ot]=b===24?0:b}),se(["a","A"],function(a,h,m){m._isPm=m._locale.isPM(a),m._meridiem=a}),se(["h","hh"],function(a,h,m){h[Ot]=Ve(a),D(m).bigHour=!0}),se("hmm",function(a,h,m){var b=a.length-2;h[Ot]=Ve(a.substr(0,b)),h[on]=Ve(a.substr(b)),D(m).bigHour=!0}),se("hmmss",function(a,h,m){var b=a.length-4,C=a.length-2;h[Ot]=Ve(a.substr(0,b)),h[on]=Ve(a.substr(b,2)),h[Bn]=Ve(a.substr(C)),D(m).bigHour=!0}),se("Hmm",function(a,h,m){var b=a.length-2;h[Ot]=Ve(a.substr(0,b)),h[on]=Ve(a.substr(b))}),se("Hmmss",function(a,h,m){var b=a.length-4,C=a.length-2;h[Ot]=Ve(a.substr(0,b)),h[on]=Ve(a.substr(b,2)),h[Bn]=Ve(a.substr(C))});function ln(a){return(a+"").toLowerCase().charAt(0)==="p"}var mr=/[ap]\.?m?\.?/i,gu=cr("Hours",!0);function yu(a,h,m){return a>11?m?"pm":"PM":m?"am":"AM"}var Cl={calendar:st,longDateFormat:ru,invalidDate:Go,ordinal:sr,dayOfMonthOrdinalParse:al,relativeTime:or,months:Ls,monthsShort:es,week:Bs,weekdays:hu,weekdaysMin:gl,weekdaysShort:ml,meridiemParse:mr},it={},mn={},gr;function Sl(a,h){var m,b=Math.min(a.length,h.length);for(m=0;m<b;m+=1)if(a[m]!==h[m])return m;return b}function Ml(a){return a&&a.toLowerCase().replace("_","-")}function Yn(a){for(var h=0,m,b,C,O;h<a.length;){for(O=Ml(a[h]).split("-"),m=O.length,b=Ml(a[h+1]),b=b?b.split("-"):null;m>0;){if(C=bi(O.slice(0,m).join("-")),C)return C;if(b&&b.length>=m&&Sl(O,b)>=m-1)break;m--}h++}return gr}function ss(a){return!!(a&&a.match("^[^/\\\\]*$"))}function bi(a){var h=null,m;if(it[a]===void 0&&typeof Do<"u"&&Do&&Do.exports&&ss(a))try{h=gr._abbr,m=Xh,m("./locale/"+a),Un(h)}catch{it[a]=null}return it[a]}function Un(a,h){var m;return a&&(l(h)?m=oi(a):m=Gn(a,h),m?gr=m:typeof console<"u"&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),gr._abbr}function Gn(a,h){if(h!==null){var m,b=Cl;if(h.abbr=a,it[a]!=null)Te("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),b=it[a]._config;else if(h.parentLocale!=null)if(it[h.parentLocale]!=null)b=it[h.parentLocale]._config;else if(m=bi(h.parentLocale),m!=null)b=m._config;else return mn[h.parentLocale]||(mn[h.parentLocale]=[]),mn[h.parentLocale].push({name:a,config:h}),null;return it[a]=new Vt(St(b,h)),mn[a]&&mn[a].forEach(function(C){Gn(C.name,C.config)}),Un(a),it[a]}else return delete it[a],null}function vu(a,h){if(h!=null){var m,b,C=Cl;it[a]!=null&&it[a].parentLocale!=null?it[a].set(St(it[a]._config,h)):(b=bi(a),b!=null&&(C=b._config),h=St(C,h),b==null&&(h.abbr=a),m=new Vt(h),m.parentLocale=it[a],it[a]=m),Un(a)}else it[a]!=null&&(it[a].parentLocale!=null?(it[a]=it[a].parentLocale,a===Un()&&Un(a)):it[a]!=null&&delete it[a]);return it[a]}function oi(a){var h;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return gr;if(!i(a)){if(h=bi(a),h)return h;a=[a]}return Yn(a)}function oa(){return Ge(it)}function Ys(a){var h,m=a._a;return m&&D(a).overflow===-2&&(h=m[En]<0||m[En]>11?En:m[Tn]<1||m[Tn]>ur(m[re],m[En])?Tn:m[Ot]<0||m[Ot]>24||m[Ot]===24&&(m[on]!==0||m[Bn]!==0||m[ri]!==0)?Ot:m[on]<0||m[on]>59?on:m[Bn]<0||m[Bn]>59?Bn:m[ri]<0||m[ri]>999?ri:-1,D(a)._overflowDayOfYear&&(h<re||h>Tn)&&(h=Tn),D(a)._overflowWeeks&&h===-1&&(h=lu),D(a)._overflowWeekday&&h===-1&&(h=cu),D(a).overflow=h),a}var aa=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bu=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,os=/Z|[+-]\d\d(?::?\d\d)?/,yr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],la=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Dl=/^\/?Date\((-?\d+)/i,_u=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,as={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function kl(a){var h,m,b=a._i,C=aa.exec(b)||bu.exec(b),O,H,fe,Ae,$e=yr.length,cn=la.length;if(C){for(D(a).iso=!0,h=0,m=$e;h<m;h++)if(yr[h][1].exec(C[1])){H=yr[h][0],O=yr[h][2]!==!1;break}if(H==null){a._isValid=!1;return}if(C[3]){for(h=0,m=cn;h<m;h++)if(la[h][1].exec(C[3])){fe=(C[2]||" ")+la[h][0];break}if(fe==null){a._isValid=!1;return}}if(!O&&fe!=null){a._isValid=!1;return}if(C[4])if(os.exec(C[4]))Ae="Z";else{a._isValid=!1;return}a._f=H+(fe||"")+(Ae||""),ls(a)}else a._isValid=!1}function xu(a,h,m,b,C,O){var H=[wu(a),es.indexOf(h),parseInt(m,10),parseInt(b,10),parseInt(C,10)];return O&&H.push(parseInt(O,10)),H}function wu(a){var h=parseInt(a,10);return h<=49?2e3+h:h<=999?1900+h:h}function Us(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Gs(a,h,m){if(a){var b=ml.indexOf(a),C=new Date(h[0],h[1],h[2]).getDay();if(b!==C)return D(m).weekdayMismatch=!0,m._isValid=!1,!1}return!0}function ca(a,h,m){if(a)return as[a];if(h)return 0;var b=parseInt(m,10),C=b%100,O=(b-C)/100;return O*60+C}function El(a){var h=_u.exec(Us(a._i)),m;if(h){if(m=xu(h[4],h[3],h[2],h[5],h[6],h[7]),!Gs(h[1],m,a))return;a._a=m,a._tzm=ca(h[8],h[9],h[10]),a._d=hr.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),D(a).rfc2822=!0}else a._isValid=!1}function Cu(a){var h=Dl.exec(a._i);if(h!==null){a._d=new Date(+h[1]);return}if(kl(a),a._isValid===!1)delete a._isValid;else return;if(El(a),a._isValid===!1)delete a._isValid;else return;a._strict?a._isValid=!1:n.createFromInputFallback(a)}n.createFromInputFallback=J("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});function vr(a,h,m){return a??h??m}function Su(a){var h=new Date(n.now());return a._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function ua(a){var h,m,b=[],C,O,H;if(!a._d){for(C=Su(a),a._w&&a._a[Tn]==null&&a._a[En]==null&&da(a),a._dayOfYear!=null&&(H=vr(a._a[re],C[re]),(a._dayOfYear>Wn(H)||a._dayOfYear===0)&&(D(a)._overflowDayOfYear=!0),m=hr(H,0,a._dayOfYear),a._a[En]=m.getUTCMonth(),a._a[Tn]=m.getUTCDate()),h=0;h<3&&a._a[h]==null;++h)a._a[h]=b[h]=C[h];for(;h<7;h++)a._a[h]=b[h]=a._a[h]==null?h===2?1:0:a._a[h];a._a[Ot]===24&&a._a[on]===0&&a._a[Bn]===0&&a._a[ri]===0&&(a._nextDay=!0,a._a[Ot]=0),a._d=(a._useUTC?hr:ea).apply(null,b),O=a._useUTC?a._d.getUTCDay():a._d.getDay(),a._tzm!=null&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Ot]=24),a._w&&typeof a._w.d<"u"&&a._w.d!==O&&(D(a).weekdayMismatch=!0)}}function da(a){var h,m,b,C,O,H,fe,Ae,$e;h=a._w,h.GG!=null||h.W!=null||h.E!=null?(O=1,H=4,m=vr(h.GG,a._a[re],an(ot(),1,4).year),b=vr(h.W,1),C=vr(h.E,1),(C<1||C>7)&&(Ae=!0)):(O=a._locale._week.dow,H=a._locale._week.doy,$e=an(ot(),O,H),m=vr(h.gg,a._a[re],$e.year),b=vr(h.w,$e.week),h.d!=null?(C=h.d,(C<0||C>6)&&(Ae=!0)):h.e!=null?(C=h.e+O,(h.e<0||h.e>6)&&(Ae=!0)):C=O),b<1||b>zn(m,O,H)?D(a)._overflowWeeks=!0:Ae!=null?D(a)._overflowWeekday=!0:(fe=js(m,b,C,O,H),a._a[re]=fe.year,a._dayOfYear=fe.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function ls(a){if(a._f===n.ISO_8601){kl(a);return}if(a._f===n.RFC_2822){El(a);return}a._a=[],D(a).empty=!0;var h=""+a._i,m,b,C,O,H,fe=h.length,Ae=0,$e,cn;for(C=Es(a._f,a._locale).match(bt)||[],cn=C.length,m=0;m<cn;m++)O=C[m],b=(h.match(Xo(O,a))||[])[0],b&&(H=h.substr(0,h.indexOf(b)),H.length>0&&D(a).unusedInput.push(H),h=h.slice(h.indexOf(b)+b.length),Ae+=b.length),Gt[O]?(b?D(a).empty=!1:D(a).unusedTokens.push(O),Oi(O,b,a)):a._strict&&!b&&D(a).unusedTokens.push(O);D(a).charsLeftOver=fe-Ae,h.length>0&&D(a).unusedInput.push(h),a._a[Ot]<=12&&D(a).bigHour===!0&&a._a[Ot]>0&&(D(a).bigHour=void 0),D(a).parsedDateParts=a._a.slice(0),D(a).meridiem=a._meridiem,a._a[Ot]=Tl(a._locale,a._a[Ot],a._meridiem),$e=D(a).era,$e!==null&&(a._a[re]=a._locale.erasConvertYear($e,a._a[re])),ua(a),Ys(a)}function Tl(a,h,m){var b;return m==null?h:a.meridiemHour!=null?a.meridiemHour(h,m):(a.isPM!=null&&(b=a.isPM(m),b&&h<12&&(h+=12),!b&&h===12&&(h=0)),h)}function Mu(a){var h,m,b,C,O,H,fe=!1,Ae=a._f.length;if(Ae===0){D(a).invalidFormat=!0,a._d=new Date(NaN);return}for(C=0;C<Ae;C++)O=0,H=!1,h=ee({},a),a._useUTC!=null&&(h._useUTC=a._useUTC),h._f=a._f[C],ls(h),A(h)&&(H=!0),O+=D(h).charsLeftOver,O+=D(h).unusedTokens.length*10,D(h).score=O,fe?O<b&&(b=O,m=h):(b==null||O<b||H)&&(b=O,m=h,H&&(fe=!0));_(a,m||h)}function $s(a){if(!a._d){var h=Ko(a._i),m=h.day===void 0?h.date:h.day;a._a=g([h.year,h.month,m,h.hour,h.minute,h.second,h.millisecond],function(b){return b&&parseInt(b,10)}),ua(a)}}function Ks(a){var h=new Y(Ys(Al(a)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function Al(a){var h=a._i,m=a._f;return a._locale=a._locale||oi(a._l),h===null||m===void 0&&h===""?B({nullInput:!0}):(typeof h=="string"&&(a._i=h=a._locale.preparse(h)),Q(h)?new Y(Ys(h)):(f(h)?a._d=h:i(m)?Mu(a):m?ls(a):Du(a),A(a)||(a._d=null),a))}function Du(a){var h=a._i;l(h)?a._d=new Date(n.now()):f(h)?a._d=new Date(h.valueOf()):typeof h=="string"?Cu(a):i(h)?(a._a=g(h.slice(0),function(m){return parseInt(m,10)}),ua(a)):r(h)?$s(a):d(h)?a._d=new Date(h):n.createFromInputFallback(a)}function cs(a,h,m,b,C){var O={};return(h===!0||h===!1)&&(b=h,h=void 0),(m===!0||m===!1)&&(b=m,m=void 0),(r(a)&&o(a)||i(a)&&a.length===0)&&(a=void 0),O._isAMomentObject=!0,O._useUTC=O._isUTC=C,O._l=m,O._i=a,O._f=h,O._strict=b,Ks(O)}function ot(a,h,m,b){return cs(a,h,m,b,!1)}var ku=J("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=ot.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:B()}),Eu=J("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=ot.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:B()});function qs(a,h){var m,b;if(h.length===1&&i(h[0])&&(h=h[0]),!h.length)return ot();for(m=h[0],b=1;b<h.length;++b)(!h[b].isValid()||h[b][a](m))&&(m=h[b]);return m}function ha(){var a=[].slice.call(arguments,0);return qs("isBefore",a)}function Tu(){var a=[].slice.call(arguments,0);return qs("isAfter",a)}var Au=function(){return Date.now?Date.now():+new Date},us=["year","quarter","month","week","day","hour","minute","second","millisecond"];function fa(a){var h,m=!1,b,C=us.length;for(h in a)if(s(a,h)&&!(Mt.call(us,h)!==-1&&(a[h]==null||!isNaN(a[h]))))return!1;for(b=0;b<C;++b)if(a[us[b]]){if(m)return!1;parseFloat(a[us[b]])!==Ve(a[us[b]])&&(m=!0)}return!0}function Pu(){return this._isValid}function pa(){return An(NaN)}function br(a){var h=Ko(a),m=h.year||0,b=h.quarter||0,C=h.month||0,O=h.week||h.isoWeek||0,H=h.day||0,fe=h.hour||0,Ae=h.minute||0,$e=h.second||0,cn=h.millisecond||0;this._isValid=fa(h),this._milliseconds=+cn+$e*1e3+Ae*6e4+fe*1e3*60*60,this._days=+H+O*7,this._months=+C+b*3+m*12,this._data={},this._locale=oi(),this._bubble()}function It(a){return a instanceof br}function Li(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function ds(a,h,m){var b=Math.min(a.length,h.length),C=Math.abs(a.length-h.length),O=0,H;for(H=0;H<b;H++)(m&&a[H]!==h[H]||!m&&Ve(a[H])!==Ve(h[H]))&&O++;return O+C}function ma(a,h){ge(a,0,0,function(){var m=this.utcOffset(),b="+";return m<0&&(m=-m,b="-"),b+Ze(~~(m/60),2)+h+Ze(~~m%60,2)})}ma("Z",":"),ma("ZZ",""),de("Z",Xr),de("ZZ",Xr),se(["Z","ZZ"],function(a,h,m){m._useUTC=!0,m._tzm=Qs(Xr,a)});var Xs=/([\+\-]|\d\d)/gi;function Qs(a,h){var m=(h||"").match(a),b,C,O;return m===null?null:(b=m[m.length-1]||[],C=(b+"").match(Xs)||["-",0,0],O=+(C[1]*60)+Ve(C[2]),O===0?0:C[0]==="+"?O:-O)}function Zs(a,h){var m,b;return h._isUTC?(m=h.clone(),b=(Q(a)||f(a)?a.valueOf():ot(a).valueOf())-m.valueOf(),m._d.setTime(m._d.valueOf()+b),n.updateOffset(m,!1),m):ot(a).local()}function _r(a){return-Math.round(a._d.getTimezoneOffset())}n.updateOffset=function(){};function ga(a,h,m){var b=this._offset||0,C;if(!this.isValid())return a!=null?this:NaN;if(a!=null){if(typeof a=="string"){if(a=Qs(Xr,a),a===null)return this}else Math.abs(a)<16&&!m&&(a=a*60);return!this._isUTC&&h&&(C=_r(this)),this._offset=a,this._isUTC=!0,C!=null&&this.add(C,"m"),b!==a&&(!h||this._changeInProgress?wa(this,An(a-b,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?b:_r(this)}function Ni(a,h){return a!=null?(typeof a!="string"&&(a=-a),this.utcOffset(a,h),this):-this.utcOffset()}function ya(a){return this.utcOffset(0,a)}function va(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(_r(this),"m")),this}function Js(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var a=Qs(cl,this._i);a!=null?this.utcOffset(a):this.utcOffset(0,!0)}return this}function ba(a){return this.isValid()?(a=a?ot(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function Pl(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ou(){if(!l(this._isDSTShifted))return this._isDSTShifted;var a={},h;return ee(a,this),a=Al(a),a._a?(h=a._isUTC?w(a._a):ot(a._a),this._isDSTShifted=this.isValid()&&ds(a._a,h.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _a(){return this.isValid()?!this._isUTC:!1}function Fu(){return this.isValid()?this._isUTC:!1}function xa(){return this.isValid()?this._isUTC&&this._offset===0:!1}var eo=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Iu=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function An(a,h){var m=a,b=null,C,O,H;return It(a)?m={ms:a._milliseconds,d:a._days,M:a._months}:d(a)||!isNaN(+a)?(m={},h?m[h]=+a:m.milliseconds=+a):(b=eo.exec(a))?(C=b[1]==="-"?-1:1,m={y:0,d:Ve(b[Tn])*C,h:Ve(b[Ot])*C,m:Ve(b[on])*C,s:Ve(b[Bn])*C,ms:Ve(Li(b[ri]*1e3))*C}):(b=Iu.exec(a))?(C=b[1]==="-"?-1:1,m={y:ai(b[2],C),M:ai(b[3],C),w:ai(b[4],C),d:ai(b[5],C),h:ai(b[6],C),m:ai(b[7],C),s:ai(b[8],C)}):m==null?m={}:typeof m=="object"&&("from"in m||"to"in m)&&(H=Ru(ot(m.from),ot(m.to)),m={},m.ms=H.milliseconds,m.M=H.months),O=new br(m),It(a)&&s(a,"_locale")&&(O._locale=a._locale),It(a)&&s(a,"_isValid")&&(O._isValid=a._isValid),O}An.fn=br.prototype,An.invalid=pa;function ai(a,h){var m=a&&parseFloat(a.replace(",","."));return(isNaN(m)?0:m)*h}function to(a,h){var m={};return m.months=h.month()-a.month()+(h.year()-a.year())*12,a.clone().add(m.months,"M").isAfter(h)&&--m.months,m.milliseconds=+h-+a.clone().add(m.months,"M"),m}function Ru(a,h){var m;return a.isValid()&&h.isValid()?(h=Zs(h,a),a.isBefore(h)?m=to(a,h):(m=to(h,a),m.milliseconds=-m.milliseconds,m.months=-m.months),m):{milliseconds:0,months:0}}function Ol(a,h){return function(m,b){var C,O;return b!==null&&!isNaN(+b)&&(Te(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),O=m,m=b,b=O),C=An(m,b),wa(this,C,a),this}}function wa(a,h,m,b){var C=h._milliseconds,O=Li(h._days),H=Li(h._months);a.isValid()&&(b=b??!0,H&&si(a,Jr(a,"Month")+H*m),O&&ul(a,"Date",Jr(a,"Date")+O*m),C&&a._d.setTime(a._d.valueOf()+C*m),b&&n.updateOffset(a,O||H))}var Vu=Ol(1,"add"),Fl=Ol(-1,"subtract");function Ca(a){return typeof a=="string"||a instanceof String}function Lu(a){return Q(a)||f(a)||Ca(a)||d(a)||Il(a)||Nu(a)||a===null||a===void 0}function Nu(a){var h=r(a)&&!o(a),m=!1,b=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],C,O,H=b.length;for(C=0;C<H;C+=1)O=b[C],m=m||s(a,O);return h&&m}function Il(a){var h=i(a),m=!1;return h&&(m=a.filter(function(b){return!d(b)&&Ca(a)}).length===0),h&&m}function ju(a){var h=r(a)&&!o(a),m=!1,b=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],C,O;for(C=0;C<b.length;C+=1)O=b[C],m=m||s(a,O);return h&&m}function Bu(a,h){var m=a.diff(h,"days",!0);return m<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"}function Sa(a,h){arguments.length===1&&(arguments[0]?Lu(arguments[0])?(a=arguments[0],h=void 0):ju(arguments[0])&&(h=arguments[0],a=void 0):(a=void 0,h=void 0));var m=a||ot(),b=Zs(m,this).startOf("day"),C=n.calendarFormat(this,b)||"sameElse",O=h&&(Me(h[C])?h[C].call(this,m):h[C]);return this.format(O||this.localeData().calendar(C,this,ot(m)))}function Rl(){return new Y(this)}function Vl(a,h){var m=Q(a)?a:ot(a);return this.isValid()&&m.isValid()?(h=nn(h)||"millisecond",h==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(h).valueOf()):!1}function Wu(a,h){var m=Q(a)?a:ot(a);return this.isValid()&&m.isValid()?(h=nn(h)||"millisecond",h==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(h).valueOf()<m.valueOf()):!1}function Hu(a,h,m,b){var C=Q(a)?a:ot(a),O=Q(h)?h:ot(h);return this.isValid()&&C.isValid()&&O.isValid()?(b=b||"()",(b[0]==="("?this.isAfter(C,m):!this.isBefore(C,m))&&(b[1]===")"?this.isBefore(O,m):!this.isAfter(O,m))):!1}function zu(a,h){var m=Q(a)?a:ot(a),b;return this.isValid()&&m.isValid()?(h=nn(h)||"millisecond",h==="millisecond"?this.valueOf()===m.valueOf():(b=m.valueOf(),this.clone().startOf(h).valueOf()<=b&&b<=this.clone().endOf(h).valueOf())):!1}function Yu(a,h){return this.isSame(a,h)||this.isAfter(a,h)}function Uu(a,h){return this.isSame(a,h)||this.isBefore(a,h)}function Gu(a,h,m){var b,C,O;if(!this.isValid())return NaN;if(b=Zs(a,this),!b.isValid())return NaN;switch(C=(b.utcOffset()-this.utcOffset())*6e4,h=nn(h),h){case"year":O=no(this,b)/12;break;case"month":O=no(this,b);break;case"quarter":O=no(this,b)/3;break;case"second":O=(this-b)/1e3;break;case"minute":O=(this-b)/6e4;break;case"hour":O=(this-b)/36e5;break;case"day":O=(this-b-C)/864e5;break;case"week":O=(this-b-C)/6048e5;break;default:O=this-b}return m?O:qt(O)}function no(a,h){if(a.date()<h.date())return-no(h,a);var m=(h.year()-a.year())*12+(h.month()-a.month()),b=a.clone().add(m,"months"),C,O;return h-b<0?(C=a.clone().add(m-1,"months"),O=(h-b)/(b-C)):(C=a.clone().add(m+1,"months"),O=(h-b)/(C-b)),-(m+O)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function io(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function li(a){if(!this.isValid())return null;var h=a!==!0,m=h?this.clone().utc():this;return m.year()<0||m.year()>9999?Pt(m,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Me(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Pt(m,"Z")):Pt(m,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function $u(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",h="",m,b,C,O;return this.isLocal()||(a=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z"),m="["+a+'("]',b=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",C="-MM-DD[T]HH:mm:ss.SSS",O=h+'[")]',this.format(m+b+C+O)}function Ku(a){a||(a=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var h=Pt(this,a);return this.localeData().postformat(h)}function ro(a,h){return this.isValid()&&(Q(a)&&a.isValid()||ot(a).isValid())?An({to:this,from:a}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function Ll(a){return this.from(ot(),a)}function ji(a,h){return this.isValid()&&(Q(a)&&a.isValid()||ot(a).isValid())?An({from:this,to:a}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function Ma(a){return this.to(ot(),a)}function ci(a){var h;return a===void 0?this._locale._abbr:(h=oi(a),h!=null&&(this._locale=h),this)}var ui=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return a===void 0?this.localeData():this.locale(a)});function so(){return this._locale}var oo=1e3,xr=60*oo,ao=60*xr,Nl=(365*400+97)*24*ao;function c(a,h){return(a%h+h)%h}function u(a,h,m){return a<100&&a>=0?new Date(a+400,h,m)-Nl:new Date(a,h,m).valueOf()}function p(a,h,m){return a<100&&a>=0?Date.UTC(a+400,h,m)-Nl:Date.UTC(a,h,m)}function y(a){var h,m;if(a=nn(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?p:u,a){case"year":h=m(this.year(),0,1);break;case"quarter":h=m(this.year(),this.month()-this.month()%3,1);break;case"month":h=m(this.year(),this.month(),1);break;case"week":h=m(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":h=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":h=m(this.year(),this.month(),this.date());break;case"hour":h=this._d.valueOf(),h-=c(h+(this._isUTC?0:this.utcOffset()*xr),ao);break;case"minute":h=this._d.valueOf(),h-=c(h,xr);break;case"second":h=this._d.valueOf(),h-=c(h,oo);break}return this._d.setTime(h),n.updateOffset(this,!0),this}function v(a){var h,m;if(a=nn(a),a===void 0||a==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?p:u,a){case"year":h=m(this.year()+1,0,1)-1;break;case"quarter":h=m(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":h=m(this.year(),this.month()+1,1)-1;break;case"week":h=m(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":h=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":h=m(this.year(),this.month(),this.date()+1)-1;break;case"hour":h=this._d.valueOf(),h+=ao-c(h+(this._isUTC?0:this.utcOffset()*xr),ao)-1;break;case"minute":h=this._d.valueOf(),h+=xr-c(h,xr)-1;break;case"second":h=this._d.valueOf(),h+=oo-c(h,oo)-1;break}return this._d.setTime(h),n.updateOffset(this,!0),this}function x(){return this._d.valueOf()-(this._offset||0)*6e4}function M(){return Math.floor(this.valueOf()/1e3)}function k(){return new Date(this.valueOf())}function E(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function P(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function V(){return this.isValid()?this.toISOString():null}function F(){return A(this)}function z(){return _({},D(this))}function ne(){return D(this).overflow}function I(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ge("N",0,0,"eraAbbr"),ge("NN",0,0,"eraAbbr"),ge("NNN",0,0,"eraAbbr"),ge("NNNN",0,0,"eraName"),ge("NNNNN",0,0,"eraNarrow"),ge("y",["y",1],"yo","eraYear"),ge("y",["yy",2],0,"eraYear"),ge("y",["yyy",3],0,"eraYear"),ge("y",["yyyy",4],0,"eraYear"),de("N",be),de("NN",be),de("NNN",be),de("NNNN",Fe),de("NNNNN",he),se(["N","NN","NNN","NNNN","NNNNN"],function(a,h,m,b){var C=m._locale.erasParse(a,b,m._strict);C?D(m).era=C:D(m).invalidEra=a}),de("y",Pi),de("yy",Pi),de("yyy",Pi),de("yyyy",Pi),de("yo",Pe),se(["y","yy","yyy","yyyy"],re),se(["yo"],function(a,h,m,b){var C;m._locale._eraYearOrdinalRegex&&(C=a.match(m._locale._eraYearOrdinalRegex)),m._locale.eraYearOrdinalParse?h[re]=m._locale.eraYearOrdinalParse(a,C):h[re]=parseInt(a,10)});function N(a,h){var m,b,C,O=this._eras||oi("en")._eras;for(m=0,b=O.length;m<b;++m){switch(typeof O[m].since){case"string":C=n(O[m].since).startOf("day"),O[m].since=C.valueOf();break}switch(typeof O[m].until){case"undefined":O[m].until=1/0;break;case"string":C=n(O[m].until).startOf("day").valueOf(),O[m].until=C.valueOf();break}}return O}function W(a,h,m){var b,C,O=this.eras(),H,fe,Ae;for(a=a.toUpperCase(),b=0,C=O.length;b<C;++b)if(H=O[b].name.toUpperCase(),fe=O[b].abbr.toUpperCase(),Ae=O[b].narrow.toUpperCase(),m)switch(h){case"N":case"NN":case"NNN":if(fe===a)return O[b];break;case"NNNN":if(H===a)return O[b];break;case"NNNNN":if(Ae===a)return O[b];break}else if([H,fe,Ae].indexOf(a)>=0)return O[b]}function q(a,h){var m=a.since<=a.until?1:-1;return h===void 0?n(a.since).year():n(a.since).year()+(h-a.offset)*m}function $(){var a,h,m,b=this.localeData().eras();for(a=0,h=b.length;a<h;++a)if(m=this.clone().startOf("day").valueOf(),b[a].since<=m&&m<=b[a].until||b[a].until<=m&&m<=b[a].since)return b[a].name;return""}function K(){var a,h,m,b=this.localeData().eras();for(a=0,h=b.length;a<h;++a)if(m=this.clone().startOf("day").valueOf(),b[a].since<=m&&m<=b[a].until||b[a].until<=m&&m<=b[a].since)return b[a].narrow;return""}function te(){var a,h,m,b=this.localeData().eras();for(a=0,h=b.length;a<h;++a)if(m=this.clone().startOf("day").valueOf(),b[a].since<=m&&m<=b[a].until||b[a].until<=m&&m<=b[a].since)return b[a].abbr;return""}function U(){var a,h,m,b,C=this.localeData().eras();for(a=0,h=C.length;a<h;++a)if(m=C[a].since<=C[a].until?1:-1,b=this.clone().startOf("day").valueOf(),C[a].since<=b&&b<=C[a].until||C[a].until<=b&&b<=C[a].since)return(this.year()-n(C[a].since).year())*m+C[a].offset;return this.year()}function oe(a){return s(this,"_erasNameRegex")||Se.call(this),a?this._erasNameRegex:this._erasRegex}function ce(a){return s(this,"_erasAbbrRegex")||Se.call(this),a?this._erasAbbrRegex:this._erasRegex}function le(a){return s(this,"_erasNarrowRegex")||Se.call(this),a?this._erasNarrowRegex:this._erasRegex}function be(a,h){return h.erasAbbrRegex(a)}function Fe(a,h){return h.erasNameRegex(a)}function he(a,h){return h.erasNarrowRegex(a)}function Pe(a,h){return h._eraYearOrdinalRegex||Pi}function Se(){var a=[],h=[],m=[],b=[],C,O,H,fe,Ae,$e=this.eras();for(C=0,O=$e.length;C<O;++C)H=Kt($e[C].name),fe=Kt($e[C].abbr),Ae=Kt($e[C].narrow),h.push(H),a.push(fe),m.push(Ae),b.push(H),b.push(fe),b.push(Ae);this._erasRegex=new RegExp("^("+b.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+h.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+m.join("|")+")","i")}ge(0,["gg",2],0,function(){return this.weekYear()%100}),ge(0,["GG",2],0,function(){return this.isoWeekYear()%100});function je(a,h){ge(0,[a,a.length],0,h)}je("gggg","weekYear"),je("ggggg","weekYear"),je("GGGG","isoWeekYear"),je("GGGGG","isoWeekYear"),de("G",lr),de("g",lr),de("GG",ht,rn),de("gg",ht,rn),de("GGGG",Fs,qo),de("gggg",Fs,qo),de("GGGGG",gi,Ps),de("ggggg",gi,Ps),ii(["gggg","ggggg","GGGG","GGGGG"],function(a,h,m,b){h[b.substr(0,2)]=Ve(a)}),ii(["gg","GG"],function(a,h,m,b){h[b]=n.parseTwoDigitYear(a)});function Ce(a){return di.call(this,a,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function xt(a){return di.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function zt(){return zn(this.year(),1,4)}function $n(){return zn(this.isoWeekYear(),1,4)}function Zt(){var a=this.localeData()._week;return zn(this.year(),a.dow,a.doy)}function gn(){var a=this.localeData()._week;return zn(this.weekYear(),a.dow,a.doy)}function di(a,h,m,b,C){var O;return a==null?an(this,b,C).year:(O=zn(a,b,C),h>O&&(h=O),Kn.call(this,a,h,m,b,C))}function Kn(a,h,m,b,C){var O=js(a,h,m,b,C),H=hr(O.year,0,O.dayOfYear);return this.year(H.getUTCFullYear()),this.month(H.getUTCMonth()),this.date(H.getUTCDate()),this}ge("Q",0,"Qo","quarter"),de("Q",ar),se("Q",function(a,h){h[En]=(Ve(a)-1)*3});function hs(a){return a==null?Math.ceil((this.month()+1)/3):this.month((a-1)*3+this.month()%3)}ge("D",["DD",2],"Do","date"),de("D",ht,pn),de("DD",ht,rn),de("Do",function(a,h){return a?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),se(["D","DD"],Tn),se("Do",function(a,h){h[Tn]=Ve(a.match(ht)[0])});var yn=cr("Date",!0);ge("DDD",["DDDD",3],"DDDo","dayOfYear"),de("DDD",sn),de("DDDD",mi),se(["DDD","DDDD"],function(a,h,m){m._dayOfYear=Ve(a)});function lo(a){var h=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return a==null?h:this.add(a-h,"d")}ge("m",["mm",2],0,"minute"),de("m",ht,Zr),de("mm",ht,rn),se(["m","mm"],on);var qu=cr("Minutes",!1);ge("s",["ss",2],0,"second"),de("s",ht,Zr),de("ss",ht,rn),se(["s","ss"],Bn);var v0=cr("Seconds",!1);ge("S",0,0,function(){return~~(this.millisecond()/100)}),ge(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ge(0,["SSS",3],0,"millisecond"),ge(0,["SSSS",4],0,function(){return this.millisecond()*10}),ge(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ge(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ge(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ge(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ge(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),de("S",sn,ar),de("SS",sn,rn),de("SSS",sn,mi);var wr,zh;for(wr="SSSS";wr.length<=9;wr+="S")de(wr,Pi);function b0(a,h){h[ri]=Ve(("0."+a)*1e3)}for(wr="S";wr.length<=9;wr+="S")se(wr,b0);zh=cr("Milliseconds",!1),ge("z",0,0,"zoneAbbr"),ge("zz",0,0,"zoneName");function _0(){return this._isUTC?"UTC":""}function x0(){return this._isUTC?"Coordinated Universal Time":""}var ie=Y.prototype;ie.add=Vu,ie.calendar=Sa,ie.clone=Rl,ie.diff=Gu,ie.endOf=v,ie.format=Ku,ie.from=ro,ie.fromNow=Ll,ie.to=ji,ie.toNow=Ma,ie.get=Vs,ie.invalidAt=ne,ie.isAfter=Vl,ie.isBefore=Wu,ie.isBetween=Hu,ie.isSame=zu,ie.isSameOrAfter=Yu,ie.isSameOrBefore=Uu,ie.isValid=F,ie.lang=ui,ie.locale=ci,ie.localeData=so,ie.max=Eu,ie.min=ku,ie.parsingFlags=z,ie.set=pt,ie.startOf=y,ie.subtract=Fl,ie.toArray=E,ie.toObject=P,ie.toDate=k,ie.toISOString=li,ie.inspect=$u,typeof Symbol<"u"&&Symbol.for!=null&&(ie[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ie.toJSON=V,ie.toString=io,ie.unix=M,ie.valueOf=x,ie.creationData=I,ie.eraName=$,ie.eraNarrow=K,ie.eraAbbr=te,ie.eraYear=U,ie.year=Ii,ie.isLeapYear=Qo,ie.weekYear=Ce,ie.isoWeekYear=xt,ie.quarter=ie.quarters=hs,ie.month=Zo,ie.daysInMonth=Ri,ie.week=ie.weeks=Vi,ie.isoWeek=ie.isoWeeks=fl,ie.weeksInYear=Zt,ie.weeksInWeekYear=gn,ie.isoWeeksInYear=zt,ie.isoWeeksInISOWeekYear=$n,ie.date=yn,ie.day=ie.days=pu,ie.weekday=Hs,ie.isoWeekday=bl,ie.dayOfYear=lo,ie.hour=ie.hours=gu,ie.minute=ie.minutes=qu,ie.second=ie.seconds=v0,ie.millisecond=ie.milliseconds=zh,ie.utcOffset=ga,ie.utc=ya,ie.local=va,ie.parseZone=Js,ie.hasAlignedHourOffset=ba,ie.isDST=Pl,ie.isLocal=_a,ie.isUtcOffset=Fu,ie.isUtc=xa,ie.isUTC=xa,ie.zoneAbbr=_0,ie.zoneName=x0,ie.dates=J("dates accessor is deprecated. Use date instead.",yn),ie.months=J("months accessor is deprecated. Use month instead",Zo),ie.years=J("years accessor is deprecated. Use year instead",Ii),ie.zone=J("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ni),ie.isDSTShifted=J("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ou);function w0(a){return ot(a*1e3)}function C0(){return ot.apply(null,arguments).parseZone()}function Yh(a){return a}var Xe=Vt.prototype;Xe.calendar=nt,Xe.longDateFormat=ol,Xe.invalidDate=su,Xe.ordinal=Ts,Xe.preparse=Yh,Xe.postformat=Yh,Xe.relativeTime=$o,Xe.pastFuture=ou,Xe.set=Re,Xe.eras=N,Xe.erasParse=W,Xe.erasConvertYear=q,Xe.erasAbbrRegex=ce,Xe.erasNameRegex=oe,Xe.erasNarrowRegex=le,Xe.months=vi,Xe.monthsShort=Ns,Xe.monthsParse=du,Xe.monthsRegex=Jo,Xe.monthsShortRegex=hl,Xe.week=fr,Xe.firstDayOfYear=na,Xe.firstDayOfWeek=ta,Xe.weekdays=ns,Xe.weekdaysMin=pr,Xe.weekdaysShort=fu,Xe.weekdaysParse=ra,Xe.weekdaysRegex=zs,Xe.weekdaysShortRegex=_l,Xe.weekdaysMinRegex=is,Xe.isPM=ln,Xe.meridiem=yu;function jl(a,h,m,b){var C=oi(),O=w().set(b,h);return C[m](O,a)}function Uh(a,h,m){if(d(a)&&(h=a,a=void 0),a=a||"",h!=null)return jl(a,h,m,"month");var b,C=[];for(b=0;b<12;b++)C[b]=jl(a,b,m,"month");return C}function Xu(a,h,m,b){typeof a=="boolean"?(d(h)&&(m=h,h=void 0),h=h||""):(h=a,m=h,a=!1,d(h)&&(m=h,h=void 0),h=h||"");var C=oi(),O=a?C._week.dow:0,H,fe=[];if(m!=null)return jl(h,(m+O)%7,b,"day");for(H=0;H<7;H++)fe[H]=jl(h,(H+O)%7,b,"day");return fe}function S0(a,h){return Uh(a,h,"months")}function M0(a,h){return Uh(a,h,"monthsShort")}function D0(a,h,m){return Xu(a,h,m,"weekdays")}function k0(a,h,m){return Xu(a,h,m,"weekdaysShort")}function E0(a,h,m){return Xu(a,h,m,"weekdaysMin")}Un("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var h=a%10,m=Ve(a%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th";return a+m}}),n.lang=J("moment.lang is deprecated. Use moment.locale instead.",Un),n.langData=J("moment.langData is deprecated. Use moment.localeData instead.",oi);var Bi=Math.abs;function T0(){var a=this._data;return this._milliseconds=Bi(this._milliseconds),this._days=Bi(this._days),this._months=Bi(this._months),a.milliseconds=Bi(a.milliseconds),a.seconds=Bi(a.seconds),a.minutes=Bi(a.minutes),a.hours=Bi(a.hours),a.months=Bi(a.months),a.years=Bi(a.years),this}function Gh(a,h,m,b){var C=An(h,m);return a._milliseconds+=b*C._milliseconds,a._days+=b*C._days,a._months+=b*C._months,a._bubble()}function A0(a,h){return Gh(this,a,h,1)}function P0(a,h){return Gh(this,a,h,-1)}function $h(a){return a<0?Math.floor(a):Math.ceil(a)}function O0(){var a=this._milliseconds,h=this._days,m=this._months,b=this._data,C,O,H,fe,Ae;return a>=0&&h>=0&&m>=0||a<=0&&h<=0&&m<=0||(a+=$h(Qu(m)+h)*864e5,h=0,m=0),b.milliseconds=a%1e3,C=qt(a/1e3),b.seconds=C%60,O=qt(C/60),b.minutes=O%60,H=qt(O/60),b.hours=H%24,h+=qt(H/24),Ae=qt(Kh(h)),m+=Ae,h-=$h(Qu(Ae)),fe=qt(m/12),m%=12,b.days=h,b.months=m,b.years=fe,this}function Kh(a){return a*4800/146097}function Qu(a){return a*146097/4800}function F0(a){if(!this.isValid())return NaN;var h,m,b=this._milliseconds;if(a=nn(a),a==="month"||a==="quarter"||a==="year")switch(h=this._days+b/864e5,m=this._months+Kh(h),a){case"month":return m;case"quarter":return m/3;case"year":return m/12}else switch(h=this._days+Math.round(Qu(this._months)),a){case"week":return h/7+b/6048e5;case"day":return h+b/864e5;case"hour":return h*24+b/36e5;case"minute":return h*1440+b/6e4;case"second":return h*86400+b/1e3;case"millisecond":return Math.floor(h*864e5)+b;default:throw new Error("Unknown unit "+a)}}function Wi(a){return function(){return this.as(a)}}var qh=Wi("ms"),I0=Wi("s"),R0=Wi("m"),V0=Wi("h"),L0=Wi("d"),N0=Wi("w"),j0=Wi("M"),B0=Wi("Q"),W0=Wi("y"),H0=qh;function z0(){return An(this)}function Y0(a){return a=nn(a),this.isValid()?this[a+"s"]():NaN}function fs(a){return function(){return this.isValid()?this._data[a]:NaN}}var U0=fs("milliseconds"),G0=fs("seconds"),$0=fs("minutes"),K0=fs("hours"),q0=fs("days"),X0=fs("months"),Q0=fs("years");function Z0(){return qt(this.days()/7)}var Hi=Math.round,co={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function J0(a,h,m,b,C){return C.relativeTime(h||1,!!m,a,b)}function ey(a,h,m,b){var C=An(a).abs(),O=Hi(C.as("s")),H=Hi(C.as("m")),fe=Hi(C.as("h")),Ae=Hi(C.as("d")),$e=Hi(C.as("M")),cn=Hi(C.as("w")),zi=Hi(C.as("y")),Cr=O<=m.ss&&["s",O]||O<m.s&&["ss",O]||H<=1&&["m"]||H<m.m&&["mm",H]||fe<=1&&["h"]||fe<m.h&&["hh",fe]||Ae<=1&&["d"]||Ae<m.d&&["dd",Ae];return m.w!=null&&(Cr=Cr||cn<=1&&["w"]||cn<m.w&&["ww",cn]),Cr=Cr||$e<=1&&["M"]||$e<m.M&&["MM",$e]||zi<=1&&["y"]||["yy",zi],Cr[2]=h,Cr[3]=+a>0,Cr[4]=b,J0.apply(null,Cr)}function ty(a){return a===void 0?Hi:typeof a=="function"?(Hi=a,!0):!1}function ny(a,h){return co[a]===void 0?!1:h===void 0?co[a]:(co[a]=h,a==="s"&&(co.ss=h-1),!0)}function iy(a,h){if(!this.isValid())return this.localeData().invalidDate();var m=!1,b=co,C,O;return typeof a=="object"&&(h=a,a=!1),typeof a=="boolean"&&(m=a),typeof h=="object"&&(b=Object.assign({},co,h),h.s!=null&&h.ss==null&&(b.ss=h.s-1)),C=this.localeData(),O=ey(this,!m,b,C),m&&(O=C.pastFuture(+this,O)),C.postformat(O)}var Zu=Math.abs;function uo(a){return(a>0)-(a<0)||+a}function Bl(){if(!this.isValid())return this.localeData().invalidDate();var a=Zu(this._milliseconds)/1e3,h=Zu(this._days),m=Zu(this._months),b,C,O,H,fe=this.asSeconds(),Ae,$e,cn,zi;return fe?(b=qt(a/60),C=qt(b/60),a%=60,b%=60,O=qt(m/12),m%=12,H=a?a.toFixed(3).replace(/\.?0+$/,""):"",Ae=fe<0?"-":"",$e=uo(this._months)!==uo(fe)?"-":"",cn=uo(this._days)!==uo(fe)?"-":"",zi=uo(this._milliseconds)!==uo(fe)?"-":"",Ae+"P"+(O?$e+O+"Y":"")+(m?$e+m+"M":"")+(h?cn+h+"D":"")+(C||b||a?"T":"")+(C?zi+C+"H":"")+(b?zi+b+"M":"")+(a?zi+H+"S":"")):"P0D"}var Ke=br.prototype;Ke.isValid=Pu,Ke.abs=T0,Ke.add=A0,Ke.subtract=P0,Ke.as=F0,Ke.asMilliseconds=qh,Ke.asSeconds=I0,Ke.asMinutes=R0,Ke.asHours=V0,Ke.asDays=L0,Ke.asWeeks=N0,Ke.asMonths=j0,Ke.asQuarters=B0,Ke.asYears=W0,Ke.valueOf=H0,Ke._bubble=O0,Ke.clone=z0,Ke.get=Y0,Ke.milliseconds=U0,Ke.seconds=G0,Ke.minutes=$0,Ke.hours=K0,Ke.days=q0,Ke.weeks=Z0,Ke.months=X0,Ke.years=Q0,Ke.humanize=iy,Ke.toISOString=Bl,Ke.toString=Bl,Ke.toJSON=Bl,Ke.locale=ci,Ke.localeData=so,Ke.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Bl),Ke.lang=ui,ge("X",0,0,"unix"),ge("x",0,0,"valueOf"),de("x",lr),de("X",au),se("X",function(a,h,m){m._d=new Date(parseFloat(a)*1e3)}),se("x",function(a,h,m){m._d=new Date(Ve(a))});return n.version="2.30.1",e(ot),n.fn=ie,n.min=ha,n.max=Tu,n.now=Au,n.utc=w,n.unix=w0,n.months=S0,n.isDate=f,n.locale=Un,n.invalid=B,n.duration=An,n.isMoment=Q,n.weekdays=D0,n.parseZone=C0,n.localeData=oi,n.isDuration=It,n.monthsShort=M0,n.weekdaysMin=E0,n.defineLocale=Gn,n.updateLocale=vu,n.locales=oa,n.weekdaysShort=k0,n.normalizeUnits=nn,n.relativeTimeRounding=ty,n.relativeTimeThreshold=ny,n.calendarFormat=Bu,n.prototype=ie,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var bp=Zh((Sd,Md)=>{"use strict";(function(t,n){typeof Sd=="object"&&typeof Md<"u"?Md.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self,t.Dexie=n())})(Sd,function(){"use strict";var t=function(c,u){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(p[v]=y[v])},t(c,u)};function n(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");t(c,u);function p(){this.constructor=c}c.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}var e=function(){return e=Object.assign||function(u){for(var p,y=1,v=arguments.length;y<v;y++){p=arguments[y];for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(u[x]=p[x])}return u},e.apply(this,arguments)};function i(c,u,p){if(p||arguments.length===2)for(var y=0,v=u.length,x;y<v;y++)(x||!(y in u))&&(x||(x=Array.prototype.slice.call(u,0,y)),x[y]=u[y]);return c.concat(x||Array.prototype.slice.call(u))}var r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,s=Object.keys,o=Array.isArray;typeof Promise<"u"&&!r.Promise&&(r.Promise=Promise);function l(c,u){return typeof u!="object"||s(u).forEach(function(p){c[p]=u[p]}),c}var d=Object.getPrototypeOf,f={}.hasOwnProperty;function g(c,u){return f.call(c,u)}function _(c,u){typeof u=="function"&&(u=u(d(c))),(typeof Reflect>"u"?s:Reflect.ownKeys)(u).forEach(function(p){S(c,p,u[p])})}var w=Object.defineProperty;function S(c,u,p,y){w(c,u,l(p&&g(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},y))}function D(c){return{from:function(u){return c.prototype=Object.create(u.prototype),S(c.prototype,"constructor",c),{extend:_.bind(null,c.prototype)}}}}var T=Object.getOwnPropertyDescriptor;function A(c,u){var p=T(c,u),y;return p||(y=d(c))&&A(y,u)}var B=[].slice;function j(c,u,p){return B.call(c,u,p)}function Z(c,u){return u(c)}function ee(c){if(!c)throw new Error("Assertion Failed")}function Y(c){r.setImmediate?setImmediate(c):setTimeout(c,0)}function Q(c,u){return c.reduce(function(p,y,v){var x=u(y,v);return x&&(p[x[0]]=x[1]),p},{})}function ae(c,u){if(typeof u=="string"&&g(c,u))return c[u];if(!u)return c;if(typeof u!="string"){for(var p=[],y=0,v=u.length;y<v;++y){var x=ae(c,u[y]);p.push(x)}return p}var M=u.indexOf(".");if(M!==-1){var k=c[u.substr(0,M)];return k==null?void 0:ae(k,u.substr(M+1))}}function J(c,u,p){if(!(!c||u===void 0)&&!("isFrozen"in Object&&Object.isFrozen(c)))if(typeof u!="string"&&"length"in u){ee(typeof p!="string"&&"length"in p);for(var y=0,v=u.length;y<v;++y)J(c,u[y],p[y])}else{var x=u.indexOf(".");if(x!==-1){var M=u.substr(0,x),k=u.substr(x+1);if(k==="")p===void 0?o(c)&&!isNaN(parseInt(M))?c.splice(M,1):delete c[M]:c[M]=p;else{var E=c[M];(!E||!g(c,M))&&(E=c[M]={}),J(E,k,p)}}else p===void 0?o(c)&&!isNaN(parseInt(u))?c.splice(u,1):delete c[u]:c[u]=p}}function me(c,u){typeof u=="string"?J(c,u,void 0):"length"in u&&[].map.call(u,function(p){J(c,p,void 0)})}function Te(c){var u={};for(var p in c)g(c,p)&&(u[p]=c[p]);return u}var Me=[].concat;function Re(c){return Me.apply([],c)}var St="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Re([8,16,32,64].map(function(c){return["Int","Uint","Float"].map(function(u){return u+c+"Array"})}))).filter(function(c){return r[c]}),Vt=new Set(St.map(function(c){return r[c]}));function Ge(c){var u={};for(var p in c)if(g(c,p)){var y=c[p];u[p]=!y||typeof y!="object"||Vt.has(y.constructor)?y:Ge(y)}return u}function st(c){for(var u in c)if(g(c,u))return!1;return!0}var nt=null;function Ze(c){nt=new WeakMap;var u=bt(c);return nt=null,u}function bt(c){if(!c||typeof c!="object")return c;var u=nt.get(c);if(u)return u;if(o(c)){u=[],nt.set(c,u);for(var p=0,y=c.length;p<y;++p)u.push(bt(c[p]))}else if(Vt.has(c.constructor))u=c;else{var v=d(c);u=v===Object.prototype?{}:Object.create(v),nt.set(c,u);for(var x in c)g(c,x)&&(u[x]=bt(c[x]))}return u}var kn={}.toString;function Nn(c){return kn.call(c).slice(8,-1)}var Gt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ge=typeof Gt=="symbol"?function(c){var u;return c!=null&&(u=c[Gt])&&u.apply(c)}:function(){return null};function $t(c,u){var p=c.indexOf(u);return p>=0&&c.splice(p,1),p>=0}var fn={};function Pt(c){var u,p,y,v;if(arguments.length===1){if(o(c))return c.slice();if(this===fn&&typeof c=="string")return[c];if(v=ge(c)){for(p=[];y=v.next(),!y.done;)p.push(y.value);return p}if(c==null)return[c];if(u=c.length,typeof u=="number"){for(p=new Array(u);u--;)p[u]=c[u];return p}return[c]}for(u=arguments.length,p=new Array(u);u--;)p[u]=arguments[u];return p}var Es=typeof Symbol<"u"?function(c){return c[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ru=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],ol=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Go=ru.concat(ol),su={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function sr(c,u){this.name=c,this.message=u}D(sr).from(Error).extend({toString:function(){return this.name+": "+this.message}});function al(c,u){return c+". Errors: "+Object.keys(u).map(function(p){return u[p].toString()}).filter(function(p,y,v){return v.indexOf(p)===y}).join(`
`)}function Ts(c,u,p,y){this.failures=u,this.failedKeys=y,this.successCount=p,this.message=al(c,u)}D(Ts).from(sr);function or(c,u){this.name="BulkError",this.failures=Object.keys(u).map(function(p){return u[p]}),this.failuresByPos=u,this.message=al(c,this.failures)}D(or).from(sr);var $o=Go.reduce(function(c,u){return c[u]=u+"Error",c},{}),ou=sr,we=Go.reduce(function(c,u){var p=u+"Error";function y(v,x){this.name=p,v?typeof v=="string"?(this.message="".concat(v).concat(x?`
 `+x:""),this.inner=x||null):typeof v=="object"&&(this.message="".concat(v.name," ").concat(v.message),this.inner=v):(this.message=su[u]||p,this.inner=null)}return D(y).from(ou),c[u]=y,c},{});we.Syntax=SyntaxError,we.Type=TypeError,we.Range=RangeError;var nn=ol.reduce(function(c,u){return c[u+"Error"]=we[u],c},{});function Ko(c,u){if(!c||c instanceof sr||c instanceof TypeError||c instanceof SyntaxError||!c.name||!nn[c.name])return c;var p=new nn[c.name](u||c.message,c);return"stack"in c&&S(p,"stack",{get:function(){return this.inner.stack}}),p}var As=Go.reduce(function(c,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(c[u+"Error"]=we[u]),c},{});As.ModifyError=Ts,As.DexieError=sr,As.BulkError=or;function Je(){}function ar(c){return c}function rn(c,u){return c==null||c===ar?u:function(p){return u(c(p))}}function mi(c,u){return function(){c.apply(this,arguments),u.apply(this,arguments)}}function qo(c,u){return c===Je?u:function(){var p=c.apply(this,arguments);p!==void 0&&(arguments[0]=p);var y=this.onsuccess,v=this.onerror;this.onsuccess=null,this.onerror=null;var x=u.apply(this,arguments);return y&&(this.onsuccess=this.onsuccess?mi(y,this.onsuccess):y),v&&(this.onerror=this.onerror?mi(v,this.onerror):v),x!==void 0?x:p}}function Ps(c,u){return c===Je?u:function(){c.apply(this,arguments);var p=this.onsuccess,y=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?mi(p,this.onsuccess):p),y&&(this.onerror=this.onerror?mi(y,this.onerror):y)}}function ht(c,u){return c===Je?u:function(p){var y=c.apply(this,arguments);l(p,y);var v=this.onsuccess,x=this.onerror;this.onsuccess=null,this.onerror=null;var M=u.apply(this,arguments);return v&&(this.onsuccess=this.onsuccess?mi(v,this.onsuccess):v),x&&(this.onerror=this.onerror?mi(x,this.onerror):x),y===void 0?M===void 0?void 0:M:l(y,M)}}function ll(c,u){return c===Je?u:function(){return u.apply(this,arguments)===!1?!1:c.apply(this,arguments)}}function Os(c,u){return c===Je?u:function(){var p=c.apply(this,arguments);if(p&&typeof p.then=="function"){for(var y=this,v=arguments.length,x=new Array(v);v--;)x[v]=arguments[v];return p.then(function(){return u.apply(y,x)})}return u.apply(this,arguments)}}var sn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Fs(c,u){sn=c}var gi={},Pi=100,lr=typeof Promise>"u"?[]:function(){var c=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[c,d(c),c];var u=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[u,d(u),c]}(),cl=lr[0],Xr=lr[1],au=lr[2],Qr=Xr&&Xr.then,pn=cl&&cl.constructor,Zr=!!au;function Is(){queueMicrotask(cu)}var de=function(c,u){ii.push([c,u]),Rs&&(Is(),Rs=!1)},Xo=!0,Rs=!0,Kt=[],qt=[],Ve=ar,jn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Je,pgp:!1,env:{},finalize:Je},se=jn,ii=[],Oi=0,Fi=[];function re(c){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=se;if(typeof c!="function"){if(c!==gi)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&on(this,this._value);return}this._state=null,this._value=null,++u.ref,Ot(this,c)}var En={get:function(){var c=se,u=es;function p(y,v){var x=this,M=!c.global&&(c!==se||u!==es),k=M&&!vi(),E=new re(function(P,V){ri(x,new Tn(hl(y,c,M,k),hl(v,c,M,k),P,V,c))});return this._consoleTask&&(E._consoleTask=this._consoleTask),E}return p.prototype=gi,p},set:function(c){S(this,"then",c&&c.prototype===gi?En:{get:function(){return c},set:En.set})}};_(re.prototype,{then:En,_then:function(c,u){ri(this,new Tn(null,null,c,u,se))},catch:function(c){if(arguments.length===1)return this.then(null,c);var u=arguments[0],p=arguments[1];return typeof u=="function"?this.then(null,function(y){return y instanceof u?p(y):Vs(y)}):this.then(null,function(y){return y&&y.name===u?p(y):Vs(y)})},finally:function(c){return this.then(function(u){return re.resolve(c()).then(function(){return u})},function(u){return re.resolve(c()).then(function(){return Vs(u)})})},timeout:function(c,u){var p=this;return c<1/0?new re(function(y,v){var x=setTimeout(function(){return v(new we.Timeout(u))},c);p.then(y,v).finally(clearTimeout.bind(null,x))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&S(re.prototype,Symbol.toStringTag,"Dexie.Promise"),jn.env=Zo();function Tn(c,u,p,y,v){this.onFulfilled=typeof c=="function"?c:null,this.onRejected=typeof u=="function"?u:null,this.resolve=p,this.reject=y,this.psd=v}_(re,{all:function(){var c=Pt.apply(null,arguments).map(Ns);return new re(function(u,p){c.length===0&&u([]);var y=c.length;c.forEach(function(v,x){return re.resolve(v).then(function(M){c[x]=M,--y||u(c)},p)})})},resolve:function(c){if(c instanceof re)return c;if(c&&typeof c.then=="function")return new re(function(p,y){c.then(p,y)});var u=new re(gi,!0,c);return u},reject:Vs,race:function(){var c=Pt.apply(null,arguments).map(Ns);return new re(function(u,p){c.map(function(y){return re.resolve(y).then(u,p)})})},PSD:{get:function(){return se},set:function(c){return se=c}},totalEchoes:{get:function(){return es}},newPSD:yi,usePSD:Ri,scheduler:{get:function(){return de},set:function(c){de=c}},rejectionMapper:{get:function(){return Ve},set:function(c){Ve=c}},follow:function(c,u){return new re(function(p,y){return yi(function(v,x){var M=se;M.unhandleds=[],M.onunhandled=x,M.finalize=mi(function(){var k=this;cr(function(){k.unhandleds.length===0?v():x(k.unhandleds[0])})},M.finalize),c()},u,p,y)})}}),pn&&(pn.allSettled&&S(re,"allSettled",function(){var c=Pt.apply(null,arguments).map(Ns);return new re(function(u){c.length===0&&u([]);var p=c.length,y=new Array(p);c.forEach(function(v,x){return re.resolve(v).then(function(M){return y[x]={status:"fulfilled",value:M}},function(M){return y[x]={status:"rejected",reason:M}}).then(function(){return--p||u(y)})})})}),pn.any&&typeof AggregateError<"u"&&S(re,"any",function(){var c=Pt.apply(null,arguments).map(Ns);return new re(function(u,p){c.length===0&&p(new AggregateError([]));var y=c.length,v=new Array(y);c.forEach(function(x,M){return re.resolve(x).then(function(k){return u(k)},function(k){v[M]=k,--y||p(new AggregateError(v))})})})}),pn.withResolvers&&(re.withResolvers=pn.withResolvers));function Ot(c,u){try{u(function(p){if(c._state===null){if(p===c)throw new TypeError("A promise cannot be resolved with itself.");var y=c._lib&&Wn();p&&typeof p.then=="function"?Ot(c,function(v,x){p instanceof re?p._then(v,x):p.then(v,x)}):(c._state=!0,c._value=p,Bn(c)),y&&Ii()}},on.bind(null,c))}catch(p){on(c,p)}}function on(c,u){if(qt.push(u),c._state===null){var p=c._lib&&Wn();u=Ve(u),c._state=!1,c._value=u,Jr(c),Bn(c),p&&Ii()}}function Bn(c){var u=c._listeners;c._listeners=[];for(var p=0,y=u.length;p<y;++p)ri(c,u[p]);var v=c._PSD;--v.ref||v.finalize(),Oi===0&&(++Oi,de(function(){--Oi===0&&Qo()},[]))}function ri(c,u){if(c._state===null){c._listeners.push(u);return}var p=c._state?u.onFulfilled:u.onRejected;if(p===null)return(c._state?u.resolve:u.reject)(c._value);++u.psd.ref,++Oi,de(lu,[p,c,u])}function lu(c,u,p){try{var y,v=u._value;!u._state&&qt.length&&(qt=[]),y=sn&&u._consoleTask?u._consoleTask.run(function(){return c(v)}):c(v),!u._state&&qt.indexOf(v)===-1&&ul(u),p.resolve(y)}catch(x){p.reject(x)}finally{--Oi===0&&Qo(),--p.psd.ref||p.psd.finalize()}}function cu(){Ri(jn,function(){Wn()&&Ii()})}function Wn(){var c=Xo;return Xo=!1,Rs=!1,c}function Ii(){var c,u,p;do for(;ii.length>0;)for(c=ii,ii=[],p=c.length,u=0;u<p;++u){var y=c[u];y[0].apply(null,y[1])}while(ii.length>0);Xo=!0,Rs=!0}function Qo(){var c=Kt;Kt=[],c.forEach(function(y){y._PSD.onunhandled.call(null,y._value,y)});for(var u=Fi.slice(0),p=u.length;p;)u[--p]()}function cr(c){function u(){c(),Fi.splice(Fi.indexOf(u),1)}Fi.push(u),++Oi,de(function(){--Oi===0&&Qo()},[])}function Jr(c){Kt.some(function(u){return u._value===c._value})||Kt.push(c)}function ul(c){for(var u=Kt.length;u;)if(Kt[--u]._value===c._value){Kt.splice(u,1);return}}function Vs(c){return new re(gi,!1,c)}function pt(c,u){var p=se;return function(){var y=Wn(),v=se;try{return si(p,!0),c.apply(this,arguments)}catch(x){u&&u(x)}finally{si(v,!1),y&&Ii()}}}var Lt={awaits:0,echoes:0,id:0},Mt=0,ur=[],Ls=0,es=0,dl=0;function yi(c,u,p,y){var v=se,x=Object.create(v);x.parent=v,x.ref=0,x.global=!1,x.id=++dl,jn.env,x.env=Zr?{Promise:re,PromiseProp:{value:re,configurable:!0,writable:!0},all:re.all,race:re.race,allSettled:re.allSettled,any:re.any,resolve:re.resolve,reject:re.reject}:{},u&&l(x,u),++v.ref,x.finalize=function(){--this.parent.ref||this.parent.finalize()};var M=Ri(x,c,p,y);return x.ref===0&&x.finalize(),M}function dr(){return Lt.id||(Lt.id=++Mt),++Lt.awaits,Lt.echoes+=Pi,Lt.id}function vi(){return Lt.awaits?(--Lt.awaits===0&&(Lt.id=0),Lt.echoes=Lt.awaits*Pi,!0):!1}(""+Qr).indexOf("[native code]")===-1&&(dr=vi=Je);function Ns(c){return Lt.echoes&&c&&c.constructor===pn?(dr(),c.then(function(u){return vi(),u},function(u){return vi(),_t(u)})):c}function uu(c){++es,(!Lt.echoes||--Lt.echoes===0)&&(Lt.echoes=Lt.awaits=Lt.id=0),ur.push(se),si(c,!0)}function du(){var c=ur[ur.length-1];ur.pop(),si(c,!1)}function si(c,u){var p=se;if((u?Lt.echoes&&(!Ls++||c!==se):Ls&&(!--Ls||c!==se))&&queueMicrotask(u?uu.bind(null,c):du),c!==se&&(se=c,p===jn&&(jn.env=Zo()),Zr)){var y=jn.env.Promise,v=c.env;(p.global||c.global)&&(Object.defineProperty(r,"Promise",v.PromiseProp),y.all=v.all,y.race=v.race,y.resolve=v.resolve,y.reject=v.reject,v.allSettled&&(y.allSettled=v.allSettled),v.any&&(y.any=v.any))}}function Zo(){var c=r.Promise;return Zr?{Promise:c,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:c.all,race:c.race,allSettled:c.allSettled,any:c.any,resolve:c.resolve,reject:c.reject}:{}}function Ri(c,u,p,y,v){var x=se;try{return si(c,!0),u(p,y,v)}finally{si(x,!1)}}function hl(c,u,p,y){return typeof c!="function"?c:function(){var v=se;p&&dr(),si(u,!0);try{return c.apply(this,arguments)}finally{si(v,!1),y&&queueMicrotask(vi)}}}function Jo(c){Promise===pn&&Lt.echoes===0?Ls===0?c():enqueueNativeMicroTask(c):setTimeout(c,0)}var _t=re.reject;function ea(c,u,p,y){if(!c.idbdb||!c._state.openComplete&&!se.letThrough&&!c._vip){if(c._state.openComplete)return _t(new we.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return _t(new we.DatabaseClosed);c.open().catch(Je)}return c._state.dbReadyPromise.then(function(){return ea(c,u,p,y)})}else{var v=c._createTransaction(u,p,c._dbSchema);try{v.create(),c._state.PR1398_maxLoop=3}catch(x){return x.name===$o.InvalidState&&c.isOpen()&&--c._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),c.close({disableAutoOpen:!1}),c.open().then(function(){return ea(c,u,p,y)})):_t(x)}return v._promise(u,function(x,M){return yi(function(){return se.trans=v,y(x,M,v)})}).then(function(x){if(u==="readwrite")try{v.idbtrans.commit()}catch{}return u==="readonly"?x:v._completion.then(function(){return x})})}}var hr="4.0.11",Hn="\uFFFF",js=-1/0,an="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",zn="String expected.",fr=[],Bs="__dbnames",ta="readonly",na="readwrite";function Vi(c,u){return c?u?function(){return c.apply(this,arguments)&&u.apply(this,arguments)}:c:u}var fl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ws(c){return typeof c=="string"&&!/\./.test(c)?function(u){return u[c]===void 0&&c in u&&(u=Ze(u),delete u[c]),u}:function(u){return u}}function pl(){throw we.Type()}function Ne(c,u){try{var p=gl(c),y=gl(u);if(p!==y)return p==="Array"?1:y==="Array"?-1:p==="binary"?1:y==="binary"?-1:p==="string"?1:y==="string"?-1:p==="Date"?1:y!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return c>u?1:c<u?-1:0;case"binary":return ml(yl(c),yl(u));case"Array":return hu(c,u)}}catch{}return NaN}function hu(c,u){for(var p=c.length,y=u.length,v=p<y?p:y,x=0;x<v;++x){var M=Ne(c[x],u[x]);if(M!==0)return M}return p===y?0:p<y?-1:1}function ml(c,u){for(var p=c.length,y=u.length,v=p<y?p:y,x=0;x<v;++x)if(c[x]!==u[x])return c[x]<u[x]?-1:1;return p===y?0:p<y?-1:1}function gl(c){var u=typeof c;if(u!=="object")return u;if(ArrayBuffer.isView(c))return"binary";var p=Nn(c);return p==="ArrayBuffer"?"binary":p}function yl(c){return c instanceof Uint8Array?c:ArrayBuffer.isView(c)?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):new Uint8Array(c)}var vl=function(){function c(){}return c.prototype._trans=function(u,p,y){var v=this._tx||se.trans,x=this.name,M=sn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function k(V,F,z){if(!z.schema[x])throw new we.NotFound("Table "+x+" not part of transaction");return p(z.idbtrans,z)}var E=Wn();try{var P=v&&v.db._novip===this.db._novip?v===se.trans?v._promise(u,k,y):yi(function(){return v._promise(u,k,y)},{trans:v,transless:se.transless||se}):ea(this.db,u,[this.name],k);return M&&(P._consoleTask=M,P=P.catch(function(V){return console.trace(V),_t(V)})),P}finally{E&&Ii()}},c.prototype.get=function(u,p){var y=this;return u&&u.constructor===Object?this.where(u).first(p):u==null?_t(new we.Type("Invalid argument to Table.get()")):this._trans("readonly",function(v){return y.core.get({trans:v,key:u}).then(function(x){return y.hook.reading.fire(x)})}).then(p)},c.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(o(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var p=s(u);if(p.length===1)return this.where(p[0]).equals(u[p[0]]);var y=this.schema.indexes.concat(this.schema.primKey).filter(function(V){if(V.compound&&p.every(function(z){return V.keyPath.indexOf(z)>=0})){for(var F=0;F<p.length;++F)if(p.indexOf(V.keyPath[F])===-1)return!1;return!0}return!1}).sort(function(V,F){return V.keyPath.length-F.keyPath.length})[0];if(y&&this.db._maxKey!==Hn){var v=y.keyPath.slice(0,p.length);return this.where(v).equals(v.map(function(V){return u[V]}))}!y&&sn&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(p.join("+"),"]"));var x=this.schema.idxByName;function M(V,F){return Ne(V,F)===0}var k=p.reduce(function(V,F){var z=V[0],ne=V[1],I=x[F],N=u[F];return[z||I,z||!I?Vi(ne,I&&I.multi?function(W){var q=ae(W,F);return o(q)&&q.some(function($){return M(N,$)})}:function(W){return M(N,ae(W,F))}):ne]},[null,null]),E=k[0],P=k[1];return E?this.where(E.name).equals(u[E.keyPath]).filter(P):y?this.filter(P):this.where(p).equals("")},c.prototype.filter=function(u){return this.toCollection().and(u)},c.prototype.count=function(u){return this.toCollection().count(u)},c.prototype.offset=function(u){return this.toCollection().offset(u)},c.prototype.limit=function(u){return this.toCollection().limit(u)},c.prototype.each=function(u){return this.toCollection().each(u)},c.prototype.toArray=function(u){return this.toCollection().toArray(u)},c.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},c.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,o(u)?"[".concat(u.join("+"),"]"):u))},c.prototype.reverse=function(){return this.toCollection().reverse()},c.prototype.mapToClass=function(u){var p=this,y=p.db,v=p.name;this.schema.mappedClass=u,u.prototype instanceof pl&&(u=function(E){n(P,E);function P(){return E!==null&&E.apply(this,arguments)||this}return Object.defineProperty(P.prototype,"db",{get:function(){return y},enumerable:!1,configurable:!0}),P.prototype.table=function(){return v},P}(u));for(var x=new Set,M=u.prototype;M;M=d(M))Object.getOwnPropertyNames(M).forEach(function(E){return x.add(E)});var k=function(E){if(!E)return E;var P=Object.create(u.prototype);for(var V in E)if(!x.has(V))try{P[V]=E[V]}catch{}return P};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=k,this.hook("reading",k),u},c.prototype.defineClass=function(){function u(p){l(this,p)}return this.mapToClass(u)},c.prototype.add=function(u,p){var y=this,v=this.schema.primKey,x=v.auto,M=v.keyPath,k=u;return M&&x&&(k=Ws(M)(u)),this._trans("readwrite",function(E){return y.core.mutate({trans:E,type:"add",keys:p!=null?[p]:null,values:[k]})}).then(function(E){return E.numFailures?re.reject(E.failures[0]):E.lastResult}).then(function(E){if(M)try{J(u,M,E)}catch{}return E})},c.prototype.update=function(u,p){if(typeof u=="object"&&!o(u)){var y=ae(u,this.schema.primKey.keyPath);return y===void 0?_t(new we.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(y).modify(p)}else return this.where(":id").equals(u).modify(p)},c.prototype.put=function(u,p){var y=this,v=this.schema.primKey,x=v.auto,M=v.keyPath,k=u;return M&&x&&(k=Ws(M)(u)),this._trans("readwrite",function(E){return y.core.mutate({trans:E,type:"put",values:[k],keys:p!=null?[p]:null})}).then(function(E){return E.numFailures?re.reject(E.failures[0]):E.lastResult}).then(function(E){if(M)try{J(u,M,E)}catch{}return E})},c.prototype.delete=function(u){var p=this;return this._trans("readwrite",function(y){return p.core.mutate({trans:y,type:"delete",keys:[u]})}).then(function(y){return y.numFailures?re.reject(y.failures[0]):void 0})},c.prototype.clear=function(){var u=this;return this._trans("readwrite",function(p){return u.core.mutate({trans:p,type:"deleteRange",range:fl})}).then(function(p){return p.numFailures?re.reject(p.failures[0]):void 0})},c.prototype.bulkGet=function(u){var p=this;return this._trans("readonly",function(y){return p.core.getMany({keys:u,trans:y}).then(function(v){return v.map(function(x){return p.hook.reading.fire(x)})})})},c.prototype.bulkAdd=function(u,p,y){var v=this,x=Array.isArray(p)?p:void 0;y=y||(x?void 0:p);var M=y?y.allKeys:void 0;return this._trans("readwrite",function(k){var E=v.schema.primKey,P=E.auto,V=E.keyPath;if(V&&x)throw new we.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(x&&x.length!==u.length)throw new we.InvalidArgument("Arguments objects and keys must have the same length");var F=u.length,z=V&&P?u.map(Ws(V)):u;return v.core.mutate({trans:k,type:"add",keys:x,values:z,wantResults:M}).then(function(ne){var I=ne.numFailures,N=ne.results,W=ne.lastResult,q=ne.failures,$=M?N:W;if(I===0)return $;throw new or("".concat(v.name,".bulkAdd(): ").concat(I," of ").concat(F," operations failed"),q)})})},c.prototype.bulkPut=function(u,p,y){var v=this,x=Array.isArray(p)?p:void 0;y=y||(x?void 0:p);var M=y?y.allKeys:void 0;return this._trans("readwrite",function(k){var E=v.schema.primKey,P=E.auto,V=E.keyPath;if(V&&x)throw new we.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(x&&x.length!==u.length)throw new we.InvalidArgument("Arguments objects and keys must have the same length");var F=u.length,z=V&&P?u.map(Ws(V)):u;return v.core.mutate({trans:k,type:"put",keys:x,values:z,wantResults:M}).then(function(ne){var I=ne.numFailures,N=ne.results,W=ne.lastResult,q=ne.failures,$=M?N:W;if(I===0)return $;throw new or("".concat(v.name,".bulkPut(): ").concat(I," of ").concat(F," operations failed"),q)})})},c.prototype.bulkUpdate=function(u){var p=this,y=this.core,v=u.map(function(k){return k.key}),x=u.map(function(k){return k.changes}),M=[];return this._trans("readwrite",function(k){return y.getMany({trans:k,keys:v,cache:"clone"}).then(function(E){var P=[],V=[];u.forEach(function(z,ne){var I=z.key,N=z.changes,W=E[ne];if(W){for(var q=0,$=Object.keys(N);q<$.length;q++){var K=$[q],te=N[K];if(K===p.schema.primKey.keyPath){if(Ne(te,I)!==0)throw new we.Constraint("Cannot update primary key in bulkUpdate()")}else J(W,K,te)}M.push(ne),P.push(I),V.push(W)}});var F=P.length;return y.mutate({trans:k,type:"put",keys:P,values:V,updates:{keys:v,changeSpecs:x}}).then(function(z){var ne=z.numFailures,I=z.failures;if(ne===0)return F;for(var N=0,W=Object.keys(I);N<W.length;N++){var q=W[N],$=M[Number(q)];if($!=null){var K=I[q];delete I[q],I[$]=K}}throw new or("".concat(p.name,".bulkUpdate(): ").concat(ne," of ").concat(F," operations failed"),I)})})})},c.prototype.bulkDelete=function(u){var p=this,y=u.length;return this._trans("readwrite",function(v){return p.core.mutate({trans:v,type:"delete",keys:u})}).then(function(v){var x=v.numFailures,M=v.lastResult,k=v.failures;if(x===0)return M;throw new or("".concat(p.name,".bulkDelete(): ").concat(x," of ").concat(y," operations failed"),k)})},c}();function ts(c){var u={},p=function(k,E){if(E){for(var P=arguments.length,V=new Array(P-1);--P;)V[P-1]=arguments[P];return u[k].subscribe.apply(null,V),c}else if(typeof k=="string")return u[k]};p.addEventType=x;for(var y=1,v=arguments.length;y<v;++y)x(arguments[y]);return p;function x(k,E,P){if(typeof k=="object")return M(k);E||(E=ll),P||(P=Je);var V={subscribers:[],fire:P,subscribe:function(F){V.subscribers.indexOf(F)===-1&&(V.subscribers.push(F),V.fire=E(V.fire,F))},unsubscribe:function(F){V.subscribers=V.subscribers.filter(function(z){return z!==F}),V.fire=V.subscribers.reduce(E,P)}};return u[k]=p[k]=V,V}function M(k){s(k).forEach(function(E){var P=k[E];if(o(P))x(E,k[E][0],k[E][1]);else if(P==="asap")var V=x(E,ar,function(){for(var z=arguments.length,ne=new Array(z);z--;)ne[z]=arguments[z];V.subscribers.forEach(function(I){Y(function(){I.apply(null,ne)})})});else throw new we.InvalidArgument("Invalid event config")})}}function ns(c,u){return D(u).from({prototype:c}),u}function fu(c){return ns(vl.prototype,function(p,y,v){this.db=c,this._tx=v,this.name=p,this.schema=y,this.hook=c._allTables[p]?c._allTables[p].hook:ts(null,{creating:[qo,Je],reading:[rn,ar],updating:[ht,Je],deleting:[Ps,Je]})})}function pr(c,u){return!(c.filter||c.algorithm||c.or)&&(u?c.justLimit:!c.replayFilter)}function ia(c,u){c.filter=Vi(c.filter,u)}function ra(c,u,p){var y=c.replayFilter;c.replayFilter=y?function(){return Vi(y(),u())}:u,c.justLimit=p&&!y}function pu(c,u){c.isMatch=Vi(c.isMatch,u)}function Hs(c,u){if(c.isPrimKey)return u.primaryKey;var p=u.getIndexByKeyPath(c.index);if(!p)throw new we.Schema("KeyPath "+c.index+" on object store "+u.name+" is not indexed");return p}function bl(c,u,p){var y=Hs(c,u.schema);return u.openCursor({trans:p,values:!c.keysOnly,reverse:c.dir==="prev",unique:!!c.unique,query:{index:y,range:c.range}})}function zs(c,u,p,y){var v=c.replayFilter?Vi(c.filter,c.replayFilter()):c.filter;if(c.or){var x={},M=function(k,E,P){if(!v||v(E,P,function(z){return E.stop(z)},function(z){return E.fail(z)})){var V=E.primaryKey,F=""+V;F==="[object ArrayBuffer]"&&(F=""+new Uint8Array(V)),g(x,F)||(x[F]=!0,u(k,E,P))}};return Promise.all([c.or._iterate(M,p),_l(bl(c,y,p),c.algorithm,M,!c.keysOnly&&c.valueMapper)])}else return _l(bl(c,y,p),Vi(c.algorithm,v),u,!c.keysOnly&&c.valueMapper)}function _l(c,u,p,y){var v=y?function(M,k,E){return p(y(M),k,E)}:p,x=pt(v);return c.then(function(M){if(M)return M.start(function(){var k=function(){return M.continue()};(!u||u(M,function(E){return k=E},function(E){M.stop(E),k=Je},function(E){M.fail(E),k=Je}))&&x(M.value,M,function(E){return k=E}),k()})})}var is=function(){function c(u){this["@@propmod"]=u}return c.prototype.execute=function(u){var p,y=this["@@propmod"];if(y.add!==void 0){var v=y.add;if(o(v))return i(i([],o(u)?u:[],!0),v,!0).sort();if(typeof v=="number")return(Number(u)||0)+v;if(typeof v=="bigint")try{return BigInt(u)+v}catch{return BigInt(0)+v}throw new TypeError("Invalid term ".concat(v))}if(y.remove!==void 0){var x=y.remove;if(o(x))return o(u)?u.filter(function(k){return!x.includes(k)}).sort():[];if(typeof x=="number")return Number(u)-x;if(typeof x=="bigint")try{return BigInt(u)-x}catch{return BigInt(0)-x}throw new TypeError("Invalid subtrahend ".concat(x))}var M=(p=y.replacePrefix)===null||p===void 0?void 0:p[0];return M&&typeof u=="string"&&u.startsWith(M)?y.replacePrefix[1]+u.substring(M.length):u},c}(),sa=function(){function c(){}return c.prototype._read=function(u,p){var y=this._ctx;return y.error?y.table._trans(null,_t.bind(null,y.error)):y.table._trans("readonly",u).then(p)},c.prototype._write=function(u){var p=this._ctx;return p.error?p.table._trans(null,_t.bind(null,p.error)):p.table._trans("readwrite",u,"locked")},c.prototype._addAlgorithm=function(u){var p=this._ctx;p.algorithm=Vi(p.algorithm,u)},c.prototype._iterate=function(u,p){return zs(this._ctx,u,p,this._ctx.table.core)},c.prototype.clone=function(u){var p=Object.create(this.constructor.prototype),y=Object.create(this._ctx);return u&&l(y,u),p._ctx=y,p},c.prototype.raw=function(){return this._ctx.valueMapper=null,this},c.prototype.each=function(u){var p=this._ctx;return this._read(function(y){return zs(p,u,y,p.table.core)})},c.prototype.count=function(u){var p=this;return this._read(function(y){var v=p._ctx,x=v.table.core;if(pr(v,!0))return x.count({trans:y,query:{index:Hs(v,x.schema),range:v.range}}).then(function(k){return Math.min(k,v.limit)});var M=0;return zs(v,function(){return++M,!1},y,x).then(function(){return M})}).then(u)},c.prototype.sortBy=function(u,p){var y=u.split(".").reverse(),v=y[0],x=y.length-1;function M(P,V){return V?M(P[y[V]],V-1):P[v]}var k=this._ctx.dir==="next"?1:-1;function E(P,V){var F=M(P,x),z=M(V,x);return Ne(F,z)*k}return this.toArray(function(P){return P.sort(E)}).then(p)},c.prototype.toArray=function(u){var p=this;return this._read(function(y){var v=p._ctx;if(v.dir==="next"&&pr(v,!0)&&v.limit>0){var x=v.valueMapper,M=Hs(v,v.table.core.schema);return v.table.core.query({trans:y,limit:v.limit,values:!0,query:{index:M,range:v.range}}).then(function(E){var P=E.result;return x?P.map(x):P})}else{var k=[];return zs(v,function(E){return k.push(E)},y,v.table.core).then(function(){return k})}},u)},c.prototype.offset=function(u){var p=this._ctx;return u<=0?this:(p.offset+=u,pr(p)?ra(p,function(){var y=u;return function(v,x){return y===0?!0:y===1?(--y,!1):(x(function(){v.advance(y),y=0}),!1)}}):ra(p,function(){var y=u;return function(){return--y<0}}),this)},c.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),ra(this._ctx,function(){var p=u;return function(y,v,x){return--p<=0&&v(x),p>=0}},!0),this},c.prototype.until=function(u,p){return ia(this._ctx,function(y,v,x){return u(y.value)?(v(x),p):!0}),this},c.prototype.first=function(u){return this.limit(1).toArray(function(p){return p[0]}).then(u)},c.prototype.last=function(u){return this.reverse().first(u)},c.prototype.filter=function(u){return ia(this._ctx,function(p){return u(p.value)}),pu(this._ctx,u),this},c.prototype.and=function(u){return this.filter(u)},c.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},c.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},c.prototype.desc=function(){return this.reverse()},c.prototype.eachKey=function(u){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(y,v){u(v.key,v)})},c.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},c.prototype.eachPrimaryKey=function(u){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(y,v){u(v.primaryKey,v)})},c.prototype.keys=function(u){var p=this._ctx;p.keysOnly=!p.isMatch;var y=[];return this.each(function(v,x){y.push(x.key)}).then(function(){return y}).then(u)},c.prototype.primaryKeys=function(u){var p=this._ctx;if(p.dir==="next"&&pr(p,!0)&&p.limit>0)return this._read(function(v){var x=Hs(p,p.table.core.schema);return p.table.core.query({trans:v,values:!1,limit:p.limit,query:{index:x,range:p.range}})}).then(function(v){var x=v.result;return x}).then(u);p.keysOnly=!p.isMatch;var y=[];return this.each(function(v,x){y.push(x.primaryKey)}).then(function(){return y}).then(u)},c.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},c.prototype.firstKey=function(u){return this.limit(1).keys(function(p){return p[0]}).then(u)},c.prototype.lastKey=function(u){return this.reverse().firstKey(u)},c.prototype.distinct=function(){var u=this._ctx,p=u.index&&u.table.schema.idxByName[u.index];if(!p||!p.multi)return this;var y={};return ia(this._ctx,function(v){var x=v.primaryKey.toString(),M=g(y,x);return y[x]=!0,!M}),this},c.prototype.modify=function(u){var p=this,y=this._ctx;return this._write(function(v){var x;if(typeof u=="function")x=u;else{var M=s(u),k=M.length;x=function($){for(var K=!1,te=0;te<k;++te){var U=M[te],oe=u[U],ce=ae($,U);oe instanceof is?(J($,U,oe.execute(ce)),K=!0):ce!==oe&&(J($,U,oe),K=!0)}return K}}var E=y.table.core,P=E.schema.primaryKey,V=P.outbound,F=P.extractKey,z=200,ne=p.db._options.modifyChunkSize;ne&&(typeof ne=="object"?z=ne[E.name]||ne["*"]||200:z=ne);var I=[],N=0,W=[],q=function($,K){var te=K.failures,U=K.numFailures;N+=$-U;for(var oe=0,ce=s(te);oe<ce.length;oe++){var le=ce[oe];I.push(te[le])}};return p.clone().primaryKeys().then(function($){var K=pr(y)&&y.limit===1/0&&(typeof u!="function"||u===rs)&&{index:y.index,range:y.range},te=function(U){var oe=Math.min(z,$.length-U);return E.getMany({trans:v,keys:$.slice(U,U+oe),cache:"immutable"}).then(function(ce){for(var le=[],be=[],Fe=V?[]:null,he=[],Pe=0;Pe<oe;++Pe){var Se=ce[Pe],je={value:Ze(Se),primKey:$[U+Pe]};x.call(je,je.value,je)!==!1&&(je.value==null?he.push($[U+Pe]):!V&&Ne(F(Se),F(je.value))!==0?(he.push($[U+Pe]),le.push(je.value)):(be.push(je.value),V&&Fe.push($[U+Pe])))}return Promise.resolve(le.length>0&&E.mutate({trans:v,type:"add",values:le}).then(function(Ce){for(var xt in Ce.failures)he.splice(parseInt(xt),1);q(le.length,Ce)})).then(function(){return(be.length>0||K&&typeof u=="object")&&E.mutate({trans:v,type:"put",keys:Fe,values:be,criteria:K,changeSpec:typeof u!="function"&&u,isAdditionalChunk:U>0}).then(function(Ce){return q(be.length,Ce)})}).then(function(){return(he.length>0||K&&u===rs)&&E.mutate({trans:v,type:"delete",keys:he,criteria:K,isAdditionalChunk:U>0}).then(function(Ce){return q(he.length,Ce)})}).then(function(){return $.length>U+oe&&te(U+z)})})};return te(0).then(function(){if(I.length>0)throw new Ts("Error modifying one or more objects",I,N,W);return $.length})})})},c.prototype.delete=function(){var u=this._ctx,p=u.range;return pr(u)&&(u.isPrimKey||p.type===3)?this._write(function(y){var v=u.table.core.schema.primaryKey,x=p;return u.table.core.count({trans:y,query:{index:v,range:x}}).then(function(M){return u.table.core.mutate({trans:y,type:"deleteRange",range:x}).then(function(k){var E=k.failures;k.lastResult,k.results;var P=k.numFailures;if(P)throw new Ts("Could not delete some values",Object.keys(E).map(function(V){return E[V]}),M-P);return M-P})})}):this.modify(rs)},c}(),rs=function(c,u){return u.value=null};function mu(c){return ns(sa.prototype,function(p,y){this.db=c;var v=fl,x=null;if(y)try{v=y()}catch(P){x=P}var M=p._ctx,k=M.table,E=k.hook.reading.fire;this._ctx={table:k,index:M.index,isPrimKey:!M.index||k.schema.primKey.keyPath&&M.index===k.schema.primKey.name,range:v,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:x,or:M.or,valueMapper:E!==ar?E:null}})}function xl(c,u){return c<u?-1:c===u?0:1}function wl(c,u){return c>u?-1:c===u?0:1}function ln(c,u,p){var y=c instanceof Sl?new c.Collection(c):c;return y._ctx.error=p?new p(u):new TypeError(u),y}function mr(c){return new c.Collection(c,function(){return gr("")}).limit(0)}function gu(c){return c==="next"?function(u){return u.toUpperCase()}:function(u){return u.toLowerCase()}}function yu(c){return c==="next"?function(u){return u.toLowerCase()}:function(u){return u.toUpperCase()}}function Cl(c,u,p,y,v,x){for(var M=Math.min(c.length,y.length),k=-1,E=0;E<M;++E){var P=u[E];if(P!==y[E])return v(c[E],p[E])<0?c.substr(0,E)+p[E]+p.substr(E+1):v(c[E],y[E])<0?c.substr(0,E)+y[E]+p.substr(E+1):k>=0?c.substr(0,k)+u[k]+p.substr(k+1):null;v(c[E],P)<0&&(k=E)}return M<y.length&&x==="next"?c+p.substr(c.length):M<c.length&&x==="prev"?c.substr(0,p.length):k<0?null:c.substr(0,k)+y[k]+p.substr(k+1)}function it(c,u,p,y){var v,x,M,k,E,P,V,F=p.length;if(!p.every(function(N){return typeof N=="string"}))return ln(c,zn);function z(N){v=gu(N),x=yu(N),M=N==="next"?xl:wl;var W=p.map(function(q){return{lower:x(q),upper:v(q)}}).sort(function(q,$){return M(q.lower,$.lower)});k=W.map(function(q){return q.upper}),E=W.map(function(q){return q.lower}),P=N,V=N==="next"?"":y}z("next");var ne=new c.Collection(c,function(){return mn(k[0],E[F-1]+y)});ne._ondirectionchange=function(N){z(N)};var I=0;return ne._addAlgorithm(function(N,W,q){var $=N.key;if(typeof $!="string")return!1;var K=x($);if(u(K,E,I))return!0;for(var te=null,U=I;U<F;++U){var oe=Cl($,K,k[U],E[U],M,P);oe===null&&te===null?I=U+1:(te===null||M(te,oe)>0)&&(te=oe)}return W(te!==null?function(){N.continue(te+V)}:q),!1}),ne}function mn(c,u,p,y){return{type:2,lower:c,upper:u,lowerOpen:p,upperOpen:y}}function gr(c){return{type:1,lower:c,upper:c}}var Sl=function(){function c(){}return Object.defineProperty(c.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),c.prototype.between=function(u,p,y,v){y=y!==!1,v=v===!0;try{return this._cmp(u,p)>0||this._cmp(u,p)===0&&(y||v)&&!(y&&v)?mr(this):new this.Collection(this,function(){return mn(u,p,!y,!v)})}catch{return ln(this,an)}},c.prototype.equals=function(u){return u==null?ln(this,an):new this.Collection(this,function(){return gr(u)})},c.prototype.above=function(u){return u==null?ln(this,an):new this.Collection(this,function(){return mn(u,void 0,!0)})},c.prototype.aboveOrEqual=function(u){return u==null?ln(this,an):new this.Collection(this,function(){return mn(u,void 0,!1)})},c.prototype.below=function(u){return u==null?ln(this,an):new this.Collection(this,function(){return mn(void 0,u,!1,!0)})},c.prototype.belowOrEqual=function(u){return u==null?ln(this,an):new this.Collection(this,function(){return mn(void 0,u)})},c.prototype.startsWith=function(u){return typeof u!="string"?ln(this,zn):this.between(u,u+Hn,!0,!0)},c.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):it(this,function(p,y){return p.indexOf(y[0])===0},[u],Hn)},c.prototype.equalsIgnoreCase=function(u){return it(this,function(p,y){return p===y[0]},[u],"")},c.prototype.anyOfIgnoreCase=function(){var u=Pt.apply(fn,arguments);return u.length===0?mr(this):it(this,function(p,y){return y.indexOf(p)!==-1},u,"")},c.prototype.startsWithAnyOfIgnoreCase=function(){var u=Pt.apply(fn,arguments);return u.length===0?mr(this):it(this,function(p,y){return y.some(function(v){return p.indexOf(v)===0})},u,Hn)},c.prototype.anyOf=function(){var u=this,p=Pt.apply(fn,arguments),y=this._cmp;try{p.sort(y)}catch{return ln(this,an)}if(p.length===0)return mr(this);var v=new this.Collection(this,function(){return mn(p[0],p[p.length-1])});v._ondirectionchange=function(M){y=M==="next"?u._ascending:u._descending,p.sort(y)};var x=0;return v._addAlgorithm(function(M,k,E){for(var P=M.key;y(P,p[x])>0;)if(++x,x===p.length)return k(E),!1;return y(P,p[x])===0?!0:(k(function(){M.continue(p[x])}),!1)}),v},c.prototype.notEqual=function(u){return this.inAnyRange([[js,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},c.prototype.noneOf=function(){var u=Pt.apply(fn,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return ln(this,an)}var p=u.reduce(function(y,v){return y?y.concat([[y[y.length-1][1],v]]):[[js,v]]},null);return p.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(p,{includeLowers:!1,includeUppers:!1})},c.prototype.inAnyRange=function(u,p){var y=this,v=this._cmp,x=this._ascending,M=this._descending,k=this._min,E=this._max;if(u.length===0)return mr(this);if(!u.every(function(U){return U[0]!==void 0&&U[1]!==void 0&&x(U[0],U[1])<=0}))return ln(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",we.InvalidArgument);var P=!p||p.includeLowers!==!1,V=p&&p.includeUppers===!0;function F(U,oe){for(var ce=0,le=U.length;ce<le;++ce){var be=U[ce];if(v(oe[0],be[1])<0&&v(oe[1],be[0])>0){be[0]=k(be[0],oe[0]),be[1]=E(be[1],oe[1]);break}}return ce===le&&U.push(oe),U}var z=x;function ne(U,oe){return z(U[0],oe[0])}var I;try{I=u.reduce(F,[]),I.sort(ne)}catch{return ln(this,an)}var N=0,W=V?function(U){return x(U,I[N][1])>0}:function(U){return x(U,I[N][1])>=0},q=P?function(U){return M(U,I[N][0])>0}:function(U){return M(U,I[N][0])>=0};function $(U){return!W(U)&&!q(U)}var K=W,te=new this.Collection(this,function(){return mn(I[0][0],I[I.length-1][1],!P,!V)});return te._ondirectionchange=function(U){U==="next"?(K=W,z=x):(K=q,z=M),I.sort(ne)},te._addAlgorithm(function(U,oe,ce){for(var le=U.key;K(le);)if(++N,N===I.length)return oe(ce),!1;return $(le)?!0:(y._cmp(le,I[N][1])===0||y._cmp(le,I[N][0])===0||oe(function(){z===x?U.continue(I[N][0]):U.continue(I[N][1])}),!1)}),te},c.prototype.startsWithAnyOf=function(){var u=Pt.apply(fn,arguments);return u.every(function(p){return typeof p=="string"})?u.length===0?mr(this):this.inAnyRange(u.map(function(p){return[p,p+Hn]})):ln(this,"startsWithAnyOf() only works with strings")},c}();function Ml(c){return ns(Sl.prototype,function(p,y,v){if(this.db=c,this._ctx={table:p,index:y===":id"?null:y,or:v},this._cmp=this._ascending=Ne,this._descending=function(x,M){return Ne(M,x)},this._max=function(x,M){return Ne(x,M)>0?x:M},this._min=function(x,M){return Ne(x,M)<0?x:M},this._IDBKeyRange=c._deps.IDBKeyRange,!this._IDBKeyRange)throw new we.MissingAPI})}function Yn(c){return pt(function(u){return ss(u),c(u.target.error),!1})}function ss(c){c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault()}var bi="storagemutated",Un="x-storagemutated-1",Gn=ts(null,bi),vu=function(){function c(){}return c.prototype._lock=function(){return ee(!se.global),++this._reculock,this._reculock===1&&!se.global&&(se.lockOwnerFor=this),this},c.prototype._unlock=function(){if(ee(!se.global),--this._reculock===0)for(se.global||(se.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var u=this._blockedFuncs.shift();try{Ri(u[1],u[0])}catch{}}return this},c.prototype._locked=function(){return this._reculock&&se.lockOwnerFor!==this},c.prototype.create=function(u){var p=this;if(!this.mode)return this;var y=this.db.idbdb,v=this.db._state.dbOpenError;if(ee(!this.idbtrans),!u&&!y)switch(v&&v.name){case"DatabaseClosedError":throw new we.DatabaseClosed(v);case"MissingAPIError":throw new we.MissingAPI(v.message,v);default:throw new we.OpenFailed(v)}if(!this.active)throw new we.TransactionInactive;return ee(this._completion._state===null),u=this.idbtrans=u||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):y.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),u.onerror=pt(function(x){ss(x),p._reject(u.error)}),u.onabort=pt(function(x){ss(x),p.active&&p._reject(new we.Abort(u.error)),p.active=!1,p.on("abort").fire(x)}),u.oncomplete=pt(function(){p.active=!1,p._resolve(),"mutatedParts"in u&&Gn.storagemutated.fire(u.mutatedParts)}),this},c.prototype._promise=function(u,p,y){var v=this;if(u==="readwrite"&&this.mode!=="readwrite")return _t(new we.ReadOnly("Transaction is readonly"));if(!this.active)return _t(new we.TransactionInactive);if(this._locked())return new re(function(M,k){v._blockedFuncs.push([function(){v._promise(u,p,y).then(M,k)},se])});if(y)return yi(function(){var M=new re(function(k,E){v._lock();var P=p(k,E,v);P&&P.then&&P.then(k,E)});return M.finally(function(){return v._unlock()}),M._lib=!0,M});var x=new re(function(M,k){var E=p(M,k,v);E&&E.then&&E.then(M,k)});return x._lib=!0,x},c.prototype._root=function(){return this.parent?this.parent._root():this},c.prototype.waitFor=function(u){var p=this._root(),y=re.resolve(u);if(p._waitingFor)p._waitingFor=p._waitingFor.then(function(){return y});else{p._waitingFor=y,p._waitingQueue=[];var v=p.idbtrans.objectStore(p.storeNames[0]);(function M(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(v.get(-1/0).onsuccess=M)})()}var x=p._waitingFor;return new re(function(M,k){y.then(function(E){return p._waitingQueue.push(pt(M.bind(null,E)))},function(E){return p._waitingQueue.push(pt(k.bind(null,E)))}).finally(function(){p._waitingFor===x&&(p._waitingFor=null)})})},c.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new we.Abort))},c.prototype.table=function(u){var p=this._memoizedTables||(this._memoizedTables={});if(g(p,u))return p[u];var y=this.schema[u];if(!y)throw new we.NotFound("Table "+u+" not part of transaction");var v=new this.db.Table(u,y,this);return v.core=this.db.core.table(u),p[u]=v,v},c}();function oi(c){return ns(vu.prototype,function(p,y,v,x,M){var k=this;this.db=c,this.mode=p,this.storeNames=y,this.schema=v,this.chromeTransactionDurability=x,this.idbtrans=null,this.on=ts(this,"complete","error","abort"),this.parent=M||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new re(function(E,P){k._resolve=E,k._reject=P}),this._completion.then(function(){k.active=!1,k.on.complete.fire()},function(E){var P=k.active;return k.active=!1,k.on.error.fire(E),k.parent?k.parent._reject(E):P&&k.idbtrans&&k.idbtrans.abort(),_t(E)})})}function oa(c,u,p,y,v,x,M){return{name:c,keyPath:u,unique:p,multi:y,auto:v,compound:x,src:(p&&!M?"&":"")+(y?"*":"")+(v?"++":"")+Ys(u)}}function Ys(c){return typeof c=="string"?c:c?"["+[].join.call(c,"+")+"]":""}function aa(c,u,p){return{name:c,primKey:u,indexes:p,mappedClass:null,idxByName:Q(p,function(y){return[y.name,y]})}}function bu(c){return c.length===1?c[0]:c}var os=function(c){try{return c.only([[]]),os=function(){return[[]]},[[]]}catch{return os=function(){return Hn},Hn}};function yr(c){return c==null?function(){}:typeof c=="string"?la(c):function(u){return ae(u,c)}}function la(c){var u=c.split(".");return u.length===1?function(p){return p[c]}:function(p){return ae(p,c)}}function Dl(c){return[].slice.call(c)}var _u=0;function as(c){return c==null?":id":typeof c=="string"?c:"[".concat(c.join("+"),"]")}function kl(c,u,p){function y(F,z){var ne=Dl(F.objectStoreNames);return{schema:{name:F.name,tables:ne.map(function(I){return z.objectStore(I)}).map(function(I){var N=I.keyPath,W=I.autoIncrement,q=o(N),$=N==null,K={},te={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:$,compound:q,keyPath:N,autoIncrement:W,unique:!0,extractKey:yr(N)},indexes:Dl(I.indexNames).map(function(U){return I.index(U)}).map(function(U){var oe=U.name,ce=U.unique,le=U.multiEntry,be=U.keyPath,Fe=o(be),he={name:oe,compound:Fe,keyPath:be,unique:ce,multiEntry:le,extractKey:yr(be)};return K[as(be)]=he,he}),getIndexByKeyPath:function(U){return K[as(U)]}};return K[":id"]=te.primaryKey,N!=null&&(K[as(N)]=te.primaryKey),te})},hasGetAll:ne.length>0&&"getAll"in z.objectStore(ne[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function v(F){if(F.type===3)return null;if(F.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var z=F.lower,ne=F.upper,I=F.lowerOpen,N=F.upperOpen,W=z===void 0?ne===void 0?null:u.upperBound(ne,!!N):ne===void 0?u.lowerBound(z,!!I):u.bound(z,ne,!!I,!!N);return W}function x(F){var z=F.name;function ne(W){var q=W.trans,$=W.type,K=W.keys,te=W.values,U=W.range;return new Promise(function(oe,ce){oe=pt(oe);var le=q.objectStore(z),be=le.keyPath==null,Fe=$==="put"||$==="add";if(!Fe&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var he=(K||te||{length:1}).length;if(K&&te&&K.length!==te.length)throw new Error("Given keys array must have same length as given values array.");if(he===0)return oe({numFailures:0,failures:{},results:[],lastResult:void 0});var Pe,Se=[],je=[],Ce=0,xt=function(Kn){++Ce,ss(Kn)};if($==="deleteRange"){if(U.type===4)return oe({numFailures:Ce,failures:je,results:[],lastResult:void 0});U.type===3?Se.push(Pe=le.clear()):Se.push(Pe=le.delete(v(U)))}else{var zt=Fe?be?[te,K]:[te,null]:[K,null],$n=zt[0],Zt=zt[1];if(Fe)for(var gn=0;gn<he;++gn)Se.push(Pe=Zt&&Zt[gn]!==void 0?le[$]($n[gn],Zt[gn]):le[$]($n[gn])),Pe.onerror=xt;else for(var gn=0;gn<he;++gn)Se.push(Pe=le[$]($n[gn])),Pe.onerror=xt}var di=function(Kn){var hs=Kn.target.result;Se.forEach(function(yn,lo){return yn.error!=null&&(je[lo]=yn.error)}),oe({numFailures:Ce,failures:je,results:$==="delete"?K:Se.map(function(yn){return yn.result}),lastResult:hs})};Pe.onerror=function(Kn){xt(Kn),di(Kn)},Pe.onsuccess=di})}function I(W){var q=W.trans,$=W.values,K=W.query,te=W.reverse,U=W.unique;return new Promise(function(oe,ce){oe=pt(oe);var le=K.index,be=K.range,Fe=q.objectStore(z),he=le.isPrimaryKey?Fe:Fe.index(le.name),Pe=te?U?"prevunique":"prev":U?"nextunique":"next",Se=$||!("openKeyCursor"in he)?he.openCursor(v(be),Pe):he.openKeyCursor(v(be),Pe);Se.onerror=Yn(ce),Se.onsuccess=pt(function(je){var Ce=Se.result;if(!Ce){oe(null);return}Ce.___id=++_u,Ce.done=!1;var xt=Ce.continue.bind(Ce),zt=Ce.continuePrimaryKey;zt&&(zt=zt.bind(Ce));var $n=Ce.advance.bind(Ce),Zt=function(){throw new Error("Cursor not started")},gn=function(){throw new Error("Cursor not stopped")};Ce.trans=q,Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=Zt,Ce.fail=pt(ce),Ce.next=function(){var di=this,Kn=1;return this.start(function(){return Kn--?di.continue():di.stop()}).then(function(){return di})},Ce.start=function(di){var Kn=new Promise(function(yn,lo){yn=pt(yn),Se.onerror=Yn(lo),Ce.fail=lo,Ce.stop=function(qu){Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=gn,yn(qu)}}),hs=function(){if(Se.result)try{di()}catch(yn){Ce.fail(yn)}else Ce.done=!0,Ce.start=function(){throw new Error("Cursor behind last entry")},Ce.stop()};return Se.onsuccess=pt(function(yn){Se.onsuccess=hs,hs()}),Ce.continue=xt,Ce.continuePrimaryKey=zt,Ce.advance=$n,hs(),Kn},oe(Ce)},ce)})}function N(W){return function(q){return new Promise(function($,K){$=pt($);var te=q.trans,U=q.values,oe=q.limit,ce=q.query,le=oe===1/0?void 0:oe,be=ce.index,Fe=ce.range,he=te.objectStore(z),Pe=be.isPrimaryKey?he:he.index(be.name),Se=v(Fe);if(oe===0)return $({result:[]});if(W){var je=U?Pe.getAll(Se,le):Pe.getAllKeys(Se,le);je.onsuccess=function($n){return $({result:$n.target.result})},je.onerror=Yn(K)}else{var Ce=0,xt=U||!("openKeyCursor"in Pe)?Pe.openCursor(Se):Pe.openKeyCursor(Se),zt=[];xt.onsuccess=function($n){var Zt=xt.result;if(!Zt)return $({result:zt});if(zt.push(U?Zt.value:Zt.primaryKey),++Ce===oe)return $({result:zt});Zt.continue()},xt.onerror=Yn(K)}})}}return{name:z,schema:F,mutate:ne,getMany:function(W){var q=W.trans,$=W.keys;return new Promise(function(K,te){K=pt(K);for(var U=q.objectStore(z),oe=$.length,ce=new Array(oe),le=0,be=0,Fe,he=function(Ce){var xt=Ce.target;(ce[xt._pos]=xt.result)!=null,++be===le&&K(ce)},Pe=Yn(te),Se=0;Se<oe;++Se){var je=$[Se];je!=null&&(Fe=U.get($[Se]),Fe._pos=Se,Fe.onsuccess=he,Fe.onerror=Pe,++le)}le===0&&K(ce)})},get:function(W){var q=W.trans,$=W.key;return new Promise(function(K,te){K=pt(K);var U=q.objectStore(z),oe=U.get($);oe.onsuccess=function(ce){return K(ce.target.result)},oe.onerror=Yn(te)})},query:N(E),openCursor:I,count:function(W){var q=W.query,$=W.trans,K=q.index,te=q.range;return new Promise(function(U,oe){var ce=$.objectStore(z),le=K.isPrimaryKey?ce:ce.index(K.name),be=v(te),Fe=be?le.count(be):le.count();Fe.onsuccess=pt(function(he){return U(he.target.result)}),Fe.onerror=Yn(oe)})}}}var M=y(c,p),k=M.schema,E=M.hasGetAll,P=k.tables.map(function(F){return x(F)}),V={};return P.forEach(function(F){return V[F.name]=F}),{stack:"dbcore",transaction:c.transaction.bind(c),table:function(F){var z=V[F];if(!z)throw new Error("Table '".concat(F,"' not found"));return V[F]},MIN_KEY:-1/0,MAX_KEY:os(u),schema:k}}function xu(c,u){return u.reduce(function(p,y){var v=y.create;return e(e({},p),v(p))},c)}function wu(c,u,p,y){var v=p.IDBKeyRange;p.indexedDB;var x=xu(kl(u,v,y),c.dbcore);return{dbcore:x}}function Us(c,u){var p=u.db,y=wu(c._middlewares,p,c._deps,u);c.core=y.dbcore,c.tables.forEach(function(v){var x=v.name;c.core.schema.tables.some(function(M){return M.name===x})&&(v.core=c.core.table(x),c[x]instanceof c.Table&&(c[x].core=v.core))})}function Gs(c,u,p,y){p.forEach(function(v){var x=y[v];u.forEach(function(M){var k=A(M,v);(!k||"value"in k&&k.value===void 0)&&(M===c.Transaction.prototype||M instanceof c.Transaction?S(M,v,{get:function(){return this.table(v)},set:function(E){w(this,v,{value:E,writable:!0,configurable:!0,enumerable:!0})}}):M[v]=new c.Table(v,x))})})}function ca(c,u){u.forEach(function(p){for(var y in p)p[y]instanceof c.Table&&delete p[y]})}function El(c,u){return c._cfg.version-u._cfg.version}function Cu(c,u,p,y){var v=c._dbSchema;p.objectStoreNames.contains("$meta")&&!v.$meta&&(v.$meta=aa("$meta",ot("")[0],[]),c._storeNames.push("$meta"));var x=c._createTransaction("readwrite",c._storeNames,v);x.create(p),x._completion.catch(y);var M=x._reject.bind(x),k=se.transless||se;yi(function(){if(se.trans=x,se.transless=k,u===0)s(v).forEach(function(E){ls(p,E,v[E].primKey,v[E].indexes)}),Us(c,p),re.follow(function(){return c.on.populate.fire(x)}).catch(M);else return Us(c,p),Su(c,x,u).then(function(E){return ua(c,E,x,p)}).catch(M)})}function vr(c,u){Tl(c._dbSchema,u),u.db.version%10===0&&!u.objectStoreNames.contains("$meta")&&u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var p=Ks(c,c.idbdb,u);cs(c,c._dbSchema,u);for(var y=da(p,c._dbSchema),v=function(P){if(P.change.length||P.recreate)return console.warn("Unable to patch indexes of table ".concat(P.name," because it has changes on the type of index or primary key.")),{value:void 0};var V=u.objectStore(P.name);P.add.forEach(function(F){sn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(P.name,".").concat(F.src)),$s(V,F)})},x=0,M=y.change;x<M.length;x++){var k=M[x],E=v(k);if(typeof E=="object")return E.value}}function Su(c,u,p){return u.storeNames.includes("$meta")?u.table("$meta").get("version").then(function(y){return y??p}):re.resolve(p)}function ua(c,u,p,y){var v=[],x=c._versions,M=c._dbSchema=Ks(c,c.idbdb,y),k=x.filter(function(P){return P._cfg.version>=u});if(k.length===0)return re.resolve();k.forEach(function(P){v.push(function(){var V=M,F=P._cfg.dbschema;cs(c,V,y),cs(c,F,y),M=c._dbSchema=F;var z=da(V,F);z.add.forEach(function($){ls(y,$[0],$[1].primKey,$[1].indexes)}),z.change.forEach(function($){if($.recreate)throw new we.Upgrade("Not yet support for changing primary key");var K=y.objectStore($.name);$.add.forEach(function(te){return $s(K,te)}),$.change.forEach(function(te){K.deleteIndex(te.name),$s(K,te)}),$.del.forEach(function(te){return K.deleteIndex(te)})});var ne=P._cfg.contentUpgrade;if(ne&&P._cfg.version>u){Us(c,y),p._memoizedTables={};var I=Te(F);z.del.forEach(function($){I[$]=V[$]}),ca(c,[c.Transaction.prototype]),Gs(c,[c.Transaction.prototype],s(I),I),p.schema=I;var N=Es(ne);N&&dr();var W,q=re.follow(function(){if(W=ne(p),W&&N){var $=vi.bind(null,null);W.then($,$)}});return W&&typeof W.then=="function"?re.resolve(W):q.then(function(){return W})}}),v.push(function(V){var F=P._cfg.dbschema;Mu(F,V),ca(c,[c.Transaction.prototype]),Gs(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),p.schema=c._dbSchema}),v.push(function(V){c.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(c.idbdb.version/10)===P._cfg.version?(c.idbdb.deleteObjectStore("$meta"),delete c._dbSchema.$meta,c._storeNames=c._storeNames.filter(function(F){return F!=="$meta"})):V.objectStore("$meta").put(P._cfg.version,"version"))})});function E(){return v.length?re.resolve(v.shift()(p.idbtrans)).then(E):re.resolve()}return E().then(function(){Tl(M,y)})}function da(c,u){var p={del:[],add:[],change:[]},y;for(y in c)u[y]||p.del.push(y);for(y in u){var v=c[y],x=u[y];if(!v)p.add.push([y,x]);else{var M={name:y,def:x,recreate:!1,del:[],add:[],change:[]};if(""+(v.primKey.keyPath||"")!=""+(x.primKey.keyPath||"")||v.primKey.auto!==x.primKey.auto)M.recreate=!0,p.change.push(M);else{var k=v.idxByName,E=x.idxByName,P=void 0;for(P in k)E[P]||M.del.push(P);for(P in E){var V=k[P],F=E[P];V?V.src!==F.src&&M.change.push(F):M.add.push(F)}(M.del.length>0||M.add.length>0||M.change.length>0)&&p.change.push(M)}}}return p}function ls(c,u,p,y){var v=c.db.createObjectStore(u,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});return y.forEach(function(x){return $s(v,x)}),v}function Tl(c,u){s(c).forEach(function(p){u.db.objectStoreNames.contains(p)||(sn&&console.debug("Dexie: Creating missing table",p),ls(u,p,c[p].primKey,c[p].indexes))})}function Mu(c,u){[].slice.call(u.db.objectStoreNames).forEach(function(p){return c[p]==null&&u.db.deleteObjectStore(p)})}function $s(c,u){c.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function Ks(c,u,p){var y={},v=j(u.objectStoreNames,0);return v.forEach(function(x){for(var M=p.objectStore(x),k=M.keyPath,E=oa(Ys(k),k||"",!0,!1,!!M.autoIncrement,k&&typeof k!="string",!0),P=[],V=0;V<M.indexNames.length;++V){var F=M.index(M.indexNames[V]);k=F.keyPath;var z=oa(F.name,k,!!F.unique,!!F.multiEntry,!1,k&&typeof k!="string",!1);P.push(z)}y[x]=aa(x,E,P)}),y}function Al(c,u,p){c.verno=u.version/10;var y=c._dbSchema=Ks(c,u,p);c._storeNames=j(u.objectStoreNames,0),Gs(c,[c._allTables],s(y),y)}function Du(c,u){var p=Ks(c,c.idbdb,u),y=da(p,c._dbSchema);return!(y.add.length||y.change.some(function(v){return v.add.length||v.change.length}))}function cs(c,u,p){for(var y=p.db.objectStoreNames,v=0;v<y.length;++v){var x=y[v],M=p.objectStore(x);c._hasGetAll="getAll"in M;for(var k=0;k<M.indexNames.length;++k){var E=M.indexNames[k],P=M.index(E).keyPath,V=typeof P=="string"?P:"["+j(P).join("+")+"]";if(u[x]){var F=u[x].idxByName[V];F&&(F.name=E,delete u[x].idxByName[V],u[x].idxByName[E]=F)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(c._hasGetAll=!1)}function ot(c){return c.split(",").map(function(u,p){u=u.trim();var y=u.replace(/([&*]|\+\+)/g,""),v=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return oa(y,v||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),o(v),p===0)})}var ku=function(){function c(){}return c.prototype._parseStoresSpec=function(u,p){s(u).forEach(function(y){if(u[y]!==null){var v=ot(u[y]),x=v.shift();if(x.unique=!0,x.multi)throw new we.Schema("Primary key cannot be multi-valued");v.forEach(function(M){if(M.auto)throw new we.Schema("Only primary key can be marked as autoIncrement (++)");if(!M.keyPath)throw new we.Schema("Index must have a name and cannot be an empty string")}),p[y]=aa(y,x,v)}})},c.prototype.stores=function(u){var p=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,u):u;var y=p._versions,v={},x={};return y.forEach(function(M){l(v,M._cfg.storesSource),x=M._cfg.dbschema={},M._parseStoresSpec(v,x)}),p._dbSchema=x,ca(p,[p._allTables,p,p.Transaction.prototype]),Gs(p,[p._allTables,p,p.Transaction.prototype,this._cfg.tables],s(x),x),p._storeNames=s(x),this},c.prototype.upgrade=function(u){return this._cfg.contentUpgrade=Os(this._cfg.contentUpgrade||Je,u),this},c}();function Eu(c){return ns(ku.prototype,function(p){this.db=c,this._cfg={version:p,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function qs(c,u){var p=c._dbNamesDB;return p||(p=c._dbNamesDB=new li(Bs,{addons:[],indexedDB:c,IDBKeyRange:u}),p.version(1).stores({dbnames:"name"})),p.table("dbnames")}function ha(c){return c&&typeof c.databases=="function"}function Tu(c){var u=c.indexedDB,p=c.IDBKeyRange;return ha(u)?Promise.resolve(u.databases()).then(function(y){return y.map(function(v){return v.name}).filter(function(v){return v!==Bs})}):qs(u,p).toCollection().primaryKeys()}function Au(c,u){var p=c.indexedDB,y=c.IDBKeyRange;!ha(p)&&u!==Bs&&qs(p,y).put({name:u}).catch(Je)}function us(c,u){var p=c.indexedDB,y=c.IDBKeyRange;!ha(p)&&u!==Bs&&qs(p,y).delete(u).catch(Je)}function fa(c){return yi(function(){return se.letThrough=!0,c()})}function Pu(){var c=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!c||!indexedDB.databases)return Promise.resolve();var u;return new Promise(function(p){var y=function(){return indexedDB.databases().finally(p)};u=setInterval(y,100),y()}).finally(function(){return clearInterval(u)})}var pa;function br(c){return!("from"in c)}var It=function(c,u){if(this)l(this,arguments.length?{d:1,from:c,to:arguments.length>1?u:c}:{d:0});else{var p=new It;return c&&"d"in c&&l(p,c),p}};_(It.prototype,(pa={add:function(c){return ds(this,c),this},addKey:function(c){return Li(this,c,c),this},addKeys:function(c){var u=this;return c.forEach(function(p){return Li(u,p,p)}),this},hasKey:function(c){var u=Xs(this).next(c).value;return u&&Ne(u.from,c)<=0&&Ne(u.to,c)>=0}},pa[Gt]=function(){return Xs(this)},pa));function Li(c,u,p){var y=Ne(u,p);if(!isNaN(y)){if(y>0)throw RangeError();if(br(c))return l(c,{from:u,to:p,d:1});var v=c.l,x=c.r;if(Ne(p,c.from)<0)return v?Li(v,u,p):c.l={from:u,to:p,d:1,l:null,r:null},Qs(c);if(Ne(u,c.to)>0)return x?Li(x,u,p):c.r={from:u,to:p,d:1,l:null,r:null},Qs(c);Ne(u,c.from)<0&&(c.from=u,c.l=null,c.d=x?x.d+1:1),Ne(p,c.to)>0&&(c.to=p,c.r=null,c.d=c.l?c.l.d+1:1);var M=!c.r;v&&!c.l&&ds(c,v),x&&M&&ds(c,x)}}function ds(c,u){function p(y,v){var x=v.from,M=v.to,k=v.l,E=v.r;Li(y,x,M),k&&p(y,k),E&&p(y,E)}br(u)||p(c,u)}function ma(c,u){var p=Xs(u),y=p.next();if(y.done)return!1;for(var v=y.value,x=Xs(c),M=x.next(v.from),k=M.value;!y.done&&!M.done;){if(Ne(k.from,v.to)<=0&&Ne(k.to,v.from)>=0)return!0;Ne(v.from,k.from)<0?v=(y=p.next(k.from)).value:k=(M=x.next(v.from)).value}return!1}function Xs(c){var u=br(c)?null:{s:0,n:c};return{next:function(p){for(var y=arguments.length>0;u;)switch(u.s){case 0:if(u.s=1,y)for(;u.n.l&&Ne(p,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!y||Ne(p,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function Qs(c){var u,p,y=(((u=c.r)===null||u===void 0?void 0:u.d)||0)-(((p=c.l)===null||p===void 0?void 0:p.d)||0),v=y>1?"r":y<-1?"l":"";if(v){var x=v==="r"?"l":"r",M=e({},c),k=c[v];c.from=k.from,c.to=k.to,c[v]=k[v],M[v]=k[x],c[x]=M,M.d=Zs(M)}c.d=Zs(c)}function Zs(c){var u=c.r,p=c.l;return(u?p?Math.max(u.d,p.d):u.d:p?p.d:0)+1}function _r(c,u){return s(u).forEach(function(p){c[p]?ds(c[p],u[p]):c[p]=Ge(u[p])}),c}function ga(c,u){return c.all||u.all||Object.keys(c).some(function(p){return u[p]&&ma(u[p],c[p])})}var Ni={},ya={},va=!1;function Js(c,u){_r(ya,c),va||(va=!0,setTimeout(function(){va=!1;var p=ya;ya={},ba(p,!1)},0))}function ba(c,u){u===void 0&&(u=!1);var p=new Set;if(c.all)for(var y=0,v=Object.values(Ni);y<v.length;y++){var x=v[y];Pl(x,c,p,u)}else for(var M in c){var k=/^idb\:\/\/(.*)\/(.*)\//.exec(M);if(k){var E=k[1],P=k[2],x=Ni["idb://".concat(E,"/").concat(P)];x&&Pl(x,c,p,u)}}p.forEach(function(V){return V()})}function Pl(c,u,p,y){for(var v=[],x=0,M=Object.entries(c.queries.query);x<M.length;x++){for(var k=M[x],E=k[0],P=k[1],V=[],F=0,z=P;F<z.length;F++){var ne=z[F];ga(u,ne.obsSet)?ne.subscribers.forEach(function(q){return p.add(q)}):y&&V.push(ne)}y&&v.push([E,V])}if(y)for(var I=0,N=v;I<N.length;I++){var W=N[I],E=W[0],V=W[1];c.queries.query[E]=V}}function Ou(c){var u=c._state,p=c._deps.indexedDB;if(u.isBeingOpened||c.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?_t(u.dbOpenError):c});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var y=u.openCanceller,v=Math.round(c.verno*10),x=!1;function M(){if(u.openCanceller!==y)throw new we.DatabaseClosed("db.open() was cancelled")}var k=u.dbReadyResolve,E=null,P=!1,V=function(){return new re(function(F,z){if(M(),!p)throw new we.MissingAPI;var ne=c.name,I=u.autoSchema||!v?p.open(ne):p.open(ne,v);if(!I)throw new we.MissingAPI;I.onerror=Yn(z),I.onblocked=pt(c._fireOnBlocked),I.onupgradeneeded=pt(function(N){if(E=I.transaction,u.autoSchema&&!c._options.allowEmptyDB){I.onerror=ss,E.abort(),I.result.close();var W=p.deleteDatabase(ne);W.onsuccess=W.onerror=pt(function(){z(new we.NoSuchDatabase("Database ".concat(ne," doesnt exist")))})}else{E.onerror=Yn(z);var q=N.oldVersion>Math.pow(2,62)?0:N.oldVersion;P=q<1,c.idbdb=I.result,x&&vr(c,E),Cu(c,q/10,E,z)}},z),I.onsuccess=pt(function(){E=null;var N=c.idbdb=I.result,W=j(N.objectStoreNames);if(W.length>0)try{var q=N.transaction(bu(W),"readonly");if(u.autoSchema)Al(c,N,q);else if(cs(c,c._dbSchema,q),!Du(c,q)&&!x)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),N.close(),v=N.version+1,x=!0,F(V());Us(c,q)}catch{}fr.push(c),N.onversionchange=pt(function($){u.vcFired=!0,c.on("versionchange").fire($)}),N.onclose=pt(function($){c.on("close").fire($)}),P&&Au(c._deps,ne),F()},z)}).catch(function(F){switch(F?.name){case"UnknownError":if(u.PR1398_maxLoop>0)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),V();break;case"VersionError":if(v>0)return v=0,V();break}return re.reject(F)})};return re.race([y,(typeof navigator>"u"?re.resolve():Pu()).then(V)]).then(function(){return M(),u.onReadyBeingFired=[],re.resolve(fa(function(){return c.on.ready.fire(c.vip)})).then(function F(){if(u.onReadyBeingFired.length>0){var z=u.onReadyBeingFired.reduce(Os,Je);return u.onReadyBeingFired=[],re.resolve(fa(function(){return z(c.vip)})).then(F)}})}).finally(function(){u.openCanceller===y&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(F){u.dbOpenError=F;try{E&&E.abort()}catch{}return y===u.openCanceller&&c._close(),_t(F)}).finally(function(){u.openComplete=!0,k()}).then(function(){if(P){var F={};c.tables.forEach(function(z){z.schema.indexes.forEach(function(ne){ne.name&&(F["idb://".concat(c.name,"/").concat(z.name,"/").concat(ne.name)]=new It(-1/0,[[[]]]))}),F["idb://".concat(c.name,"/").concat(z.name,"/")]=F["idb://".concat(c.name,"/").concat(z.name,"/:dels")]=new It(-1/0,[[[]]])}),Gn(bi).fire(F),ba(F,!0)}return c})}function _a(c){var u=function(M){return c.next(M)},p=function(M){return c.throw(M)},y=x(u),v=x(p);function x(M){return function(k){var E=M(k),P=E.value;return E.done?P:!P||typeof P.then!="function"?o(P)?Promise.all(P).then(y,v):y(P):P.then(y,v)}}return x(u)()}function Fu(c,u,p){var y=arguments.length;if(y<2)throw new we.InvalidArgument("Too few arguments");for(var v=new Array(y-1);--y;)v[y-1]=arguments[y];p=v.pop();var x=Re(v);return[c,x,p]}function xa(c,u,p,y,v){return re.resolve().then(function(){var x=se.transless||se,M=c._createTransaction(u,p,c._dbSchema,y);M.explicit=!0;var k={trans:M,transless:x};if(y)M.idbtrans=y.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,c._state.PR1398_maxLoop=3}catch(F){return F.name===$o.InvalidState&&c.isOpen()&&--c._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),c.close({disableAutoOpen:!1}),c.open().then(function(){return xa(c,u,p,null,v)})):_t(F)}var E=Es(v);E&&dr();var P,V=re.follow(function(){if(P=v.call(M,M),P)if(E){var F=vi.bind(null,null);P.then(F,F)}else typeof P.next=="function"&&typeof P.throw=="function"&&(P=_a(P))},k);return(P&&typeof P.then=="function"?re.resolve(P).then(function(F){return M.active?F:_t(new we.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):V.then(function(){return P})).then(function(F){return y&&M._resolve(),M._completion.then(function(){return F})}).catch(function(F){return M._reject(F),_t(F)})})}function eo(c,u,p){for(var y=o(c)?c.slice():[c],v=0;v<p;++v)y.push(u);return y}function Iu(c){return e(e({},c),{table:function(u){var p=c.table(u),y=p.schema,v={},x=[];function M(N,W,q){var $=as(N),K=v[$]=v[$]||[],te=N==null?0:typeof N=="string"?1:N.length,U=W>0,oe=e(e({},q),{name:U?"".concat($,"(virtual-from:").concat(q.name,")"):q.name,lowLevelIndex:q,isVirtual:U,keyTail:W,keyLength:te,extractKey:yr(N),unique:!U&&q.unique});if(K.push(oe),oe.isPrimaryKey||x.push(oe),te>1){var ce=te===2?N[0]:N.slice(0,te-1);M(ce,W+1,q)}return K.sort(function(le,be){return le.keyTail-be.keyTail}),oe}var k=M(y.primaryKey.keyPath,0,y.primaryKey);v[":id"]=[k];for(var E=0,P=y.indexes;E<P.length;E++){var V=P[E];M(V.keyPath,0,V)}function F(N){var W=v[as(N)];return W&&W[0]}function z(N,W){return{type:N.type===1?2:N.type,lower:eo(N.lower,N.lowerOpen?c.MAX_KEY:c.MIN_KEY,W),lowerOpen:!0,upper:eo(N.upper,N.upperOpen?c.MIN_KEY:c.MAX_KEY,W),upperOpen:!0}}function ne(N){var W=N.query.index;return W.isVirtual?e(e({},N),{query:{index:W.lowLevelIndex,range:z(N.query.range,W.keyTail)}}):N}var I=e(e({},p),{schema:e(e({},y),{primaryKey:k,indexes:x,getIndexByKeyPath:F}),count:function(N){return p.count(ne(N))},query:function(N){return p.query(ne(N))},openCursor:function(N){var W=N.query.index,q=W.keyTail,$=W.isVirtual,K=W.keyLength;if(!$)return p.openCursor(N);function te(U){function oe(le){le!=null?U.continue(eo(le,N.reverse?c.MAX_KEY:c.MIN_KEY,q)):N.unique?U.continue(U.key.slice(0,K).concat(N.reverse?c.MIN_KEY:c.MAX_KEY,q)):U.continue()}var ce=Object.create(U,{continue:{value:oe},continuePrimaryKey:{value:function(le,be){U.continuePrimaryKey(eo(le,c.MAX_KEY,q),be)}},primaryKey:{get:function(){return U.primaryKey}},key:{get:function(){var le=U.key;return K===1?le[0]:le.slice(0,K)}},value:{get:function(){return U.value}}});return ce}return p.openCursor(ne(N)).then(function(U){return U&&te(U)})}});return I}})}var An={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Iu};function ai(c,u,p,y){return p=p||{},y=y||"",s(c).forEach(function(v){if(!g(u,v))p[y+v]=void 0;else{var x=c[v],M=u[v];if(typeof x=="object"&&typeof M=="object"&&x&&M){var k=Nn(x),E=Nn(M);k!==E?p[y+v]=u[v]:k==="Object"?ai(x,M,p,y+v+"."):x!==M&&(p[y+v]=u[v])}else x!==M&&(p[y+v]=u[v])}}),s(u).forEach(function(v){g(c,v)||(p[y+v]=u[v])}),p}function to(c,u){return u.type==="delete"?u.keys:u.keys||u.values.map(c.extractKey)}var Ru={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(c){return e(e({},c),{table:function(u){var p=c.table(u),y=p.schema.primaryKey,v=e(e({},p),{mutate:function(x){var M=se.trans,k=M.table(u).hook,E=k.deleting,P=k.creating,V=k.updating;switch(x.type){case"add":if(P.fire===Je)break;return M._promise("readwrite",function(){return F(x)},!0);case"put":if(P.fire===Je&&V.fire===Je)break;return M._promise("readwrite",function(){return F(x)},!0);case"delete":if(E.fire===Je)break;return M._promise("readwrite",function(){return F(x)},!0);case"deleteRange":if(E.fire===Je)break;return M._promise("readwrite",function(){return z(x)},!0)}return p.mutate(x);function F(I){var N=se.trans,W=I.keys||to(y,I);if(!W)throw new Error("Keys missing");return I=I.type==="add"||I.type==="put"?e(e({},I),{keys:W}):e({},I),I.type!=="delete"&&(I.values=i([],I.values,!0)),I.keys&&(I.keys=i([],I.keys,!0)),Ol(p,I,W).then(function(q){var $=W.map(function(K,te){var U=q[te],oe={onerror:null,onsuccess:null};if(I.type==="delete")E.fire.call(oe,K,U,N);else if(I.type==="add"||U===void 0){var ce=P.fire.call(oe,K,I.values[te],N);K==null&&ce!=null&&(K=ce,I.keys[te]=K,y.outbound||J(I.values[te],y.keyPath,K))}else{var le=ai(U,I.values[te]),be=V.fire.call(oe,le,K,U,N);if(be){var Fe=I.values[te];Object.keys(be).forEach(function(he){g(Fe,he)?Fe[he]=be[he]:J(Fe,he,be[he])})}}return oe});return p.mutate(I).then(function(K){for(var te=K.failures,U=K.results,oe=K.numFailures,ce=K.lastResult,le=0;le<W.length;++le){var be=U?U[le]:W[le],Fe=$[le];be==null?Fe.onerror&&Fe.onerror(te[le]):Fe.onsuccess&&Fe.onsuccess(I.type==="put"&&q[le]?I.values[le]:be)}return{failures:te,results:U,numFailures:oe,lastResult:ce}}).catch(function(K){return $.forEach(function(te){return te.onerror&&te.onerror(K)}),Promise.reject(K)})})}function z(I){return ne(I.trans,I.range,1e4)}function ne(I,N,W){return p.query({trans:I,values:!1,query:{index:y,range:N},limit:W}).then(function(q){var $=q.result;return F({type:"delete",keys:$,trans:I}).then(function(K){return K.numFailures>0?Promise.reject(K.failures[0]):$.length<W?{failures:[],numFailures:0,lastResult:void 0}:ne(I,e(e({},N),{lower:$[$.length-1],lowerOpen:!0}),W)})})}}});return v}})}};function Ol(c,u,p){return u.type==="add"?Promise.resolve([]):c.getMany({trans:u.trans,keys:p,cache:"immutable"})}function wa(c,u,p){try{if(!u||u.keys.length<c.length)return null;for(var y=[],v=0,x=0;v<u.keys.length&&x<c.length;++v)Ne(u.keys[v],c[x])===0&&(y.push(p?Ze(u.values[v]):u.values[v]),++x);return y.length===c.length?y:null}catch{return null}}var Vu={stack:"dbcore",level:-1,create:function(c){return{table:function(u){var p=c.table(u);return e(e({},p),{getMany:function(y){if(!y.cache)return p.getMany(y);var v=wa(y.keys,y.trans._cache,y.cache==="clone");return v?re.resolve(v):p.getMany(y).then(function(x){return y.trans._cache={keys:y.keys,values:y.cache==="clone"?Ze(x):x},x})},mutate:function(y){return y.type!=="add"&&(y.trans._cache=null),p.mutate(y)}})}}}};function Fl(c,u){return c.trans.mode==="readonly"&&!!c.subscr&&!c.trans.explicit&&c.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function Ca(c,u){switch(c){case"query":return u.values&&!u.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var Lu={stack:"dbcore",level:0,name:"Observability",create:function(c){var u=c.schema.name,p=new It(c.MIN_KEY,c.MAX_KEY);return e(e({},c),{transaction:function(y,v,x){if(se.subscr&&v!=="readonly")throw new we.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(se.querier));return c.transaction(y,v,x)},table:function(y){var v=c.table(y),x=v.schema,M=x.primaryKey,k=x.indexes,E=M.extractKey,P=M.outbound,V=M.autoIncrement&&k.filter(function(I){return I.compound&&I.keyPath.includes(M.keyPath)}),F=e(e({},v),{mutate:function(I){var N,W,q=I.trans,$=I.mutatedParts||(I.mutatedParts={}),K=function(Se){var je="idb://".concat(u,"/").concat(y,"/").concat(Se);return $[je]||($[je]=new It)},te=K(""),U=K(":dels"),oe=I.type,ce=I.type==="deleteRange"?[I.range]:I.type==="delete"?[I.keys]:I.values.length<50?[to(M,I).filter(function(Se){return Se}),I.values]:[],le=ce[0],be=ce[1],Fe=I.trans._cache;if(o(le)){te.addKeys(le);var he=oe==="delete"||le.length===be.length?wa(le,Fe):null;he||U.addKeys(le),(he||be)&&Nu(K,x,he,be)}else if(le){var Pe={from:(N=le.lower)!==null&&N!==void 0?N:c.MIN_KEY,to:(W=le.upper)!==null&&W!==void 0?W:c.MAX_KEY};U.add(Pe),te.add(Pe)}else te.add(p),U.add(p),x.indexes.forEach(function(Se){return K(Se.name).add(p)});return v.mutate(I).then(function(Se){return le&&(I.type==="add"||I.type==="put")&&(te.addKeys(Se.results),V&&V.forEach(function(je){for(var Ce=I.values.map(function(Zt){return je.extractKey(Zt)}),xt=je.keyPath.findIndex(function(Zt){return Zt===M.keyPath}),zt=0,$n=Se.results.length;zt<$n;++zt)Ce[zt][xt]=Se.results[zt];K(je.name).addKeys(Ce)})),q.mutatedParts=_r(q.mutatedParts||{},$),Se})}}),z=function(I){var N,W,q=I.query,$=q.index,K=q.range;return[$,new It((N=K.lower)!==null&&N!==void 0?N:c.MIN_KEY,(W=K.upper)!==null&&W!==void 0?W:c.MAX_KEY)]},ne={get:function(I){return[M,new It(I.key)]},getMany:function(I){return[M,new It().addKeys(I.keys)]},count:z,query:z,openCursor:z};return s(ne).forEach(function(I){F[I]=function(N){var W=se.subscr,q=!!W,$=Fl(se,v)&&Ca(I,N),K=$?N.obsSet={}:W;if(q){var te=function(he){var Pe="idb://".concat(u,"/").concat(y,"/").concat(he);return K[Pe]||(K[Pe]=new It)},U=te(""),oe=te(":dels"),ce=ne[I](N),le=ce[0],be=ce[1];if(I==="query"&&le.isPrimaryKey&&!N.values?oe.add(be):te(le.name||"").add(be),!le.isPrimaryKey)if(I==="count")oe.add(p);else{var Fe=I==="query"&&P&&N.values&&v.query(e(e({},N),{values:!1}));return v[I].apply(this,arguments).then(function(he){if(I==="query"){if(P&&N.values)return Fe.then(function(Ce){var xt=Ce.result;return U.addKeys(xt),he});var Pe=N.values?he.result.map(E):he.result;N.values?U.addKeys(Pe):oe.addKeys(Pe)}else if(I==="openCursor"){var Se=he,je=N.values;return Se&&Object.create(Se,{key:{get:function(){return oe.addKey(Se.primaryKey),Se.key}},primaryKey:{get:function(){var Ce=Se.primaryKey;return oe.addKey(Ce),Ce}},value:{get:function(){return je&&U.addKey(Se.primaryKey),Se.value}}})}return he})}}return v[I].apply(this,arguments)}}),F}})}};function Nu(c,u,p,y){function v(x){var M=c(x.name||"");function k(P){return P!=null?x.extractKey(P):null}var E=function(P){return x.multiEntry&&o(P)?P.forEach(function(V){return M.addKey(V)}):M.addKey(P)};(p||y).forEach(function(P,V){var F=p&&k(p[V]),z=y&&k(y[V]);Ne(F,z)!==0&&(F!=null&&E(F),z!=null&&E(z))})}u.indexes.forEach(v)}function Il(c,u,p){if(p.numFailures===0)return u;if(u.type==="deleteRange")return null;var y=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1;if(p.numFailures===y)return null;var v=e({},u);return o(v.keys)&&(v.keys=v.keys.filter(function(x,M){return!(M in p.failures)})),"values"in v&&o(v.values)&&(v.values=v.values.filter(function(x,M){return!(M in p.failures)})),v}function ju(c,u){return u.lower===void 0?!0:u.lowerOpen?Ne(c,u.lower)>0:Ne(c,u.lower)>=0}function Bu(c,u){return u.upper===void 0?!0:u.upperOpen?Ne(c,u.upper)<0:Ne(c,u.upper)<=0}function Sa(c,u){return ju(c,u)&&Bu(c,u)}function Rl(c,u,p,y,v,x){if(!p||p.length===0)return c;var M=u.query.index,k=M.multiEntry,E=u.query.range,P=y.schema.primaryKey,V=P.extractKey,F=M.extractKey,z=(M.lowLevelIndex||M).extractKey,ne=p.reduce(function(I,N){var W=I,q=[];if(N.type==="add"||N.type==="put")for(var $=new It,K=N.values.length-1;K>=0;--K){var te=N.values[K],U=V(te);if(!$.hasKey(U)){var oe=F(te);(k&&o(oe)?oe.some(function(he){return Sa(he,E)}):Sa(oe,E))&&($.addKey(U),q.push(te))}}switch(N.type){case"add":{var ce=new It().addKeys(u.values?I.map(function(he){return V(he)}):I);W=I.concat(u.values?q.filter(function(he){var Pe=V(he);return ce.hasKey(Pe)?!1:(ce.addKey(Pe),!0)}):q.map(function(he){return V(he)}).filter(function(he){return ce.hasKey(he)?!1:(ce.addKey(he),!0)}));break}case"put":{var le=new It().addKeys(N.values.map(function(he){return V(he)}));W=I.filter(function(he){return!le.hasKey(u.values?V(he):he)}).concat(u.values?q:q.map(function(he){return V(he)}));break}case"delete":var be=new It().addKeys(N.keys);W=I.filter(function(he){return!be.hasKey(u.values?V(he):he)});break;case"deleteRange":var Fe=N.range;W=I.filter(function(he){return!Sa(V(he),Fe)});break}return W},c);return ne===c?c:(ne.sort(function(I,N){return Ne(z(I),z(N))||Ne(V(I),V(N))}),u.limit&&u.limit<1/0&&(ne.length>u.limit?ne.length=u.limit:c.length===u.limit&&ne.length<u.limit&&(v.dirty=!0)),x?Object.freeze(ne):ne)}function Vl(c,u){return Ne(c.lower,u.lower)===0&&Ne(c.upper,u.upper)===0&&!!c.lowerOpen==!!u.lowerOpen&&!!c.upperOpen==!!u.upperOpen}function Wu(c,u,p,y){if(c===void 0)return u!==void 0?-1:0;if(u===void 0)return 1;var v=Ne(c,u);if(v===0){if(p&&y)return 0;if(p)return 1;if(y)return-1}return v}function Hu(c,u,p,y){if(c===void 0)return u!==void 0?1:0;if(u===void 0)return-1;var v=Ne(c,u);if(v===0){if(p&&y)return 0;if(p)return-1;if(y)return 1}return v}function zu(c,u){return Wu(c.lower,u.lower,c.lowerOpen,u.lowerOpen)<=0&&Hu(c.upper,u.upper,c.upperOpen,u.upperOpen)>=0}function Yu(c,u,p,y){var v=Ni["idb://".concat(c,"/").concat(u)];if(!v)return[];var x=v.queries[p];if(!x)return[null,!1,v,null];var M=y.query?y.query.index.name:null,k=x[M||""];if(!k)return[null,!1,v,null];switch(p){case"query":var E=k.find(function(F){return F.req.limit===y.limit&&F.req.values===y.values&&Vl(F.req.query.range,y.query.range)});if(E)return[E,!0,v,k];var P=k.find(function(F){var z="limit"in F.req?F.req.limit:1/0;return z>=y.limit&&(y.values?F.req.values:!0)&&zu(F.req.query.range,y.query.range)});return[P,!1,v,k];case"count":var V=k.find(function(F){return Vl(F.req.query.range,y.query.range)});return[V,!!V,v,k]}}function Uu(c,u,p,y){c.subscribers.add(p),y.addEventListener("abort",function(){c.subscribers.delete(p),c.subscribers.size===0&&Gu(c,u)})}function Gu(c,u){setTimeout(function(){c.subscribers.size===0&&$t(u,c)},3e3)}var no={stack:"dbcore",level:0,name:"Cache",create:function(c){var u=c.schema.name,p=e(e({},c),{transaction:function(y,v,x){var M=c.transaction(y,v,x);if(v==="readwrite"){var k=new AbortController,E=k.signal,P=function(V){return function(){if(k.abort(),v==="readwrite"){for(var F=new Set,z=0,ne=y;z<ne.length;z++){var I=ne[z],N=Ni["idb://".concat(u,"/").concat(I)];if(N){var W=c.table(I),q=N.optimisticOps.filter(function(je){return je.trans===M});if(M._explicit&&V&&M.mutatedParts)for(var $=0,K=Object.values(N.queries.query);$<K.length;$++)for(var te=K[$],U=0,oe=te.slice();U<oe.length;U++){var ce=oe[U];ga(ce.obsSet,M.mutatedParts)&&($t(te,ce),ce.subscribers.forEach(function(je){return F.add(je)}))}else if(q.length>0){N.optimisticOps=N.optimisticOps.filter(function(je){return je.trans!==M});for(var le=0,be=Object.values(N.queries.query);le<be.length;le++)for(var te=be[le],Fe=0,he=te.slice();Fe<he.length;Fe++){var ce=he[Fe];if(ce.res!=null&&M.mutatedParts)if(V&&!ce.dirty){var Pe=Object.isFrozen(ce.res),Se=Rl(ce.res,ce.req,q,W,ce,Pe);ce.dirty?($t(te,ce),ce.subscribers.forEach(function(xt){return F.add(xt)})):Se!==ce.res&&(ce.res=Se,ce.promise=re.resolve({result:Se}))}else ce.dirty&&$t(te,ce),ce.subscribers.forEach(function(xt){return F.add(xt)})}}}}F.forEach(function(je){return je()})}}};M.addEventListener("abort",P(!1),{signal:E}),M.addEventListener("error",P(!1),{signal:E}),M.addEventListener("complete",P(!0),{signal:E})}return M},table:function(y){var v=c.table(y),x=v.schema.primaryKey,M=e(e({},v),{mutate:function(k){var E=se.trans;if(x.outbound||E.db._options.cache==="disabled"||E.explicit||E.idbtrans.mode!=="readwrite")return v.mutate(k);var P=Ni["idb://".concat(u,"/").concat(y)];if(!P)return v.mutate(k);var V=v.mutate(k);return(k.type==="add"||k.type==="put")&&(k.values.length>=50||to(x,k).some(function(F){return F==null}))?V.then(function(F){var z=e(e({},k),{values:k.values.map(function(I,N){var W;if(F.failures[N])return I;var q=!((W=x.keyPath)===null||W===void 0)&&W.includes(".")?Ze(I):e({},I);return J(q,x.keyPath,F.results[N]),q})}),ne=Il(P,z,F);P.optimisticOps.push(ne),queueMicrotask(function(){return k.mutatedParts&&Js(k.mutatedParts)})}):(P.optimisticOps.push(k),k.mutatedParts&&Js(k.mutatedParts),V.then(function(F){if(F.numFailures>0){$t(P.optimisticOps,k);var z=Il(P,k,F);z&&P.optimisticOps.push(z),k.mutatedParts&&Js(k.mutatedParts)}}),V.catch(function(){$t(P.optimisticOps,k),k.mutatedParts&&Js(k.mutatedParts)})),V},query:function(k){var E;if(!Fl(se,v)||!Ca("query",k))return v.query(k);var P=((E=se.trans)===null||E===void 0?void 0:E.db._options.cache)==="immutable",V=se,F=V.requery,z=V.signal,ne=Yu(u,y,"query",k),I=ne[0],N=ne[1],W=ne[2],q=ne[3];if(I&&N)I.obsSet=k.obsSet;else{var $=v.query(k).then(function(K){var te=K.result;if(I&&(I.res=te),P){for(var U=0,oe=te.length;U<oe;++U)Object.freeze(te[U]);Object.freeze(te)}else K.result=Ze(te);return K}).catch(function(K){return q&&I&&$t(q,I),Promise.reject(K)});I={obsSet:k.obsSet,promise:$,subscribers:new Set,type:"query",req:k,dirty:!1},q?q.push(I):(q=[I],W||(W=Ni["idb://".concat(u,"/").concat(y)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),W.queries.query[k.query.index.name||""]=q)}return Uu(I,q,F,z),I.promise.then(function(K){return{result:Rl(K.result,k,W?.optimisticOps,v,I,P)}})}});return M}});return p}};function io(c,u){return new Proxy(c,{get:function(p,y,v){return y==="db"?u:Reflect.get(p,y,v)}})}var li=function(){function c(u,p){var y=this;this._middlewares={},this.verno=0;var v=c.dependencies;this._options=p=e({addons:c.addons,autoOpen:!0,indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange,cache:"cloned"},p),this._deps={indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange};var x=p.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var M={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Je,dbReadyPromise:null,cancelOpen:Je,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:p.autoOpen};M.dbReadyPromise=new re(function(E){M.dbReadyResolve=E}),M.openCanceller=new re(function(E,P){M.cancelOpen=P}),this._state=M,this.name=u,this.on=ts(this,"populate","blocked","versionchange","close",{ready:[Os,Je]}),this.on.ready.subscribe=Z(this.on.ready.subscribe,function(E){return function(P,V){c.vip(function(){var F=y._state;if(F.openComplete)F.dbOpenError||re.resolve().then(P),V&&E(P);else if(F.onReadyBeingFired)F.onReadyBeingFired.push(P),V&&E(P);else{E(P);var z=y;V||E(function ne(){z.on.ready.unsubscribe(P),z.on.ready.unsubscribe(ne)})}})}}),this.Collection=mu(this),this.Table=fu(this),this.Transaction=oi(this),this.Version=Eu(this),this.WhereClause=Ml(this),this.on("versionchange",function(E){E.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(y.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(y.name,"'. Closing db now to resume the delete request.")),y.close({disableAutoOpen:!1})}),this.on("blocked",function(E){!E.newVersion||E.newVersion<E.oldVersion?console.warn("Dexie.delete('".concat(y.name,"') was blocked")):console.warn("Upgrade '".concat(y.name,"' blocked by other connection holding version ").concat(E.oldVersion/10))}),this._maxKey=os(p.IDBKeyRange),this._createTransaction=function(E,P,V,F){return new y.Transaction(E,P,V,y._options.chromeTransactionDurability,F)},this._fireOnBlocked=function(E){y.on("blocked").fire(E),fr.filter(function(P){return P.name===y.name&&P!==y&&!P._state.vcFired}).map(function(P){return P.on("versionchange").fire(E)})},this.use(Vu),this.use(no),this.use(Lu),this.use(An),this.use(Ru);var k=new Proxy(this,{get:function(E,P,V){if(P==="_vip")return!0;if(P==="table")return function(z){return io(y.table(z),k)};var F=Reflect.get(E,P,V);return F instanceof vl?io(F,k):P==="tables"?F.map(function(z){return io(z,k)}):P==="_createTransaction"?function(){var z=F.apply(this,arguments);return io(z,k)}:F}});this.vip=k,x.forEach(function(E){return E(y)})}return c.prototype.version=function(u){if(isNaN(u)||u<.1)throw new we.Type("Given version is not a positive number");if(u=Math.round(u*10)/10,this.idbdb||this._state.isBeingOpened)throw new we.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var p=this._versions,y=p.filter(function(v){return v._cfg.version===u})[0];return y||(y=new this.Version(u),p.push(y),p.sort(El),y.stores({}),this._state.autoSchema=!1,y)},c.prototype._whenReady=function(u){var p=this;return this.idbdb&&(this._state.openComplete||se.letThrough||this._vip)?u():new re(function(y,v){if(p._state.openComplete)return v(new we.DatabaseClosed(p._state.dbOpenError));if(!p._state.isBeingOpened){if(!p._state.autoOpen){v(new we.DatabaseClosed);return}p.open().catch(Je)}p._state.dbReadyPromise.then(y,v)}).then(u)},c.prototype.use=function(u){var p=u.stack,y=u.create,v=u.level,x=u.name;x&&this.unuse({stack:p,name:x});var M=this._middlewares[p]||(this._middlewares[p]=[]);return M.push({stack:p,create:y,level:v??10,name:x}),M.sort(function(k,E){return k.level-E.level}),this},c.prototype.unuse=function(u){var p=u.stack,y=u.name,v=u.create;return p&&this._middlewares[p]&&(this._middlewares[p]=this._middlewares[p].filter(function(x){return v?x.create!==v:y?x.name!==y:!1})),this},c.prototype.open=function(){var u=this;return Ri(jn,function(){return Ou(u)})},c.prototype._close=function(){var u=this._state,p=fr.indexOf(this);if(p>=0&&fr.splice(p,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new re(function(y){u.dbReadyResolve=y}),u.openCanceller=new re(function(y,v){u.cancelOpen=v}))},c.prototype.close=function(u){var p=u===void 0?{disableAutoOpen:!0}:u,y=p.disableAutoOpen,v=this._state;y?(v.isBeingOpened&&v.cancelOpen(new we.DatabaseClosed),this._close(),v.autoOpen=!1,v.dbOpenError=new we.DatabaseClosed):(this._close(),v.autoOpen=this._options.autoOpen||v.isBeingOpened,v.openComplete=!1,v.dbOpenError=null)},c.prototype.delete=function(u){var p=this;u===void 0&&(u={disableAutoOpen:!0});var y=arguments.length>0&&typeof arguments[0]!="object",v=this._state;return new re(function(x,M){var k=function(){p.close(u);var E=p._deps.indexedDB.deleteDatabase(p.name);E.onsuccess=pt(function(){us(p._deps,p.name),x()}),E.onerror=Yn(M),E.onblocked=p._fireOnBlocked};if(y)throw new we.InvalidArgument("Invalid closeOptions argument to db.delete()");v.isBeingOpened?v.dbReadyPromise.then(k):k()})},c.prototype.backendDB=function(){return this.idbdb},c.prototype.isOpen=function(){return this.idbdb!==null},c.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},c.prototype.hasFailed=function(){return this._state.dbOpenError!==null},c.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(c.prototype,"tables",{get:function(){var u=this;return s(this._allTables).map(function(p){return u._allTables[p]})},enumerable:!1,configurable:!0}),c.prototype.transaction=function(){var u=Fu.apply(this,arguments);return this._transaction.apply(this,u)},c.prototype._transaction=function(u,p,y){var v=this,x=se.trans;(!x||x.db!==this||u.indexOf("!")!==-1)&&(x=null);var M=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");var k,E;try{if(E=p.map(function(V){var F=V instanceof v.Table?V.name:V;if(typeof F!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return F}),u=="r"||u===ta)k=ta;else if(u=="rw"||u==na)k=na;else throw new we.InvalidArgument("Invalid transaction mode: "+u);if(x){if(x.mode===ta&&k===na)if(M)x=null;else throw new we.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");x&&E.forEach(function(V){if(x&&x.storeNames.indexOf(V)===-1)if(M)x=null;else throw new we.SubTransaction("Table "+V+" not included in parent transaction.")}),M&&x&&!x.active&&(x=null)}}catch(V){return x?x._promise(null,function(F,z){z(V)}):_t(V)}var P=xa.bind(null,this,k,E,x,y);return x?x._promise(k,P,"lock"):se.trans?Ri(se.transless,function(){return v._whenReady(P)}):this._whenReady(P)},c.prototype.table=function(u){if(!g(this._allTables,u))throw new we.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},c}(),$u=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ku=function(){function c(u){this._subscribe=u}return c.prototype.subscribe=function(u,p,y){return this._subscribe(!u||typeof u=="function"?{next:u,error:p,complete:y}:u)},c.prototype[$u]=function(){return this},c}(),ro;try{ro={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{ro={indexedDB:null,IDBKeyRange:null}}function Ll(c){var u=!1,p,y=new Ku(function(v){var x=Es(c);function M(q){var $=Wn();try{x&&dr();var K=yi(c,q);return x&&(K=K.finally(vi)),K}finally{$&&Ii()}}var k=!1,E,P={},V={},F={get closed(){return k},unsubscribe:function(){k||(k=!0,E&&E.abort(),z&&Gn.storagemutated.unsubscribe(N))}};v.start&&v.start(F);var z=!1,ne=function(){return Jo(W)};function I(){return ga(V,P)}var N=function(q){_r(P,q),I()&&ne()},W=function(){if(!(k||!ro.indexedDB)){P={};var q={};E&&E.abort(),E=new AbortController;var $={subscr:q,signal:E.signal,requery:ne,querier:c,trans:null},K=M($);Promise.resolve(K).then(function(te){u=!0,p=te,!(k||$.signal.aborted)&&(P={},V=q,!st(V)&&!z&&(Gn(bi,N),z=!0),Jo(function(){return!k&&v.next&&v.next(te)}))},function(te){u=!1,["DatabaseClosedError","AbortError"].includes(te?.name)||k||Jo(function(){k||v.error&&v.error(te)})})}};return setTimeout(ne,0),F});return y.hasValue=function(){return u},y.getValue=function(){return p},y}var ji=li;_(ji,e(e({},As),{delete:function(c){var u=new ji(c,{addons:[]});return u.delete()},exists:function(c){return new ji(c,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(c){try{return Tu(ji.dependencies).then(c)}catch{return _t(new we.MissingAPI)}},defineClass:function(){function c(u){l(this,u)}return c},ignoreTransaction:function(c){return se.trans?Ri(se.transless,c):c()},vip:fa,async:function(c){return function(){try{var u=_a(c.apply(this,arguments));return!u||typeof u.then!="function"?re.resolve(u):u}catch(p){return _t(p)}}},spawn:function(c,u,p){try{var y=_a(c.apply(p,u||[]));return!y||typeof y.then!="function"?re.resolve(y):y}catch(v){return _t(v)}},currentTransaction:{get:function(){return se.trans||null}},waitFor:function(c,u){var p=re.resolve(typeof c=="function"?ji.ignoreTransaction(c):c).timeout(u||6e4);return se.trans?se.trans.waitFor(p):p},Promise:re,debug:{get:function(){return sn},set:function(c){Fs(c)}},derive:D,extend:l,props:_,override:Z,Events:ts,on:Gn,liveQuery:Ll,extendObservabilitySet:_r,getByKeyPath:ae,setByKeyPath:J,delByKeyPath:me,shallowClone:Te,deepClone:Ze,getObjectDiff:ai,cmp:Ne,asap:Y,minKey:js,addons:[],connections:fr,errnames:$o,dependencies:ro,cache:Ni,semVer:hr,version:hr.split(".").map(function(c){return parseInt(c)}).reduce(function(c,u,p){return c+u/Math.pow(10,p*2)})})),ji.maxKey=os(ji.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Gn(bi,function(c){if(!ci){var u;u=new CustomEvent(Un,{detail:c}),ci=!0,dispatchEvent(u),ci=!1}}),addEventListener(Un,function(c){var u=c.detail;ci||Ma(u)}));function Ma(c){var u=ci;try{ci=!0,Gn.storagemutated.fire(c),ba(c,!0)}finally{ci=u}}var ci=!1,ui,so=function(){};typeof BroadcastChannel<"u"&&(so=function(){ui=new BroadcastChannel(Un),ui.onmessage=function(c){return c.data&&Ma(c.data)}},so(),typeof ui.unref=="function"&&ui.unref(),Gn(bi,function(c){ci||ui.postMessage(c)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(c){if(!li.disableBfCache&&c.persisted){sn&&console.debug("Dexie: handling persisted pagehide"),ui?.close();for(var u=0,p=fr;u<p.length;u++){var y=p[u];y.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(c){!li.disableBfCache&&c.persisted&&(sn&&console.debug("Dexie: handling persisted pageshow"),so(),Ma({all:new It(-1/0,[[]])}))}));function oo(c){return new is({add:c})}function xr(c){return new is({remove:c})}function ao(c,u){return new is({replacePrefix:[c,u]})}re.rejectionMapper=Ko,Fs(sn);var Nl=Object.freeze({__proto__:null,Dexie:li,liveQuery:Ll,Entity:pl,cmp:Ne,PropModification:is,replacePrefix:ao,add:oo,remove:xr,default:li,RangeSet:It,mergeRanges:ds,rangesOverlap:ma});return e(li,Nl,{default:li}),li})});var Pa="Service workers are disabled or not supported by this browser";function ry(t){return Da(()=>tf(new Error(t)))}var _o=class{constructor(n){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=ry(Pa);else{let i=ed(n,"controllerchange").pipe(Pn(()=>n.controller)),r=Da(()=>_i(n.controller)),s=nf(r,i);this.worker=s.pipe(ka(g=>!!g)),this.registration=this.worker.pipe(Ea(()=>n.getRegistration()));let f=ed(n,"message").pipe(Pn(g=>g.data)).pipe(ka(g=>g&&g.type)).pipe(of());f.connect(),this.events=f}}postMessage(n,e){return this.worker.pipe(ms(1),Hl(i=>{i.postMessage(Be({action:n},e))})).toPromise().then(()=>{})}postMessageWithOperation(n,e,i){let r=this.waitForOperationCompleted(i),s=this.postMessage(n,e);return Promise.all([s,r]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let e;return typeof n=="string"?e=i=>i.type===n:e=i=>n.includes(i.type),this.events.pipe(ka(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(ms(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(ka(e=>e.nonce===n),ms(1),Pn(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},sy=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new Wl,!e.isEnabled){this.messages=ho,this.notificationClicks=ho,this.subscription=ho;return}this.messages=this.sw.eventsOfType("PUSH").pipe(Pn(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Pn(r=>r.data)),this.pushManager=this.sw.registration.pipe(Pn(r=>r.pushManager));let i=this.pushManager.pipe(Ea(r=>r.getSubscription()));this.subscription=td(i,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Pa));let i={userVisibleOnly:!0},r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return i.applicationServerKey=s,this.pushManager.pipe(Ea(o=>o.subscribe(i)),ms(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pa));let e=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(ms(1),Ea(e)).toPromise()}decodeBase64(e){return atob(e)}static{this.\u0275fac=function(i){return new(i||t)(un(_o))}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac})}}return t})(),oy=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=ho,this.unrecoverable=ho;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pa));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pa));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static{this.\u0275fac=function(i){return new(i||t)(un(_o))}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac})}}return t})();var Of=new kt("");function ay(t,n,e,i){return()=>{if(!(cd(i)&&"serviceWorker"in navigator&&e.enabled!==!1))return;let r=t.get(lf),s=t.get(sd);r.runOutsideAngular(()=>{let l=navigator.serviceWorker,d=()=>l.controller?.postMessage({action:"INITIALIZE"});l.addEventListener("controllerchange",d),s.onDestroy(()=>{l.removeEventListener("controllerchange",d)})});let o;if(typeof e.registrationStrategy=="function")o=e.registrationStrategy();else{let[l,...d]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(l){case"registerImmediately":o=_i(null);break;case"registerWithDelay":o=Ff(+d[0]||0);break;case"registerWhenStable":let f=Sr(t.get(sd).whenStable());o=d[0]?td(f,Ff(+d[0])):f;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}r.runOutsideAngular(()=>o.pipe(ms(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(l=>console.error("Service worker registration failed with:",l))))}}function Ff(t){return _i(null).pipe(sf(t))}function ly(t,n){return new _o(cd(n)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Aa=class{};function If(t,n={}){return Yi([sy,oy,{provide:Of,useValue:t},{provide:Aa,useValue:n},{provide:_o,useFactory:ly,deps:[Aa,nd]},{provide:rd,useFactory:ay,deps:[Yt,Of,Aa,nd],multi:!0}])}var ud=new kt("JWT_OPTIONS"),$l=(()=>{class t{constructor(e=null){this.tokenGetter=e&&e.tokenGetter||function(){}}urlBase64Decode(e){let i=e.replace(/-/g,"+").replace(/_/g,"/");switch(i.length%4){case 0:break;case 2:{i+="==";break}case 3:{i+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(i)}b64decode(e){let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="";if(e=String(e).replace(/=+$/,""),e.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let s=0,o,l,d=0;l=e.charAt(d++);~l&&(o=s%4?o*64+l:l,s++%4)?r+=String.fromCharCode(255&o>>(-2*s&6)):0)l=i.indexOf(l);return r}b64DecodeUnicode(e){return decodeURIComponent(Array.prototype.map.call(this.b64decode(e),i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(e=this.tokenGetter()){return e instanceof Promise?e.then(i=>this._decodeToken(i)):this._decodeToken(e)}_decodeToken(e){if(!e||e==="")return null;let i=e.split(".");if(i.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let r=this.urlBase64Decode(i[1]);if(!r)throw new Error("Cannot decode the token.");return JSON.parse(r)}getTokenExpirationDate(e=this.tokenGetter()){return e instanceof Promise?e.then(i=>this._getTokenExpirationDate(i)):this._getTokenExpirationDate(e)}_getTokenExpirationDate(e){let i;if(i=this.decodeToken(e),!i||!i.hasOwnProperty("exp"))return null;let r=new Date(0);return r.setUTCSeconds(i.exp),r}isTokenExpired(e=this.tokenGetter(),i){return e instanceof Promise?e.then(r=>this._isTokenExpired(r,i)):this._isTokenExpired(e,i)}_isTokenExpired(e,i){if(!e||e==="")return!0;let r=this.getTokenExpirationDate(e);return i=i||0,r===null?!1:!(r.valueOf()>new Date().valueOf()+i*1e3)}getAuthScheme(e,i){return typeof e=="function"?e(i):e}}return t.\u0275fac=function(e){return new(e||t)(un(ud))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),Rf=t=>t instanceof Promise?Da(()=>t):_i(t),cy=(()=>{class t{constructor(e,i,r){this.jwtHelper=i,this.document=r,this.standardPorts=["80","443"],this.tokenGetter=e.tokenGetter,this.headerName=e.headerName||"Authorization",this.authScheme=e.authScheme||e.authScheme===""?e.authScheme:"Bearer ",this.allowedDomains=e.allowedDomains||[],this.disallowedRoutes=e.disallowedRoutes||[],this.throwNoTokenError=e.throwNoTokenError||!1,this.skipWhenExpired=e.skipWhenExpired}isAllowedDomain(e){let i=new URL(e.url,this.document.location.origin);if(i.host===this.document.location.host)return!0;let r=`${i.hostname}${i.port&&!this.standardPorts.includes(i.port)?":"+i.port:""}`;return this.allowedDomains.findIndex(s=>typeof s=="string"?s===r:s instanceof RegExp?s.test(r):!1)>-1}isDisallowedRoute(e){let i=new URL(e.url,this.document.location.origin);return this.disallowedRoutes.findIndex(r=>{if(typeof r=="string"){let s=new URL(r,this.document.location.origin);return s.hostname===i.hostname&&s.pathname===i.pathname}return r instanceof RegExp?r.test(e.url):!1})>-1}handleInterception(e,i,r){let s=this.jwtHelper.getAuthScheme(this.authScheme,i);if(!e&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let o=_i(!1);return this.skipWhenExpired&&(o=e?Rf(this.jwtHelper.isTokenExpired(e)):_i(!0)),e?o.pipe(Pn(l=>l&&this.skipWhenExpired?i.clone():i.clone({setHeaders:{[this.headerName]:`${s}${e}`}})),Ju(l=>r.handle(l))):r.handle(i)}intercept(e,i){if(!this.isAllowedDomain(e)||this.isDisallowedRoute(e))return i.handle(e);let r=this.tokenGetter(e);return Rf(r).pipe(Ju(s=>this.handleInterception(s,e,i)))}}return t.\u0275fac=function(e){return new(e||t)(un(ud),un($l),un(bf))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),Vf=(()=>{class t{constructor(e){if(e)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(e){return{ngModule:t,providers:[{provide:Mf,useClass:cy,multi:!0},e.jwtOptionsProvider||{provide:ud,useValue:e.config},$l]}}}return t.\u0275fac=function(e){return new(e||t)(un(t,12))},t.\u0275mod=Dr({type:t}),t.\u0275inj=Mr({}),t})();var uy=new kt("TRANSLOCO_LOADER");function dd(t,n){return t&&(Object.prototype.hasOwnProperty.call(t,n)?t[n]:n.split(".").reduce((e,i)=>e?.[i],t))}function dy(t,n,e){t=Be({},t);let i=n.split("."),r=i.length-1;return i.reduce((s,o,l)=>(l===r?s[o]=e:s[o]=Array.isArray(s[o])?s[o].slice():Be({},s[o]),s&&s[o]),t),t}function hy(t){return typeof t=="string"}function fy(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function py(t){return t==null}function Lf(t){return py(t)===!1}var Oa=new kt("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>xo}),xo={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"],scopes:{keepCasing:!1}};function my(t={}){return Dt(Be(Be({},xo),t),{missingHandler:Be(Be({},xo.missingHandler),t.missingHandler),flatten:Be(Be({},xo.flatten),t.flatten),scopes:Be(Be({},xo.scopes),t.scopes)})}var gy=new kt("TRANSLOCO_TRANSPILER"),yy=(()=>{class t{config=ye(Oa,{optional:!0})??xo;get interpolationMatcher(){return vy(this.config)}transpile({value:e,params:i={},translation:r,key:s}){if(hy(e)){let o,l=e;for(;(o=this.interpolationMatcher.exec(l))!==null;){let[d,f]=o;l=l.replace(d,()=>{let g=f.trim(),_=dd(i,g);return Lf(_)?_:Lf(r[g])?this.transpile({params:i,translation:r,key:s,value:r[g]}):""})}return l}else i&&(fy(e)?e=this.handleObject({value:e,params:i,translation:r,key:s}):Array.isArray(e)&&(e=this.handleArray({value:e,params:i,translation:r,key:s})));return e}handleObject({value:e,params:i={},translation:r,key:s}){let o=e;return Object.keys(i).forEach(l=>{let d=this.transpile({value:dd(o,l),params:dd(i,l),translation:r,key:s});o=dy(o,l,d)}),o}handleArray(r){var s=r,{value:e}=s,i=Qh(s,["value"]);return e.map(o=>this.transpile(Be({value:o},i)))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})();function vy(t){let[n,e]=t.interpolation;return new RegExp(`${n}([^${n}${e}]*?)${e}`,"g")}var by=new kt("TRANSLOCO_MISSING_HANDLER"),_y=(()=>{class t{handle(e,i){if(i.missingHandler.logMissingKey&&!i.prodMode){let r=`Missing translation for '${e}'`;console.warn(`%c ${r}`,"font-size: 12px; color: red")}return e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})(),xy=new kt("TRANSLOCO_INTERCEPTOR"),wy=(()=>{class t{preSaveTranslation(e){return e}preSaveTranslationKey(e,i){return i}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})(),Cy=new kt("TRANSLOCO_FALLBACK_STRATEGY"),Sy=(()=>{class t{userConfig;constructor(e){this.userConfig=e}getNextLangs(){let e=this.userConfig.fallbackLang;if(!e)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(e)?e:[e]}static \u0275fac=function(i){return new(i||t)(un(Oa))};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})();var I1=new kt("TRANSLOCO_LANG"),R1=new kt("TRANSLOCO_LOADING_TEMPLATE"),V1=new kt("TRANSLOCO_SCOPE");function Nf(t){let n=[ky(yy),Ty(_y),Ay(wy),Ey(Sy)];return t.config&&n.push(My(t.config)),t.loader&&n.push(Dy(t.loader)),n}function My(t){return Yi([{provide:Oa,useValue:my(t)}])}function Dy(t){return Yi([{provide:uy,useClass:t}])}function ky(t){return Yi([{provide:gy,useClass:t,deps:[Oa]}])}function Ey(t){return Yi([{provide:Cy,useClass:t,deps:[Oa]}])}function Ty(t){return Yi([{provide:by,useClass:t}])}function Ay(t){return Yi([{provide:xy,useClass:t}])}var L1=new kt("TRANSLOCO_TEST_LANGS - Available testing languages"),N1=new kt("TRANSLOCO_TEST_OPTIONS - Testing options");var Kl={production:!0,apiUrl:"http://localhost:3000/"};var Kf=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||t)(ke(go),ke(mo))}}static{this.\u0275dir=Nt({type:t})}}return t})(),vd=(()=>{class t extends Kf{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gs(t)))(r||t)}})()}static{this.\u0275dir=Nt({type:t,features:[vn]})}}return t})(),Tt=new kt("");var Py={provide:Tt,useExisting:rt(()=>Jn),multi:!0};function Oy(){let t=ld()?ld().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Fy=new kt(""),Jn=(()=>{class t extends Kf{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Oy())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||t)(ke(go),ke(mo),ke(Fy,8))}}static{this.\u0275dir=Nt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&pe("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ct([Py]),vn]})}}return t})();function Or(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function qf(t){return t!=null&&typeof t.length=="number"}var Ir=new kt(""),Na=new kt(""),Iy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ut=class{static min(n){return Ry(n)}static max(n){return Vy(n)}static required(n){return Xf(n)}static requiredTrue(n){return Ly(n)}static email(n){return Ny(n)}static minLength(n){return jy(n)}static maxLength(n){return By(n)}static pattern(n){return Wy(n)}static nullValidator(n){return Xl(n)}static compose(n){return np(n)}static composeAsync(n){return rp(n)}};function Ry(t){return n=>{if(Or(n.value)||Or(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function Vy(t){return n=>{if(Or(n.value)||Or(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function Xf(t){return Or(t.value)?{required:!0}:null}function Ly(t){return t.value===!0?null:{required:!0}}function Ny(t){return Or(t.value)||Iy.test(t.value)?null:{email:!0}}function jy(t){return n=>Or(n.value)||!qf(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function By(t){return n=>qf(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function Wy(t){if(!t)return Xl;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(Or(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Xl(t){return null}function Qf(t){return t!=null}function Zf(t){return yf(t)?Sr(t):t}function Jf(t){let n={};return t.forEach(e=>{n=e!=null?Be(Be({},n),e):n}),Object.keys(n).length===0?null:n}function ep(t,n){return n.map(e=>e(t))}function Hy(t){return!t.validate}function tp(t){return t.map(n=>Hy(n)?n:e=>n.validate(e))}function np(t){if(!t)return null;let n=t.filter(Qf);return n.length==0?null:function(e){return Jf(ep(e,n))}}function ip(t){return t!=null?np(tp(t)):null}function rp(t){if(!t)return null;let n=t.filter(Qf);return n.length==0?null:function(e){let i=ep(e,n).map(Zf);return rf(i).pipe(Pn(Jf))}}function sp(t){return t!=null?rp(tp(t)):null}function jf(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function op(t){return t._rawValidators}function ap(t){return t._rawAsyncValidators}function hd(t){return t?Array.isArray(t)?t:[t]:[]}function Ql(t,n){return Array.isArray(t)?t.includes(n):t===n}function Bf(t,n){let e=hd(n);return hd(t).forEach(r=>{Ql(e,r)||e.push(r)}),e}function Wf(t,n){return hd(n).filter(e=>!Ql(t,e))}var Zl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=ip(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=sp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Vn=class extends Zl{get formDirective(){return null}get path(){return null}},Rt=class extends Zl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Jl=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zy={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rS=Dt(Be({},zy),{"[class.ng-submitted]":"isSubmitted"}),dt=(()=>{class t extends Jl{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(ke(Rt,2))}}static{this.\u0275dir=Nt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ui("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[vn]})}}return t})(),bn=(()=>{class t extends Jl{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(ke(Vn,10))}}static{this.\u0275dir=Nt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ui("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[vn]})}}return t})();var Fa="VALID",ql="INVALID",wo="PENDING",Ia="DISABLED",Fr=class{},ec=class extends Fr{constructor(n,e){super(),this.value=n,this.source=e}},Ra=class extends Fr{constructor(n,e){super(),this.pristine=n,this.source=e}},Va=class extends Fr{constructor(n,e){super(),this.touched=n,this.source=e}},Co=class extends Fr{constructor(n,e){super(),this.status=n,this.source=e}},fd=class extends Fr{constructor(n){super(),this.source=n}},pd=class extends Fr{constructor(n){super(),this.source=n}};function bd(t){return(rc(t)?t.validators:t)||null}function Yy(t){return Array.isArray(t)?ip(t):t||null}function _d(t,n){return(rc(n)?n.asyncValidators:t)||null}function Uy(t){return Array.isArray(t)?sp(t):t||null}function rc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function lp(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new zl(1e3,"");if(!i[e])throw new zl(1001,"")}function cp(t,n,e){t._forEachChild((i,r)=>{if(e[r]===void 0)throw new zl(1002,"")})}var So=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=vs(()=>this.statusReactive()),this.statusReactive=We(void 0),this._pristine=vs(()=>this.pristineReactive()),this.pristineReactive=We(!0),this._touched=vs(()=>this.touchedReactive()),this.touchedReactive=We(!1),this._events=new Wl,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Ar(this.statusReactive)}set status(n){Ar(()=>this.statusReactive.set(n))}get valid(){return this.status===Fa}get invalid(){return this.status===ql}get pending(){return this.status==wo}get disabled(){return this.status===Ia}get enabled(){return this.status!==Ia}get pristine(){return Ar(this.pristineReactive)}set pristine(n){Ar(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return Ar(this.touchedReactive)}set touched(n){Ar(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Bf(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Bf(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Wf(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Wf(n,this._rawAsyncValidators))}hasValidator(n){return Ql(this._rawValidators,n)}hasAsyncValidator(n){return Ql(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Dt(Be({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new Va(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&n.emitEvent!==!1&&this._events.next(new Va(!1,i))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Dt(Be({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new Ra(!1,i))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&n.emitEvent!==!1&&this._events.next(new Ra(!0,i))}markAsPending(n={}){this.status=wo;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Co(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Dt(Be({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Ia,this.errors=null,this._forEachChild(r=>{r.disable(Dt(Be({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ec(this.value,i)),this._events.next(new Co(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Dt(Be({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Fa,this._forEachChild(i=>{i.enable(Dt(Be({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Dt(Be({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fa||this.status===wo)&&this._runAsyncValidator(i,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ec(this.value,e)),this._events.next(new Co(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Dt(Be({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ia:Fa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=wo,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=Zf(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Co(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new qn,this.statusChanges=new qn}_calculateStatus(){return this._allControlsDisabled()?Ia:this.errors?ql:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wo)?wo:this._anyControlsHaveStatus(ql)?ql:Fa}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),r&&this._events.next(new Ra(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Va(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){rc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Yy(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=Uy(this._rawAsyncValidators)}},tc=class extends So{constructor(n,e,i){super(bd(e),_d(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){cp(this,!0,n),Object.keys(n).forEach(i=>{lp(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var md=class extends tc{};var sc=new kt("CallSetDisabledState",{providedIn:"root",factory:()=>oc}),oc="always";function ac(t,n){return[...n.path,t]}function gd(t,n,e=oc){xd(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),$y(t,n),qy(t,n),Ky(t,n),Gy(t,n)}function Hf(t,n,e=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),ic(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function nc(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Gy(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function xd(t,n){let e=op(t);n.validator!==null?t.setValidators(jf(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=ap(t);n.asyncValidator!==null?t.setAsyncValidators(jf(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();nc(n._rawValidators,r),nc(n._rawAsyncValidators,r)}function ic(t,n){let e=!1;if(t!==null){if(n.validator!==null){let r=op(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==n.validator);s.length!==r.length&&(e=!0,t.setValidators(s))}}if(n.asyncValidator!==null){let r=ap(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==n.asyncValidator);s.length!==r.length&&(e=!0,t.setAsyncValidators(s))}}}let i=()=>{};return nc(n._rawValidators,i),nc(n._rawAsyncValidators,i),e}function $y(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&up(t,n)})}function Ky(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&up(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function up(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function qy(t,n){let e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function Xy(t,n){t==null,xd(t,n)}function Qy(t,n){return ic(t,n)}function dp(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function Zy(t){return Object.getPrototypeOf(t.constructor)===vd}function Jy(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function hp(t,n){if(!n)return null;Array.isArray(n);let e,i,r;return n.forEach(s=>{s.constructor===Jn?e=s:Zy(s)?i=s:r=s}),r||i||e||null}function ev(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function zf(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Yf(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var La=class extends So{constructor(n=null,e,i){super(bd(e),_d(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Yf(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){zf(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){zf(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Yf(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var tv=t=>t instanceof La,nv=(()=>{class t extends Vn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ac(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gs(t)))(r||t)}})()}static{this.\u0275dir=Nt({type:t,features:[vn]})}}return t})();var iv={provide:Rt,useExisting:rt(()=>dn)},Uf=Promise.resolve(),dn=(()=>{class t extends Rt{constructor(e,i,r,s,o,l){super(),this._changeDetectorRef=o,this.callSetDisabledState=l,this.control=new La,this._registered=!1,this.name="",this.update=new qn,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=hp(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),dp(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){gd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Uf.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&ad(i);Uf.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ac(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||t)(ke(Vn,9),ke(Ir,10),ke(Na,10),ke(Tt,10),ke(Ul,8),ke(sc,8))}}static{this.\u0275dir=Nt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ct([iv]),vn,xi]})}}return t})(),_n=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Nt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var fp=new kt("");var rv={provide:Vn,useExisting:rt(()=>et)},et=(()=>{class t extends Vn{get submitted(){return Ar(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=vs(()=>this._submittedReactive()),this._submittedReactive=We(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qn,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ic(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return gd(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Hf(e.control||null,e,!1),ev(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),Jy(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new fd(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new pd(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(Hf(i||null,e),tv(r)&&(gd(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);Xy(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&Qy(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xd(this.form,this),this._oldForm&&ic(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||t)(ke(Ir,10),ke(Na,10),ke(sc,8))}}static{this.\u0275dir=Nt({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&pe("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ct([rv]),vn,xi]})}}return t})(),sv={provide:Vn,useExisting:rt(()=>pp)},pp=(()=>{class t extends nv{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){mp(this._parent)}static{this.\u0275fac=function(i){return new(i||t)(ke(Vn,13),ke(Ir,10),ke(Na,10))}}static{this.\u0275dir=Nt({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[ct([sv]),vn]})}}return t})(),ov={provide:Vn,useExisting:rt(()=>lc)},lc=(()=>{class t extends Vn{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ac(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){mp(this._parent)}static{this.\u0275fac=function(i){return new(i||t)(ke(Vn,13),ke(Ir,10),ke(Na,10))}}static{this.\u0275dir=Nt({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[ct([ov]),vn]})}}return t})();function mp(t){return!(t instanceof pp)&&!(t instanceof et)&&!(t instanceof lc)}var av={provide:Rt,useExisting:rt(()=>hn)},hn=(()=>{class t extends Rt{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new qn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=hp(this,s)}ngOnChanges(e){this._added||this._setUpControl(),dp(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ac(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||t)(ke(Vn,13),ke(Ir,10),ke(Na,10),ke(Tt,10),ke(fp,8))}}static{this.\u0275dir=Nt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ct([av]),vn,xi]})}}return t})(),lv={provide:Tt,useExisting:rt(()=>Mo),multi:!0};function gp(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function cv(t){return t.split(":")[0]}var Mo=(()=>{class t extends vd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),r=gp(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=cv(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gs(t)))(r||t)}})()}static{this.\u0275dir=Nt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&pe("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ct([lv]),vn]})}}return t})(),cc=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(gp(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(ke(mo),ke(go),ke(Mo,9))}}static{this.\u0275dir=Nt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),uv={provide:Tt,useExisting:rt(()=>yp),multi:!0};function Gf(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function dv(t){return t.split(":")[0]}var yp=(()=>{class t extends vd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let l=0;l<o.length;l++){let d=o[l],f=this._getOptionValue(d.value);r.push(f)}}else{let o=i.options;for(let l=0;l<o.length;l++){let d=o[l];if(d.selected){let f=this._getOptionValue(d.value);r.push(f)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=dv(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gs(t)))(r||t)}})()}static{this.\u0275dir=Nt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&pe("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ct([uv]),vn]})}}return t})(),uc=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Gf(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Gf(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(ke(mo),ke(go),ke(yp,9))}}static{this.\u0275dir=Nt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var hv=(()=>{class t{constructor(){this._validator=Xl}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Xl,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Nt({type:t,features:[xi]})}}return t})();var fv={provide:Ir,useExisting:rt(()=>wd),multi:!0};var wd=(()=>{class t extends hv{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ad,this.createValidator=e=>Xf}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=gs(t)))(r||t)}})()}static{this.\u0275dir=Nt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&df("required",r._enabled?"":null)},inputs:{required:"required"},features:[ct([fv]),vn]})}}return t})();var vp=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Dr({type:t})}static{this.\u0275inj=Mr({})}}return t})(),yd=class extends So{constructor(n,e,i){super(bd(e),_d(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){cp(this,!1,n),n.forEach((i,r)=>{lp(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function $f(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var xn=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),s={};return $f(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new tc(r,s)}record(e,i=null){let r=this._reduceControls(e);return new md(r,i)}control(e,i,r){let s={};return this.useNonNullable?($f(i)?s=i:(s.validators=i,s.asyncValidators=r),new La(e,Dt(Be({},s),{nonNullable:!0}))):new La(e,i,r)}array(e,i,r){let s=e.map(o=>this._createControl(o));return new yd(s,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof La)return e;if(e instanceof So)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(i,r,s)}else return this.control(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Bt=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:sc,useValue:e.callSetDisabledState??oc}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Dr({type:t})}static{this.\u0275inj=Mr({imports:[vp]})}}return t})(),Jt=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:fp,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:sc,useValue:e.callSetDisabledState??oc}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Dr({type:t})}static{this.\u0275inj=Mr({imports:[vp]})}}return t})();var ja=ps(bs());var pv=["*"],en=(()=>{class t{theme="primary";disabled=!1;type="button";outline=!1;rounded=!1;onTouched=()=>{};onChange=e=>{};get buttonClasses(){let e=`px-4 py-2 ${this.rounded?"rounded-full":"rounded-xl"}  transition-colors border shadow-xm`,i={primary:this.outline?"border-primary text-primary hover:bg-primary-light":"bg-primary text-white hover:bg-primary-dark",support:this.outline?"border-support-blue text-support-blue":"bg-support-blue text-white hover:bg-support-blue",secondary:this.outline?"border-secondary text-secondary hover:bg-secondary-light":"bg-secondary text-black hover:bg-secondary-dark",neutral:"bg-white border border-solid border-gray-300 text-gray-800",gradient:this.outline?"border-gradient text-gradient hover:bg-gradient-light":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:bg-gradient-dark","gradient-primary":this.outline?"border-gradient text-gradient hover:bg-gradient-light":"bg-gradient-to-r from-primary to-secondary text-white hover:bg-gradient-dark",danger:this.outline?"border-danger-from text-danger-from ":"bg-danger-from text-white "};return`${e} ${i[this.theme]} ${this.disabled?"opacity-50 cursor-not-allowed":""}`}writeValue(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}onClick(){this.disabled||(this.onChange(!0),this.onTouched())}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-button"]],inputs:{theme:"theme",disabled:"disabled",type:"type",outline:"outline",rounded:"rounded"},standalone:!0,features:[ct([{provide:Tt,useExisting:rt(()=>t),multi:!0}]),xe],ngContentSelectors:pv,decls:2,vars:3,consts:[[1,"w-full","min-h-12","h-full","px-6","flex","flex-row","gap-1","items-center","justify-center",3,"click","type","disabled","ngClass"]],template:function(i,r){i&1&&(Er(),R(0,"button",0),pe("click",function(){return r.onClick()}),Tr(1),L()),i&2&&ue("type",r.type)("disabled",r.disabled)("ngClass",r.buttonClasses)},dependencies:[Ie,jt]})}return t})();var mv=["*"],ei=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-label"]],standalone:!0,features:[xe],ngContentSelectors:mv,decls:2,vars:0,consts:[["for","date-input",1,"block","text-sm","text-gray-700","font-medium","mb-2"]],template:function(i,r){i&1&&(Er(),R(0,"label",0),Tr(1),L())}})}return t})();var gv=(t,n,e)=>({"border-neutral-500 focus:border-primary-500":t,"border-neutral-200 bg-neutral-200":n,"!border-danger-from":e});function yv(t,n){if(t&1&&(R(0,"app-label"),X(1),L()),t&2){let e=Ee();G(),qe(" ",e.label," ")}}var Rr=(()=>{class t{injector;label="Data";disabled=!1;value="";onChange=()=>{};onTouched=()=>{};control=null;group=null;get error(){return this.control?.errors&&this.group?.submitted&&this.control.errors.required?"Obrigat\xF3rio.":""}constructor(e){this.injector=e}ngOnInit(){this.value=this.getCurrentDate(),this.group=this.injector.get(et,null),this.control=this.injector.get(Rt,null)}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}handleInputChange(e){let i=e.target;this.value=i.value,this.onChange(this.value)}getCurrentDate(){return new Date().toISOString().split("T")[0]}static \u0275fac=function(i){return new(i||t)(ke(Yt))};static \u0275cmp=_e({type:t,selectors:[["app-date"]],inputs:{label:"label",disabled:"disabled"},standalone:!0,features:[ct([{provide:Tt,useExisting:rt(()=>t),multi:!0}]),xe],decls:4,vars:10,consts:[[1,"flex","flex-col","mb-4"],[1,"relative","flex","items-center","bg-background-light","border","border-gray-200","shadow-sm","rounded-xl","p-3","focus-within:ring-2","focus:ring-black","focus:border-black",3,"ngClass"],["type","date",1,"w-full","bg-transparent","text-text-primary","focus:outline-none",3,"ngModelChange","change","blur","disabled","ngModel"]],template:function(i,r){i&1&&(R(0,"div",0),He(1,yv,2,1,"app-label"),R(2,"div",1)(3,"input",2),Zn("ngModelChange",function(o){return Qn(r.value,o)||(r.value=o),o}),pe("change",function(o){return r.handleInputChange(o)})("blur",function(){return r.onTouched()}),L()()()),i&2&&(G(),Ye(r.label?1:-1),G(),Ui("opacity-50",r.disabled),ue("ngClass",Ci(6,gv,!r.disabled,r.disabled,r.error)),G(),ue("disabled",r.disabled),Xn("ngModel",r.value))},dependencies:[Ie,jt,ei,Bt,Jn,dt,dn,Jt]})}return t})();var vv=t=>({"!border-danger-from":t});function bv(t,n){if(t&1&&(R(0,"app-label"),X(1),L()),t&2){let e=Ee();G(),Ct(e.label)}}var ko=(()=>{class t{injector;label="";rows=3;placeholder="";value="";onChange=()=>{};onTouched=()=>{};control=null;group=null;get error(){return this.control?.errors&&this.group?.submitted&&this.control.errors.required?"Obrigat\xF3rio.":""}constructor(e){this.injector=e}ngOnInit(){this.group=this.injector.get(et,null),this.control=this.injector.get(Rt,null)}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){}onBlur(){this.onTouched()}onInputChange(e){let i=e.target.value;this.value=i,this.onChange(i)}static \u0275fac=function(i){return new(i||t)(ke(Yt))};static \u0275cmp=_e({type:t,selectors:[["app-textarea"]],inputs:{label:"label",rows:"rows",placeholder:"placeholder"},standalone:!0,features:[ct([{provide:Tt,useExisting:rt(()=>t),multi:!0}]),xe],decls:3,vars:7,consts:[[1,"mb-4"],[1,"w-full","border","border-gray-200","rounded-xl","p-4","shadow-sm","focus:ring-black","focus:border-black","transition-all",3,"ngModelChange","blur","input","ngModel","rows","placeholder","ngClass"]],template:function(i,r){i&1&&(R(0,"div",0),He(1,bv,2,1,"app-label"),R(2,"textarea",1),Zn("ngModelChange",function(o){return Qn(r.value,o)||(r.value=o),o}),pe("blur",function(){return r.onBlur()})("input",function(o){return r.onInputChange(o)}),L()()),i&2&&(G(),Ye(r.label?1:-1),G(),Xn("ngModel",r.value),ue("rows",r.rows)("placeholder",r.placeholder)("ngClass",yo(5,vv,r.error)))},dependencies:[Bt,Jn,dt,dn,Ie,jt,ei]})}return t})();var fc=ps(bs());var dc=ps(bp(),1),_p=Symbol.for("Dexie"),hc=globalThis[_p]||(globalThis[_p]=dc.default);if(dc.default.semVer!==hc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${dc.default.semVer} and ${hc.semVer}`);var{liveQuery:hi,mergeRanges:TS,rangesOverlap:AS,RangeSet:PS,cmp:OS,Entity:FS,PropModification:IS,replacePrefix:RS,add:VS,remove:LS}=hc;var xp=hc;var wp=["++id","petId","note","startAt","endAt","createdAt","updateAt"].toString();var Cp=["++id","type","description"].toString();var Sp=["++id","feedingPlanId","feedingTypeId","measurementUnitId","time","amount","note","updateAt"].toString();var Mp=["++id","feedingPlanId","petId","feedingTypeId","measurementUnitId","time","amount","note","recordAt"].toString();var Dp=["++id","unit","description"].toString();var kp=["++id","ownerId","specieId","name","breed","birthDate","gender","photoUrl"].toString();var Ep=["++id","name"].toString();var Tp=["++id","name","email","sub","role","iat","exp"].toString();var Dd=class extends xp{pet;specie;user;feedingPlan;feedingType;measurementUnit;mealRecord;mealPlan;constructor(){super("pethub_db"),this.version(1).stores({pet:kp,specie:Ep,user:Tp,feedingPlan:wp,feedingType:Cp,measurementUnit:Dp,mealRecord:Mp,mealPlan:Sp}),this.on("populate",()=>this.populate())}populate(){return wt(this,null,function*(){yield Promise.all([De.specie.bulkAdd([{id:1,name:"Cachorro"},{id:2,name:"Gato"},{id:3,name:"Outro"}]),De.feedingType.bulkAdd([{id:1,type:"Ra\xE7\xE3o",description:"Ra\xE7\xE3o seca"},{id:2,type:"Petisco",description:"Petisco"},{id:3,type:"Suplemento",description:"Suplemento"}]),De.measurementUnit.bulkAdd([{id:1,unit:"g",description:"g"},{id:2,unit:"ml",description:"ml"},{id:3,unit:"unidade",description:"unidade"}])])})}},De=new Dd;var Ap=(()=>{class t{findFeedingType(e){return wt(this,null,function*(){return yield De.feedingType.get(e)})}saveFeedingPlan(e){return wt(this,null,function*(){if(e.id)yield De.feedingPlan.update(e.id,{startAt:e.startAt,note:e.note,updateAt:new Date}),yield De.mealPlan.where("feedingPlanId").equals(e.id).delete(),yield De.mealPlan.bulkAdd(e.meals.map(i=>({amount:i.amount,feedingPlanId:Number(e.id),feedingTypeId:Number(i.type.id),measurementUnitId:Number(i.unit.id),note:i.note,time:i.time,updateAt:new Date})));else{let i=yield De.feedingPlan.add({createdAt:new Date,petId:Number(e.petId),note:e.note,updateAt:new Date,startAt:(0,fc.default)(e.startAt).toDate(),endAt:null});yield De.mealPlan.bulkAdd(e.meals.map(r=>({amount:r.amount,feedingPlanId:i,feedingTypeId:Number(r.type.id),measurementUnitId:Number(r.unit.id),note:r.note,time:r.time,updateAt:new Date})))}})}loadFeedingPlan(e){return wt(this,null,function*(){let[i,r]=yield Promise.all([De.pet.get(e),De.feedingPlan.where({petId:e}).first()]);if(!i)return console.error("Pet n\xE3o encontrado: "+e),null;if(!r)return console.log("Plano de alimenta\xE7\xE3o do pet n\xE3o encontrado: "+e),null;let s=yield De.mealPlan.where({feedingPlanId:r.id}).toArray();return{id:r.id,petId:Number(i.id),startAt:r.startAt,endAt:(0,fc.default)(r.endAt).toDate(),status:"",updateAt:(0,fc.default)(r.updateAt).toDate(),note:r.note||"",meals:yield Promise.all(s.map(l=>wt(this,null,function*(){let d=yield De.feedingType.get(l.feedingTypeId);if(!d)throw new Error("Tipo de alimenta\xE7\xE3o n\xE3o encontrada: "+l.feedingTypeId);let f=yield De.measurementUnit.get(l.measurementUnitId);if(!f)throw new Error("Unidade de medida n\xE3o encontrada: "+l.measurementUnitId);return{id:l.id,feedingPlanId:l.feedingPlanId,time:l.time,amount:l.amount,note:l.note,unit:f,type:{id:Number(d.id),description:d.description,type:d.type}}})))}})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Xi=function(t){return t.token="access_token",t}(Xi||{});var Vr=(()=>{class t{prefix="pethub_";get(e){return localStorage.getItem(this.prefix+e)}set(e,i){localStorage.setItem(this.prefix+e,i)}remove(e){localStorage.removeItem(this.prefix+e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Eo=(()=>{class t{jwtHelper=ye($l);storage=ye(Vr);decode(e){return e||(e=this.storage.get(Xi.token)||""),this.jwtHelper.decodeToken(e)}isExpired(){return this.jwtHelper.isTokenExpired()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Lr=(()=>{class t{jwt=ye(Eo);listPets(){return wt(this,null,function*(){let e=yield De.pet.toArray();return yield this.mapPets(e)})}listSpecies(){return wt(this,null,function*(){return yield De.specie.toArray()})}findPet(e){return wt(this,null,function*(){let i=yield De.pet.get(e);if(!i)throw new Error("Pet n\xE3o encontrado: "+e);let r=yield De.specie.get(i?.specieId);return Dt(Be({},i),{specie:{label:r?.name||"",value:String(r?.id||"")},gender:{label:i?.gender=="M"?"Macho":"Femea",value:i?.gender||""}})})}updatePet(e){return wt(this,null,function*(){let i=this.jwt.decode();return yield De.pet.update(e.id,{birthDate:e.birth,gender:e.gender,name:e.name||"",specieId:Number(e.specieId),breed:e.breed||"",ownerId:i?.sub||"",photoUrl:e.photo||""})})}addPet(e){return wt(this,null,function*(){let i=this.jwt.decode();return yield De.pet.add({birthDate:e.birth,gender:e.gender,name:e.name||"",specieId:Number(e.specieId),breed:e.breed||"",ownerId:i?.sub||"",photoUrl:e.photo||""})})}mapPets(e){return wt(this,null,function*(){return Promise.all(e.map(i=>wt(this,null,function*(){let r=yield De.specie.get(i.specieId);if(!r)throw new Error("Esp\xE9cie n\xE3o encontrada: "+i.specieId);return{id:i.id,name:i.name,breed:i.breed,specie:{value:r.id,label:r.name},specieId:r.id,ownerId:i.ownerId,birthDate:i.birthDate,gender:{value:i.gender,label:i.gender=="M"?"Macho":"Femea"},photoUrl:i.photoUrl}})))})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Nr=(()=>{class t{http=ye(bo);sanitizer=ye(Tf);class=po("");icon=po(null);size=po("md");rounded=po(!1);theme=po("primary");source=vs(()=>{if(!this.icon())return _i("");let e="./assets/hero-icon/"+this.icon()+".svg";return this.http.get(e,{responseType:"text"}).pipe(Pn(i=>this.sanitizer.bypassSecurityTrustHtml(i)))});get iconClasses(){let e={"size-5":this.size()=="sm","size-6":this.size()=="md","size-12":this.size()=="lg","text-black":!0},i={"bg-primary text-white hover:bg-primary-dark":this.theme()=="primary","bg-support-blue text-white hover:bg-support-blue":this.theme()=="support","bg-secondary text-black hover:bg-secondary-dark":this.theme()=="secondary","bg-neutral-200 text-neutral-800 hover:bg-neutral-500":this.theme()=="neutral","bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:bg-gradient-dark":this.theme()=="gradient","bg-gradient-to-r from-primary to-secondary text-white hover:bg-gradient-dark":this.theme()=="gradient-primary","border-danger-from !text-danger-from ":this.theme()=="danger"};return Be({},e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-icon"]],inputs:{class:[1,"class"],icon:[1,"icon"],size:[1,"size"],rounded:[1,"rounded"],theme:[1,"theme"]},standalone:!0,features:[xe],decls:2,vars:6,consts:[[3,"ngClass","innerHTML"]],template:function(i,r){i&1&&(ve(0,"div",0),Rn(1,"async")),i&2&&(Yl(r.class()),ue("ngClass",r.iconClasses)("innerHTML",qi(1,4,r.source()),id))},dependencies:[Ie,jt,Pr]})}return t})();var _v=(t,n,e)=>({"border-neutral-500 focus:border-primary-500":t,"border-neutral-200 bg-neutral-200":n,"!border-danger-from":e});function xv(t,n){if(t&1&&(R(0,"app-label"),X(1),L()),t&2){let e=Ee();G(),qe(" ",e.label," ")}}var Si=(()=>{class t{injector;placeholder="";type="text";disabled=!1;label="";value="";onChange=()=>{};onTouched=()=>{};control=null;group=null;get error(){if(this.control?.errors&&this.group?.submitted){if(this.control.errors.required)return"Obrigat\xF3rio.";if(this.control.errors.email)return"Este campo deve ser um email."}return""}constructor(e){this.injector=e}ngOnInit(){this.group=this.injector.get(et,null),this.control=this.injector.get(Rt,null)}writeValue(e){[void 0,null].indexOf(e)==-1&&(this.value=e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}onBlur(){this.onTouched()}onInputChange(e){let i=e.target.value;this.value=i,this.onChange(i)}static \u0275fac=function(i){return new(i||t)(ke(Yt))};static \u0275cmp=_e({type:t,selectors:[["app-input"]],inputs:{placeholder:"placeholder",type:"type",disabled:"disabled",label:"label"},standalone:!0,features:[ct([{provide:Tt,useExisting:rt(()=>t),multi:!0}]),xe],decls:3,vars:10,consts:[[1,"relative","mb-4"],[1,"w-full","p-3","border","border-gray-200","shadow-sm","rounded-xl","focus:ring-black","focus:border-black","focus:outline-none","transition-colors",3,"ngModelChange","blur","input","type","placeholder","disabled","ngModel","ngClass"]],template:function(i,r){i&1&&(R(0,"div",0),He(1,xv,2,1,"app-label"),R(2,"input",1),Zn("ngModelChange",function(o){return Qn(r.value,o)||(r.value=o),o}),pe("blur",function(){return r.onBlur()})("input",function(o){return r.onInputChange(o)}),L()()),i&2&&(G(),Ye(r.label?1:-1),G(),ue("type",r.type)("placeholder",r.placeholder)("disabled",r.disabled),Xn("ngModel",r.value),ue("ngClass",Ci(6,_v,!r.disabled,r.disabled,r.error)))},dependencies:[Ie,jt,Bt,Jn,dt,dn,ei],encapsulation:2})}return t})();var wv=()=>[jt,cc,uc,Mo,dt,dn],Cv=(t,n,e)=>({"border-neutral-500 focus:border-primary-500":t,"border-neutral-200 bg-neutral-200":n,"!border-danger-from":e});function Sv(t,n){if(t&1&&(R(0,"app-label"),X(1),L()),t&2){let e=Ee();G(),qe(" ",e.label," ")}}function Mv(t,n){if(t&1&&(R(0,"option",3),X(1),L()),t&2){let e=n.$implicit;ue("ngValue",e),G(),qe(" ",e.label," ")}}function Dv(t,n){if(t&1){let e=Et();R(0,"div",1)(1,"select",2),pe("ngModelChange",function(r){at(e);let s=Ee();return lt(s.onSelectChange(r))})("blur",function(){at(e);let r=Ee();return lt(r.onBlur())}),R(2,"option",3),X(3),L(),Fn(4,Mv,2,2,"option",3,On),L(),R(6,"div",4),wi(),R(7,"svg",5),ve(8,"path",6),L()()()}if(t&2){let e=Ee();G(),ue("disabled",e.disabled)("ngModel",e.selectedOption)("ngClass",Ci(5,Cv,!e.disabled,e.disabled,e.error)),G(),ue("ngValue",null),G(),Ct(e.placeholder),G(),In(e.options)}}var jr=(()=>{class t{injector;options=[];disabled=!1;label="";placeholder="Selecione";onChange=()=>{};onTouched=()=>{};control=null;group=null;selectedOption=null;get error(){return this.control?.errors&&this.group?.submitted&&this.control.errors.required?"Obrigat\xF3rio.":""}constructor(e){this.injector=e}ngOnInit(){this.group=this.injector.get(et,null),this.control=this.injector.get(Rt,null)}ngOnChanges(e){e.options&&(this.selectedOption=this.options.find(i=>i.value===this.selectedOption?.value)||null)}writeValue(e){e?this.selectedOption=this.options.find(i=>i.value===e.value)||e:this.selectedOption=null}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}onBlur(){this.onTouched()}onSelectChange(e){this.selectedOption=e,this.onChange(e),this.onTouched()}static \u0275fac=function(i){return new(i||t)(ke(Yt))};static \u0275cmp=_e({type:t,selectors:[["app-select"]],inputs:{options:"options",disabled:"disabled",label:"label",placeholder:"placeholder"},standalone:!0,features:[ct([{provide:Tt,useExisting:rt(()=>t),multi:!0}]),xi,xe],decls:5,vars:2,consts:[[1,"relative","mb-4"],[1,"relative"],[1,"w-full","p-3","border","border-gray-200","shadow-sm","rounded-xl","focus:ring-black","focus:border-black","focus:outline-none","transition-colors","appearance-none",3,"ngModelChange","blur","disabled","ngModel","ngClass"],[3,"ngValue"],[1,"pointer-events-none","absolute","inset-y-0","right-0","flex","items-center","px-2","text-neutral-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"]],template:function(i,r){i&1&&(R(0,"div",0),He(1,Sv,2,1,"app-label")(2,Dv,9,9),cf(3,2,wv),L()),i&2&&(G(),Ye(r.label?1:-1),G(2),uf(r.options))},dependencies:[Ie,Bt,ei],encapsulation:2})}return t})();var kv=(t,n,e)=>({"border-neutral-500 focus:border-primary-500":t,"border-neutral-200 bg-neutral-200":n,"!border-danger-from":e});function Ev(t,n){if(t&1&&(R(0,"app-label"),X(1),L()),t&2){let e=Ee();G(),qe(" ",e.label," ")}}var pc=(()=>{class t{injector;placeholder="";disabled=!1;label="";value="";onChange=()=>{};onTouched=()=>{};control=null;group=null;get error(){return this.control?.errors&&this.group?.submitted&&this.control.errors.required?"Obrigat\xF3rio.":""}constructor(e){this.injector=e}ngOnInit(){this.group=this.injector.get(et,null),this.control=this.injector.get(Rt,null)}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}onBlur(){this.onTouched()}onInputChange(e){let i=e.target.value;this.value=i,this.onChange(i)}static \u0275fac=function(i){return new(i||t)(ke(Yt))};static \u0275cmp=_e({type:t,selectors:[["app-time"]],inputs:{placeholder:"placeholder",disabled:"disabled",label:"label"},standalone:!0,features:[ct([{provide:Tt,useExisting:rt(()=>t),multi:!0}]),xe],decls:3,vars:9,consts:[[1,"relative","mb-4"],["type","time",1,"w-full","p-3","border","border-gray-200","shadow-sm","rounded-xl","focus:ring-black","focus:border-black","focus:outline-none","transition-colors",3,"ngModelChange","blur","input","placeholder","disabled","ngModel","ngClass"]],template:function(i,r){i&1&&(R(0,"div",0),He(1,Ev,2,1,"app-label"),R(2,"input",1),Zn("ngModelChange",function(o){return Qn(r.value,o)||(r.value=o),o}),pe("blur",function(){return r.onBlur()})("input",function(o){return r.onInputChange(o)}),L()()),i&2&&(G(),Ye(r.label?1:-1),G(),ue("placeholder",r.placeholder)("disabled",r.disabled),Xn("ngModel",r.value),ue("ngClass",Ci(5,kv,!r.disabled,r.disabled,r.error)))},dependencies:[ei,Ie,jt,Bt,Jn,dt,dn]})}return t})();var Tv=["form"],Av=t=>({hidden:t}),Pp=()=>[];function Pv(t,n){if(t&1&&(R(0,"p",5),X(1),L()),t&2){let e=Ee();G(),Ct(e.formMeals.value.note)}}var Op=(()=>{class t{fb=ye(xn);required=!1;onRemove=new qn;form;onChange=()=>{};onTouched=()=>{};formMeals=this.fb.group({time:["08:00",[ut.required]],type:[null,[ut.required]],amount:[100,[ut.required]],unit:[null,[ut.required]],note:[""],active:[!1]});units$=hi(()=>this.listUnits());types$=hi(()=>this.listFeedingTypes());active=We(!1);value=We(null);ngOnInit(){this.formMeals.valueChanges.subscribe(e=>{this.onChange(e)})}ngAfterViewInit(){this.formMeals.markAllAsTouched(),this.form.onSubmit(null)}writeValue(e){e&&e.id&&(this.value.set(e),this.formMeals.reset({time:e.time,type:e.type,amount:e.amount,unit:e.unit,note:e.note}))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}toggle(e){e.stopPropagation(),this.active.set(!this.active())}remove(e){e.stopPropagation(),window.confirm("Deseja realmente excluir este item?")&&this.onRemove.emit()}validate(e){return this.required&&!this.formMeals.valid?{required:!0}:null}listFeedingTypes(){return De.feedingType.toArray().then(e=>e.map(i=>({label:i.type,value:String(i.id)})))}listUnits(){return De.measurementUnit.toArray().then(e=>e.map(i=>({label:i.unit,value:String(i.id)})))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-meals-form"]],viewQuery:function(i,r){if(i&1&&Gi(Tv,5),i&2){let s;$i(s=Ki())&&(r.form=s.first)}},inputs:{required:"required"},outputs:{onRemove:"onRemove"},standalone:!0,features:[ct([{provide:Tt,useExisting:rt(()=>t),multi:!0},{provide:Ir,useExisting:rt(()=>t),multi:!0}]),xe],decls:20,vars:16,consts:[["form","ngForm"],[1,"w-full","mx-auto"],[1,"border-b","border-gray-300"],[1,"w-full","flex","gap-4","justify-between","items-center","p-4","text-left","bg-gray-100","transition",3,"click"],[1,"w-full","pr-2","flex","flex-row","font-medium","text-gray-700"],[1,"font-normal","ml-2"],["size","sm","icon","trash",1,"text-text-secondary","hover:scale-110","active:scale-110","cursor-pointer",3,"click","rounded"],["size","md","icon","edit",1,"text-indigo-600","font-bold","hover:scale-110","active:scale-110","cursor-pointer",3,"click"],[1,"p-4","text-gray-600","bg-gray-50","transition","animate-fade-down",3,"ngClass"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4",3,"formGroup"],["formControlName","time","label","Hor\xE1rio"],["formControlName","type","label","Tipo",3,"options"],[1,"grid","grid-cols-6","gap-2","w-full"],["formControlName","amount","label","Quantidade","type","number",1,"col-span-4"],["label","Medida","formControlName","unit",1,"mt-auto","col-span-2",3,"options"],["formControlName","note","label","Notas (opcional)","placeholder","Exemplo: Ra\xE7\xE3o seca premium",1,"md:col-span-2",3,"rows"]],template:function(i,r){if(i&1){let s=Et();R(0,"div",1)(1,"div",2)(2,"button",3),pe("click",function(l){return at(s),lt(r.toggle(l))}),R(3,"div",4)(4,"span"),X(5),L(),He(6,Pv,2,1,"p",5),L(),R(7,"app-icon",6),pe("click",function(l){return at(s),lt(r.remove(l))}),L(),R(8,"app-icon",7),pe("click",function(l){return at(s),lt(r.toggle(l))}),L()(),R(9,"div",8)(10,"form",9,0),ve(12,"app-time",10)(13,"app-select",11),Rn(14,"async"),R(15,"div",12),ve(16,"app-input",13)(17,"app-select",14),Rn(18,"async"),L(),ve(19,"app-textarea",15),L()()()()}i&2&&(G(5),qe("",r.formMeals.value.time," "),G(),Ye(r.formMeals.value.note?6:-1),G(),ue("rounded",!0),G(2),ue("ngClass",yo(12,Av,!r.active())),G(),ue("formGroup",r.formMeals),G(3),ue("options",qi(14,8,r.types$)||Ta(14,Pp)),G(4),ue("options",qi(18,10,r.units$)||Ta(15,Pp)),G(2),ue("rows",2))},dependencies:[ko,jr,pc,Ie,jt,Pr,Bt,_n,dt,bn,Jt,et,hn,Si,Nr]})}return t})();function Ov(t,n){t&1&&(R(0,"h3",8),X(1,"Refei\xE7\xF5es"),L())}function Fv(t,n){if(t&1){let e=Et();R(0,"app-meals-form",14),pe("onRemove",function(){let r=at(e).$index,s=Ee();return lt(s.removeMeal(r))}),L()}if(t&2){let e=n.$index;ue("formControlName",e)("required",!0)}}function Iv(t,n){if(t&1&&(R(0,"p",15),X(1),L()),t&2){let e=Ee(2);G(),qe(" ",e.error()," ")}}function Rv(t,n){if(t&1){let e=Et();He(0,Iv,2,1,"p",15),R(1,"app-button",16),pe("click",function(r){at(e);let s=Ee();return lt(s.saveFeedingPlan(r))}),X(2,"Salvar"),L()}if(t&2){let e=Ee();Ye(e.error()?0:-1)}}var Fp=(()=>{class t{fb=ye(xn);feedingFacade=ye(Ap);activatedRoute=ye(Gl);petFacade=ye(Lr);plan=We(null);petId=We(null);pet=We(null);error=We("");formPlan=this.fb.group({startDate:[(0,ja.default)(new Date).format("yyyy-MM-DD"),[ut.required]],note:[""],meals:this.fb.array([],ut.required)});get meals(){return this.formPlan.get("meals")}ngAfterViewInit(){this.loadData()}saveFeedingPlan(e){if(e.stopPropagation(),this.meals.invalid){this.error.set("Ops! Parece que alguns campos obrigat\xF3rios do formul\xE1rio de refei\xE7\xE3o n\xE3o foram preenchidos. Confira os campos destacados e preencha todas as informa\xE7\xF5es antes de continuar.");return}if(this.formPlan.invalid){this.error.set("Para continuar, preencha todos os campos obrigat\xF3rios do plano de alimenta\xE7\xE3o. Verifique os campos destacados e complete as informa\xE7\xF5es necess\xE1rias.");return}let i=this.formPlan.value,r=this.formPlan.value.meals;this.feedingFacade.saveFeedingPlan({id:this.plan()?.id,petId:this.petId(),note:i.note||"",startAt:(0,ja.default)(i.startDate).toDate(),meals:r.map(s=>({id:s.id,feedingPlanId:s.feedingPlanId,time:s.time,amount:s.amount,note:s.note,type:{id:s.type.value,description:s.type.label,type:s.type.label},unit:{id:s.unit.value,description:s.unit.label,unit:s.unit.label}}))}).then(()=>{this.goBack()})}goBack(){history.back()}addMeal(){let e=this.fb.control({id:null,feedingPlanId:null,time:"08:00",amount:100,note:"",type:null,unit:null});this.meals.push(e)}removeMeal(e){this.meals.removeAt(e)}loadData(){let e=Number(this.activatedRoute.snapshot.params.petId);this.petId.set(Number(e)),this.petFacade.findPet(e).then(i=>{this.pet.set(i)}),this.feedingFacade.loadFeedingPlan(e).then(i=>{if(this.plan.set(i),!i)console.log("TODO: novo"),this.formPlan.reset({startDate:(0,ja.default)(new Date).format("yyyy-MM-DD"),note:"",meals:[]});else{console.log("TODO: editar"),this.formPlan.reset({startDate:(0,ja.default)(i.startAt).format("yyyy-MM-DD"),note:i.note,meals:[]});let r=i.meals.map(s=>{let o={value:String(s.type.id),label:s.type.description},l={value:String(s.unit.id),label:s.unit.description};return s.type=o,s.unit=l,s});this.meals.clear(),r.forEach(s=>{let o=this.fb.control({id:s.id,feedingPlanId:s.feedingPlanId,time:s.time,amount:s.amount,note:s.note,type:s.type,unit:s.unit});this.meals.push(o)})}})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-feeding-plan"]],standalone:!0,features:[xe],decls:21,vars:6,consts:[[1,"max-w-2xl","mx-auto","p-6"],[1,"text-2xl","font-bold","mb-2"],[1,"text-indigo-600"],[1,"text-gray-500","mb-6"],[3,"formGroup"],["formControlName","startDate","label","Data de in\xEDcio"],["formControlName","note","label","Observa\xE7\xF5es gerais","placeholder","Exemplo: Plano baseado em recomenda\xE7\xE3o do veterin\xE1rio. Reavaliar em 30 dias."],["formArrayName","meals",1,"grid"],[1,"mt-auto","text-xl","font-semibold","mb-4"],[1,"animate-fade",3,"formControlName","required"],["theme","support",1,"my-4","block","ml-auto","w-5/6","mx-auto",3,"click","rounded","outline"],[1,"text-xl"],["theme","gradient",1,"block","w-5/6","mx-auto"],["theme","neutral",1,"block","w-5/6","mx-auto","my-4",3,"click"],[1,"animate-fade",3,"onRemove","formControlName","required"],[1,"py-2","text-sm","text-gray-600","animate-fade-up"],["theme","gradient",1,"block","w-5/6","mx-auto",3,"click"]],template:function(i,r){if(i&1&&(R(0,"div",0)(1,"h2",1),X(2," Plano alimentar para "),R(3,"span",2),X(4),L()(),R(5,"p",3),X(6," Defina os hor\xE1rios e quantidades das refei\xE7\xF5es do seu pet e receba lembretes autom\xE1ticos para cuidar dele todos os dias! "),L(),R(7,"form",4),ve(8,"app-date",5)(9,"app-textarea",6),R(10,"section",7),He(11,Ov,2,0,"h3",8),Fn(12,Fv,1,2,"app-meals-form",9,On),L(),R(14,"app-button",10),pe("click",function(){return r.addMeal()}),R(15,"span",11),X(16,"+"),L(),X(17," Adicionar refei\xE7\xE3o"),L(),He(18,Rv,3,1,"app-button",12),R(19,"app-button",13),pe("click",function(){return r.goBack()}),X(20,"Voltar"),L()()()),i&2){let s;G(4),Ct((s=r.pet())==null?null:s.name),G(3),ue("formGroup",r.formPlan),G(4),Ye(r.formPlan.value.meals!=null&&r.formPlan.value.meals.length?11:-1),G(),In(r.meals.controls),G(2),ue("rounded",!0)("outline",!0),G(4),Ye(r.meals.length?18:-1)}},dependencies:[Jt,_n,dt,bn,wd,et,hn,lc,Rr,ko,Op,en]})}return t})();var Vv=(t,n,e)=>({"size-12":t,"size-14":n,"size-16":e}),To=(()=>{class t{src="";size="md";onImageError(){this.src=""}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-avatar"]],inputs:{src:"src",size:"size"},standalone:!0,features:[xe],decls:1,vars:6,consts:[[1,"rounded-full","object-cover","border-2","border-gray-300",3,"ngClass","src"]],template:function(i,r){i&1&&ve(0,"img",0),i&2&&ue("ngClass",Ci(2,Vv,r.size=="sm",r.size=="md",r.size=="lg"))("src",r.src,kr)},dependencies:[Ie,jt]})}return t})();var Lv=["*"],Nv=t=>({"!bg-white !text-text-secondary":t}),Ip=(()=>{class t{active=!1;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-badge"]],inputs:{active:"active"},standalone:!0,features:[xe],ngContentSelectors:Lv,decls:2,vars:3,consts:[[1,"rounded-full","bg-blue-50","text-blue-900","font-semibold","px-4","py-3.5","cursor-pointer",3,"ngClass"]],template:function(i,r){i&1&&(Er(),R(0,"span",0),Tr(1),L()),i&2&&ue("ngClass",yo(1,Nv,!r.active))},dependencies:[Ie,jt]})}return t})();var mc=(()=>{class t{findHistory(){return Sr(hi(()=>wt(this,null,function*(){let e=[],i=yield De.mealRecord.orderBy("id").reverse().toArray();return yield Promise.all(i.map(r=>wt(this,null,function*(){let[s,o]=yield Promise.all([De.measurementUnit.get(r.measurementUnitId),De.feedingType.get(r.feedingTypeId)]),l={value:String(s?.id),label:s?.description||""},d={value:String(o?.id),label:o?.description||""},f=yield De.pet.get(r.petId);if(!f)throw new Error("Pet n\xE3o foi encontrado ");e.push(Dt(Be({},r),{type:d,unit:l,pet:f}))}))),e.sort((r,s)=>Number(s.id)-Number(r.id))})))}getWeeklyProgress(e){return wt(this,null,function*(){let i=new Date,r=new Date(i);r.setDate(i.getDate()-i.getDay());let s=new Date(r);s.setDate(r.getDate()+6);let o=yield De.feedingPlan.where({petId:e}).first();if(!o)return console.log("N\xE3o foi encontrado plano de alimenta\xE7\xE3o"),null;let l=yield De.mealPlan.where({feedingPlanId:o.id}).count(),d=yield De.mealRecord.where("recordAt").between(new Date(r.setHours(0,0,0,0)),new Date(s.setHours(23,59,59,999))).and(D=>D.feedingPlanId==o.id||D.petId==e).toArray(),f=Array(7).fill(0).map((D,T)=>{let A=new Date(r);return A.setDate(A.getDate()+T),A}),g=this.groupByDay(d),_=f.map(D=>{let T=D.toISOString().split("T")[0];return{day:this.getDayName(D.getDay()),date:T,completed:g[T]||0,goal:l,status:this.getStatus(g[T]||0,l)}}),w=_.reduce((D,T)=>D+T.completed,0),S=l*7;return{weeklyGoal:S,dailyProgress:_,weeklyCompletion:Math.round(w/S*100)}})}groupByDay(e){return e.reduce((i,r)=>{let s=new Date(r.recordAt).toISOString().split("T")[0];return i[s]=(i[s]||0)+1,i},{})}getDayName(e){return["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"][e]}getStatus(e,i){return e>=i?"completed":e===0?"failed":e>i?"exceeded":"partial"}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var gc=ps(bs());function Qi(){return t=>{let n=t.value;return n?n.value?null:{required:!0}:{required:!0}}}var Rp=ps(bs());var Vp=(()=>{class t{listUnits(){return wt(this,null,function*(){return yield De.measurementUnit.toArray()})}listFeedingType(){return wt(this,null,function*(){return yield De.feedingType.toArray()})}addMealRecord(e,i){return wt(this,null,function*(){let r=yield De.feedingPlan.get({petId:e});r||console.log("Plano de alimenta\xE7\xE3o n\xE3o encontrado para o pet: "+r),yield De.mealRecord.add({feedingPlanId:Number(r?.id)||void 0,petId:e,feedingTypeId:Number(i.feedingType.value),measurementUnitId:Number(i.unit.value),time:i.time,amount:i.amount,note:i.note,recordAt:i.recordAt})})}findMealTemplate(e,i){return wt(this,null,function*(){try{let r=yield De.feedingPlan.where("petId").equals(e).and(A=>A.startAt<=i&&(A.endAt===null||(A.endAt||(0,Rp.default)())>=i)).first();if(!r)return console.log("Nenhum plano de alimenta\xE7\xE3o ativo encontrado para este pet"),null;let s=i.getHours().toString().padStart(2,"0"),o=i.getMinutes().toString().padStart(2,"0"),l=`${s}:${o}`,d=yield De.mealPlan.where("feedingPlanId").equals(Number(r.id)).toArray();if(d.length===0)return console.log("Nenhum template de refei\xE7\xE3o encontrado para este plano"),null;let f=null,g=1/0;for(let A of d){let[B,j]=A.time.split(":").map(Number),Z=B*60+j,ee=i.getHours()*60+i.getMinutes(),Y=Math.abs(Z-ee);Y=Math.min(Y,1440-Y),Y<g&&(g=Y,f=A)}let[_,w]=yield Promise.all([De.measurementUnit.get(Number(f?.measurementUnitId)),De.feedingType.get(Number(f?.feedingTypeId))]);if(!w)throw new Error("Tipo de alimenta\xE7\xE3o n\xE3o encontrada: ");if(!_)throw new Error("Unidade de medida n\xE3o encontrada: ");let S={value:String(w.id),label:w.description},D={value:String(_.id),label:_.description};return Dt(Be({},f),{type:S,unit:D})}catch(r){return console.error("Erro ao buscar template de refei\xE7\xE3o:",r),null}})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jv(t,n){t&1&&(R(0,"p",20),X(1," Preencha todos os campos obrigat\xF3rios. "),L())}var Lp=(()=>{class t{mealRecordFacade=ye(Vp);petFacade=ye(Lr);fb=ye(xn);feedingPlanId=null;closed=new qn;mealForm=this.fb.group({feedingType:[null,[Qi()]],amount:[0,[ut.required]],unit:[null,[Qi()]],time:[(0,gc.default)().format("hh:mm"),[ut.required]],note:[""],recordAt:[new Date().toISOString().split("T")[0]]});isOpen=We(!1);pet=We(null);feedingTypes=We([]);units=We([]);open(e){this.petFacade.findPet(e).then(i=>{this.pet.set(i),this.isOpen.set(!0),this.initialize()})}close(){this.isOpen.set(!1),this.closed.emit()}onSubmit(){if(this.mealForm.valid){let e=this.mealForm.value;this.mealRecordFacade.addMealRecord(Number(this.pet()?.id),{feedingType:{value:e.feedingType.value,label:e.feedingType.label},amount:e.amount,unit:{value:e.unit.value,label:e.unit.label},time:e.time,note:e.note,recordAt:(0,gc.default)(e.recordAt).toDate()}).then(()=>this.close())}}initialize(){Promise.all([this.mealRecordFacade.listFeedingType(),this.mealRecordFacade.listUnits()]).then(([e,i])=>{this.units.set(i.map(r=>({value:String(r.id),label:r.description}))),this.feedingTypes.set(e.map(r=>({value:String(r.id),label:r.description}))),this.mealRecordFacade.findMealTemplate(Number(this.pet()?.id),new Date).then(r=>{this.mealForm.reset({feedingType:{value:r?.type.value,label:r?.type.label},amount:r?.amount,unit:{value:r?.unit.value,label:r?.unit.label},time:(0,gc.default)().format("hh:mm"),note:"",recordAt:new Date().toISOString().split("T")[0]})})})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-modal-meal-record"]],inputs:{feedingPlanId:"feedingPlanId"},outputs:{closed:"closed"},standalone:!0,features:[xe],decls:30,vars:8,consts:[[1,"fixed","inset-0","z-50","flex","items-end","sm:items-center","justify-center","bg-black","bg-opacity-50","transition-opacity"],[1,"animate-fade-up","w-full","max-w-md","bg-white","rounded-t-2xl","sm:rounded-2xl","shadow-xl","transform","transition-all","max-h-[90vh]","flex","flex-col"],[1,"sticky","top-0","bg-white","px-6","py-4","border-b","border-gray-200","rounded-t-2xl","flex","justify-between","items-center"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-gray-400","hover:text-gray-500",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex-1","overflow-y-auto","px-6","py-4"],[3,"ngSubmit","formGroup"],[1,"flex","items-center","mb-6","p-3","bg-gray-50","rounded-lg"],[1,"h-12","w-12","rounded-full","object-cover","mr-3",3,"src"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],["formControlName","feedingType","label","Tipo de Refei\xE7\xE3o",3,"options"],[1,"grid","grid-cols-2","gap-4","mb-4"],["formControlName","amount","label","Quantidade *"],["formControlName","unit","label","Medida *",3,"options"],["formControlName","time","label","Hor\xE1rio *"],["formControlName","recordAt","label","Registro *"],["formControlName","note","label","Observa\xE7\xF5es"],[1,"py-2","text-sm","text-gray-600","animate-fade-up"],[1,"sticky","bottom-0","bg-white","py-4","border-t","border-gray-200","flex","justify-end","space-x-3"],["theme","neutral",3,"click"],["type","submit","theme","gradient"]],template:function(i,r){if(i&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),X(4,"Registrar Refei\xE7\xE3o"),L(),R(5,"button",4),pe("click",function(){return r.close()}),wi(),R(6,"svg",5),ve(7,"path",6),L()()(),fo(),R(8,"div",7)(9,"form",8),pe("ngSubmit",function(){return r.onSubmit()}),R(10,"div",9),ve(11,"img",10),R(12,"div")(13,"p",11),X(14),L(),R(15,"p",12),X(16,"Registrando refei\xE7\xE3o"),L()()(),ve(17,"app-select",13),R(18,"div",14),ve(19,"app-input",15)(20,"app-select",16),L(),ve(21,"app-time",17)(22,"app-date",18)(23,"app-textarea",19),He(24,jv,2,0,"p",20),R(25,"div",21)(26,"app-button",22),pe("click",function(){return r.close()}),X(27,"Cancelar"),L(),R(28,"app-button",23),X(29,"Registrar"),L()()()()()()),i&2){let s,o;Ui("hidden",!r.isOpen()),G(9),ue("formGroup",r.mealForm),G(2),ue("src",((s=r.pet())==null?null:s.photoUrl)||"assets/default-pet.png",kr),G(3),Ct((o=r.pet())==null?null:o.name),G(3),ue("options",r.feedingTypes()),G(3),ue("options",r.units()),G(4),Ye(r.mealForm.invalid?24:-1)}},dependencies:[Jt,_n,dt,bn,et,hn,Ie,Si,jr,pc,Rr,ko,en]})}return t})();function Bv(t,n){if(t&1){let e=Et();R(0,"div",6),pe("click",function(){let r=at(e).$implicit,s=Ee();return lt(s.activePet(r))}),ve(1,"app-avatar",7),R(2,"p",8),X(3),L()()}if(t&2){let e,i=n.$implicit,r=Ee();Ui("border-primary",((e=r.selectedPet())==null?null:e.id)===i.id),G(),ue("src",i.photoUrl||""),G(2),qe(" ",i.name," ")}}var Np=(()=>{class t{petFacade=ye(Lr);router=ye(Ut);onSelect=new qn;petList=We([]);selectedPet=We(null);ngAfterViewInit(){this.petFacade.listPets().then(e=>{this.petList.set(e),this.activePet(e[0])})}activePet(e){this.selectedPet.set(e),this.onSelect.emit(e)}addPet(){this.router.navigate(["alimentacao/pet"])}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-pet-select"]],outputs:{onSelect:"onSelect"},standalone:!0,features:[xe],decls:7,vars:0,consts:[[1,"mb-4"],[1,"flex","flex-row","gap-2","space-x-4","overflow-x-auto","pb-2"],[1,"max-w-24","h-32","max-h-32","flex-shrink-0","gap-2","flex","flex-col","items-center","p-4","border-2","border-dashed","rounded-lg","cursor-pointer","hover:bg-neutral-200","transition-colors",3,"border-primary"],[1,"max-w-24","h-32","w-24","flex-shrink-0","flex","flex-col","justify-center","items-center","border-2","border-dashed","rounded-lg","cursor-pointer","transition-colors",3,"click"],[1,"grid","items-center","justify-center","bg-white","shadow","size-9","border","border-solid","border-black","rounded-full"],["icon","plus"],[1,"max-w-24","h-32","max-h-32","flex-shrink-0","gap-2","flex","flex-col","items-center","p-4","border-2","border-dashed","rounded-lg","cursor-pointer","hover:bg-neutral-200","transition-colors",3,"click"],["size","lg",3,"src"],[1,"max-w-20","text-text-primary","font-semibold","truncate","text-sm"]],template:function(i,r){i&1&&(R(0,"div",0)(1,"div",1),Fn(2,Bv,4,4,"div",2,On),R(4,"div",3),pe("click",function(){return r.addPet()}),R(5,"div",4),ve(6,"app-icon",5),L()()()()),i&2&&(G(2),In(r.petList()))},dependencies:[Ie,To,Nr]})}return t})();function Wv(t,n){if(t&1&&(R(0,"div",11)(1,"div",18),X(2),L(),R(3,"div",18),X(4),Rn(5,"slice"),L(),R(6,"div"),X(7),L(),R(8,"div",19),X(9),L()()),t&2){let e=n.$implicit,i=Ee(2);G(2),Ct(e.date.split("-")[2]),G(2),Ct(mf(5,7,e.day,0,3)),G(2),Yl("rounded-full h-8 w-8 flex items-center justify-center mx-auto text-sm font-bold "+i.getStatusColor(e.status)),G(),qe(" ",i.getStatusIcon(e.status)," "),G(2),ys("",e.completed,"/",e.goal,"")}}function Hv(t,n){if(t&1&&(R(0,"div",0)(1,"h3",2),X(2,"Meta Semanal de Alimenta\xE7\xE3o"),L(),R(3,"div",3)(4,"div",4)(5,"span",5),X(6,"Progresso:"),L(),R(7,"span",6),X(8),L()(),R(9,"div",7),ve(10,"div",8),L(),R(11,"div",9),X(12),L()(),R(13,"h3",2),X(14,"Progresso por dia"),L(),R(15,"div",10),Fn(16,Wv,10,11,"div",11,On),L(),R(18,"div",12)(19,"div",13),ve(20,"span",14),X(21," Conclu\xEDdo "),L(),R(22,"div",13),ve(23,"span",15),X(24," Parcial "),L(),R(25,"div",13),ve(26,"span",16),X(27," Falhou "),L(),R(28,"div",13),ve(29,"span",17),X(30," Excedeu "),L()()()),t&2){let e,i,r,s,o=Ee();G(8),qe("",(e=o.data())==null?null:e.weeklyCompletion,"%"),G(2),hf("width",(i=o.data())==null?null:i.weeklyCompletion,"%"),G(2),ys(" ",o.getCompletedMeals()," de ",(r=o.data())==null?null:r.weeklyGoal," refei\xE7\xF5es "),G(4),In((s=o.data())==null?null:s.dailyProgress)}}function zv(t,n){if(t&1){let e=Et();R(0,"div",1)(1,"div",20)(2,"h2",21),X(3,"Seu pet est\xE1 com fome?"),L(),R(4,"p",22),X(5," Crie um plano de alimenta\xE7\xE3o para garantir que seu amigo nunca fique sem comida. "),L(),R(6,"div",23),ve(7,"img",24),L(),R(8,"app-button",25),pe("click",function(){at(e);let r=Ee();return lt(r.goToFeedingPlan())}),X(9,"Criar Plano de Alimenta\xE7\xE3o"),L(),R(10,"p",26),X(11," Com um plano de alimenta\xE7\xE3o, voc\xEA recebe lembretes e pode acompanhar a nutri\xE7\xE3o do seu pet! "),L()()()}}var jp=(()=>{class t{homeFacade=ye(mc);router=ye(Ut);petId;data=We(null);sub=new Jh;ngOnChanges(e){e.petId&&this.sub.add(hi(()=>this.homeFacade.getWeeklyProgress(this.petId)).subscribe(i=>{console.log("livequery",i),this.data.set(i)}))}ngOnDestroy(){this.sub.unsubscribe()}goToFeedingPlan(){this.router.navigate(["alimentacao/plano",this.petId])}getStatusColor(e){switch(e){case"completed":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"exceeded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}getStatusIcon(e){switch(e){case"completed":return"\u2713";case"partial":return"~";case"failed":return"\u2715";case"exceeded":return"+";default:return"?"}}getCompletedMeals(){return this.data()?.dailyProgress&&this.data()?.dailyProgress.reduce((e,i)=>e+i.completed,0)||0}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-weekly-goal-card"]],inputs:{petId:"petId"},standalone:!0,features:[xi,xe],decls:2,vars:1,consts:[[1,"bg-white","rounded-lg","shadow","p-4"],[1,"flex","flex-col","items-center","justify-center","h-full","text-center"],[1,"font-medium","mb-3"],[1,"mb-6"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-gray-600"],[1,"font-bold"],[1,"w-full","bg-gray-200","rounded-full","h-4"],[1,"bg-blue-600","h-4","rounded-full"],[1,"text-sm","text-gray-500","mt-1"],[1,"grid","grid-cols-7","gap-2"],[1,"text-center"],[1,"flex","justify-center","space-x-4","mt-4","text-xs"],[1,"flex","items-center"],[1,"rounded-full","h-3","w-3","bg-green-100","mr-1"],[1,"rounded-full","h-3","w-3","bg-yellow-100","mr-1"],[1,"rounded-full","h-3","w-3","bg-red-100","mr-1"],[1,"rounded-full","h-3","w-3","bg-blue-100","mr-1"],[1,"text-xs","font-medium"],[1,"text-xs","mt-1"],[1,"bg-white","shadow-lg","rounded-xl","py-6","px-3","max-w-md","w-full"],[1,"text-xl","font-bold","text-gray-800"],[1,"text-gray-600","mt-2"],[1,"flex","justify-center","my-4"],["src","https://cdn-icons-png.flaticon.com/512/616/616554.png","alt","\xCDcone de pet",1,"w-24","h-24"],["theme","gradient-primary",3,"click"],[1,"text-sm","text-gray-500","mt-3"]],template:function(i,r){if(i&1&&He(0,Hv,31,5,"div",0)(1,zv,12,0,"div",1),i&2){let s;Ye((s=r.data())!=null&&s.weeklyGoal?0:1)}},dependencies:[Ie,Cf,en]})}return t})();var Yv=["modalMeal"],Uv=["badges"];function Gv(t,n){if(t&1){let e=Et();R(0,"app-badge",16,1),pe("click",function(){let r=at(e).$index,s=Ee();return lt(s.activeBadge(r))}),X(2),L()}if(t&2){let e=n.$implicit,i=n.$index;ue("active",i==0),G(2),Ct(e)}}function $v(t,n){if(t&1&&ve(0,"app-weekly-goal-card",14),t&2){let e=Ee();ue("petId",e.selectedPet().id||0)}}function Kv(t,n){if(t&1&&(R(0,"div",19)(1,"div",20),ve(2,"app-avatar",21),L(),R(3,"div",22)(4,"div",23)(5,"p",24),X(6),L(),R(7,"span",25),X(8),L()(),R(9,"p",26),X(10),L()()()),t&2){let e=n.$implicit;G(2),ue("src",e.pet.photoUrl||""),G(4),qe(" ",e.pet.name," "),G(2),Ct(e.recordAt.toISOString().split("T")[0]+" "+e.time),G(2),qe(" ",e.amount+" "+e.unit.label," ")}}function qv(t,n){if(t&1&&(R(0,"section",17)(1,"h2",18),X(2," Hist\xF3rico de Alimenta\xE7\xE3o "),L(),Fn(3,Kv,11,4,"div",19,On),L()),t&2){let e=Ee(2);G(3),In(e.history())}}function Xv(t,n){if(t&1&&He(0,qv,5,0,"section",17),t&2){let e=Ee();Ye(e.history().length?0:-1)}}function Qv(t,n){if(t&1){let e=Et();R(0,"nav",15)(1,"app-button",27),pe("click",function(){at(e);let r=Ee();return lt(r.registerMeal())}),X(2,"Alimentar "),ve(3,"app-icon",28),L()()}t&2&&(G(),ue("rounded",!0))}var Bp=(()=>{class t{router=ye(Ut);historyFacade=ye(mc);modalMeal;badges;history=We([]);selectedPet=We(null);badgeList=We(["Meta Semanal","Hist\xF3rico"]);selectedBadge=We(0);ngAfterViewInit(){this.historyFacade.findHistory().subscribe(e=>{this.history.set(e)})}activeBadge(e){this.badges.forEach((i,r)=>{this.selectedBadge.set(e),i.active=r==e})}goToPetManager(){this.router.navigate(["alimentacao/pets"])}goToFeedingPlan(){this.router.navigate(["alimentacao/plano",this.selectedPet()?.id])}registerMeal(){let e=Number(this.selectedPet()?.id);this.selectedPet()?.id&&this.modalMeal.open(e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-home"]],viewQuery:function(i,r){if(i&1&&(Gi(Yv,5),Gi(Uv,5)),i&2){let s;$i(s=Ki())&&(r.modalMeal=s.first),$i(s=Ki())&&(r.badges=s)}},standalone:!0,features:[xe],decls:22,vars:3,consts:[["modalMeal",""],["badges",""],[1,"min-h-screen","bg-background-light","font-roboto","p-6","pb-20"],[1,"flex","justify-between","items-center","mb-6"],[1,"flex","items-center"],[1,"text-2xl","font-bold","text-text-primary"],[1,"text-text-secondary"],[1,"flex","space-x-4"],[1,"text-text-secondary","hover:text-primary"],["icon","bell"],["icon","engine"],[3,"onSelect"],[1,"flex","gap-2","my-5"],[3,"active"],[1,"animate-fade",3,"petId"],[1,"animate-fade-up","z-20","fixed","bottom-0","right-0","p-4","gap-3","flex"],[3,"click","active"],[1,"animate-fade","container","mx-auto","py-4","max-w-xl"],[1,"text-lg","font-medium","text-gray-700","mb-2"],[1,"flex","items-center","px-4","py-2","my-3","border","border-dashed","border-gray-300","rounded-lg"],[1,"flex-shrink-0","mr-3"],[3,"src"],[1,"flex-1","min-w-0"],[1,"flex","justify-between"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-sm","text-gray-500","ml-2"],[1,"text-sm","text-gray-600"],["theme","gradient",3,"click","rounded"],["icon","clock",1,"!text-white"]],template:function(i,r){if(i&1){let s=Et();ve(0,"app-modal-meal-record",null,0),R(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"h1",5),X(7,"Bem-vindo, Toan!"),L(),R(8,"p",6),X(9,"Selecione um pet para gerenciar:"),L()()(),R(10,"div",7)(11,"button",8),ve(12,"app-icon",9),L(),R(13,"button",8),ve(14,"app-icon",10),L()()(),R(15,"app-pet-select",11),pe("onSelect",function(l){return at(s),lt(r.selectedPet.set(l))}),L(),R(16,"section",12),Fn(17,Gv,3,2,"app-badge",13,On),L(),He(19,$v,1,1,"app-weekly-goal-card",14)(20,Xv,1,1)(21,Qv,4,1,"nav",15),L()}i&2&&(G(17),In(r.badgeList()),G(2),Ye(r.selectedBadge()==0&&r.selectedPet()?19:-1),G(),Ye(r.selectedBadge()==1&&r.history().length?20:-1),G(),Ye(r.selectedPet()?21:-1))},dependencies:[Ie,Nr,To,Lp,jp,Np,en,Ip]})}return t})();function Zv(t,n){if(t&1){let e=Et();R(0,"div",4),ve(1,"app-avatar",10),R(2,"div")(3,"p",11),X(4),L(),R(5,"p",12),X(6),L()(),R(7,"div",13)(8,"app-icon",14),pe("click",function(){let r=at(e).$implicit,s=Ee();return lt(s.editPet(r))}),L()()()}if(t&2){let e=n.$implicit;G(),ue("src",e.photoUrl||""),G(3),Ct(e.name),G(2),qe(" ",e.gender=="M"?"Macho":"Femea"," ")}}var Wp=(()=>{class t{router=ye(Ut);pets=Sr(hi(()=>De.pet.toArray()));openAddPet(){this.router.navigate(["alimentacao/pet"])}editPet(e){this.router.navigate(["alimentacao/pet",e.id])}deletePet(e){}back(){history.back()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-manage-pets"]],standalone:!0,features:[xe],decls:17,vars:2,consts:[[1,"p-4","pt-8","font-roboto","bg-background-light","min-h-screen","pb-20"],[1,"text-2xl","text-text-primary","font-bold","mb-1"],[1,"text-text-secondary","mb-4"],[1,"space-y-4"],[1,"bg-white","rounded-lg","shadow","p-4","flex","flex-row","items-center","gap-5"],[1,"fixed","bottom-4","right-4","bg-primary","text-white","p-4","rounded-full","shadow-lg","hover:bg-primary-dark","transition",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"fixed","bottom-4","right-20","bg-primary","text-white","p-4","rounded-full","shadow-lg","hover:bg-primary-dark","transition",3,"click"],["icon","close"],[3,"src"],[1,"text-lg","font-semibold","text-text-primary"],[1,"text-sm","text-text-secondary","flex","items-center","gap-1"],[1,"flex","gap-3","ml-auto"],["icon","edit",3,"click"]],template:function(i,r){i&1&&(R(0,"div",0)(1,"h1",1),X(2,"Meus Pets \u{1F43E}"),L(),R(3,"p",2),X(4," Gerencie aqui todos os seus animais cadastrados. "),L(),R(5,"div",3),Fn(6,Zv,9,3,"div",4,On),Rn(8,"async"),L(),R(9,"button",5),pe("click",function(){return r.openAddPet()}),wi(),R(10,"svg",6),ve(11,"path",7),L()(),fo(),R(12,"button",8),pe("click",function(){return r.back()}),ve(13,"app-icon",9),L(),R(14,"button",5),pe("click",function(){return r.openAddPet()}),wi(),R(15,"svg",6),ve(16,"path",7),L()()()),i&2&&(G(6),In(qi(8,0,r.pets)))},dependencies:[Ie,Pr,Nr,To]})}return t})();var kd=ps(bs());var Jv=["fileInput"];function eb(t,n){if(t&1&&(R(0,"app-label"),X(1),L()),t&2){let e=Ee();G(),qe(" ",e.label," ")}}function tb(t,n){if(t&1){let e=Et();ve(0,"img",6),wi(),R(1,"svg",7),pe("click",function(r){at(e);let s=Ee();return lt(s.removeImage(r))}),ve(2,"path",8),L()}if(t&2){let e=Ee();ue("src",e.src,kr)}}function nb(t,n){if(t&1){let e=Et();wi(),R(0,"svg",9),pe("click",function(r){at(e);let s=Ee();return lt(s.triggerFileInput(r))}),ve(1,"path",10),L(),fo(),R(2,"p",11),X(3,"Toque para adicionar foto"),L()}}var yc=(()=>{class t{injector;label="";disabled=!1;input;src=null;onChange=()=>{};onTouched=()=>{};control=null;group=null;get error(){return this.control?.errors&&this.group?.submitted&&this.control.errors.required?"Obrigat\xF3rio.":""}constructor(e){this.injector=e}ngOnInit(){this.group=this.injector.get(et,null),this.control=this.injector.get(Rt,null)}writeValue(e){e&&(this.src=e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}removeImage(e){e.preventDefault(),this.src=null;let i=this.input?.nativeElement;i&&(i.value=""),this.onChange(null)}triggerFileInput(e){e.preventDefault(),(this.input?.nativeElement).click()}onFileSelected(e){let i=this.input?.nativeElement;if(i?.files?.length){let r=i.files[0],s=new FileReader;s.onload=()=>{this.src=s.result,this.onChange(s.result)},s.readAsDataURL(r)}}static \u0275fac=function(i){return new(i||t)(ke(Yt))};static \u0275cmp=_e({type:t,selectors:[["app-photo"]],viewQuery:function(i,r){if(i&1&&Gi(Jv,5),i&2){let s;$i(s=Ki())&&(r.input=s.first)}},inputs:{label:"label",disabled:"disabled"},standalone:!0,features:[ct([{provide:Tt,useExisting:rt(()=>t),multi:!0}]),xe],decls:9,vars:2,consts:[["fileInput",""],[1,"mb-4"],[1,"mt-1","flex","items-center"],[1,"flex","flex-col","items-center","justify-center","w-full","min-h-32","border-2","border-dashed","border-gray-300","rounded-lg","cursor-pointer","bg-gray-50","hover:bg-gray-100"],[1,"relative","flex","flex-col","items-center","justify-center","pt-5","pb-6","w-full"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"w-32","h-32","object-cover","rounded-full",3,"src"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-8","absolute","top-2","right-2","text-gray-500","hover:text-gray-800","active:text-gray-800","active:scale-110","hover:scale-110","cursor-pointer",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-xs","text-gray-500","mt-2"]],template:function(i,r){if(i&1){let s=Et();R(0,"div",1),He(1,eb,2,1,"app-label"),R(2,"div",2)(3,"label",3)(4,"div",4),He(5,tb,3,1)(6,nb,4,0),L(),R(7,"input",5,0),pe("change",function(l){return at(s),lt(r.onFileSelected(l))}),L()()()()}i&2&&(G(),Ye(r.label?1:-1),G(4),Ye(r.src?5:6))},dependencies:[Ie,Bt,ei]})}return t})();function ib(t,n){t&1&&(R(0,"p",9),X(1," Preencha todos os campos obrigat\xF3rios. "),L())}var Ed=(()=>{class t{fb=ye(xn);activatedRoute=ye(Gl);petFacade=ye(Lr);petId=We(null);title=We("");species=We([]);gender=We([{label:"Macho",value:"M"},{label:"F\xEAmea",value:"F"}]);formPet=this.fb.group({name:["",ut.required],specie:[null,[Qi()]],breed:[""],birth:["",ut.required],gender:[null,[Qi()]],photo:[""]});errorFieldRequired=We(!1);ngAfterViewInit(){this.initForm()}onSubmit(){if(this.errorFieldRequired.set(!1),!this.formPet.valid){this.errorFieldRequired.set(!0);return}let e=!!this.petId(),i=this.formPet.value,r=i.specie,s=i.gender,o;if(e)o=this.petFacade.updatePet({id:Number(this.petId()),specieId:Number(r.value),name:i.name||"",breed:i.breed||"",birth:(0,kd.default)(i.birth).toDate(),gender:String(s.value),photo:i.photo||""});else{let l=this.formPet.value;o=this.petFacade.addPet({id:Number(this.petId()),specieId:Number(r.value),name:i.name||"",breed:i.breed||"",birth:(0,kd.default)(i.birth).toDate(),gender:String(s.value),photo:i.photo||""})}o.then(()=>{this.back()})}back(){history.back()}initForm(){this.petId.set(Number(this.activatedRoute.snapshot.params.id)||null),this.petFacade.listSpecies().then(i=>{let r=i.map(s=>({label:s.name,value:String(s.id)}));this.species.set(r)}),!!this.petId()?(this.title.set("Editar Pet"),this.petFacade.findPet(this.petId()).then(i=>{i&&this.formPet.reset({name:i.name||"",breed:i.breed||"",photo:i.photoUrl||"",birth:i.birthDate.toISOString().split("T")[0]||"",specie:{label:i.specie.label,value:i.specie.value},gender:{label:i.gender.label,value:i.gender.value}})})):(this.title.set("Cadastrar Pet"),this.formPet.reset({name:"",specie:null,breed:"",birth:"",gender:null,photo:""}))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-pet-form"]],standalone:!0,features:[xe],decls:16,vars:5,consts:[[1,"min-h-screen","flex","flex-col","text-white","px-6","py-8"],[1,"text-3xl","font-bold","text-text-primary"],[1,"bg-white","py-4","rounded-lg","w-full","max-w-md","text-gray-800",3,"ngSubmit","formGroup"],["formControlName","name","label","Nome do Pet"],["formControlName","specie","label","Esp\xE9cie",3,"options"],["formControlName","breed","label","Ra\xE7a (opcional)"],["formControlName","birth","label","Nascimento"],["formControlName","gender","label","Sexo",3,"options"],["formControlName","photo","label","Foto do Pet"],[1,"py-2","text-sm","text-gray-600","animate-fade-up"],[1,"flex","flex-col"],["theme","gradient-primary","type","submit",1,"max-w-md","my-2","w-full"],["theme","neutral",1,"max-w-md","w-full",3,"click"]],template:function(i,r){i&1&&(R(0,"div",0)(1,"h2",1),X(2),L(),R(3,"form",2),pe("ngSubmit",function(){return r.onSubmit()}),ve(4,"app-input",3)(5,"app-select",4)(6,"app-input",5)(7,"app-date",6)(8,"app-select",7)(9,"app-photo",8),He(10,ib,2,0,"p",9),R(11,"div",10)(12,"app-button",11),X(13," Confirmar"),L(),R(14,"app-button",12),pe("click",function(){return r.back()}),X(15," voltar"),L()()()()),i&2&&(G(2),qe(" ",r.title()," "),G(),ue("formGroup",r.formPet),G(2),ue("options",r.species()),G(3),ue("options",r.gender()),G(2),Ye(r.errorFieldRequired()?10:-1))},dependencies:[Jt,_n,dt,bn,et,hn,Ie,jr,yc,Si,Rr,en]})}return t})();var Hp=(()=>{class t{router=ye(Ut);goToLogin(){this.router.navigate(["login/sign"])}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-confirmation"]],standalone:!0,features:[xe],decls:7,vars:0,consts:[[1,"min-h-screen","bg-gradient-to-r","from-blue-500","to-purple-600","flex","flex-col","justify-center","items-center","text-white","p-4"],[1,"text-3xl","font-bold","mb-6"],[1,"text-lg","mb-8"],[1,"bg-white","text-blue-600","font-semibold","py-2","px-6","rounded-lg","shadow-lg","hover:bg-blue-50","transition","duration-300",3,"click"]],template:function(i,r){i&1&&(R(0,"div",0)(1,"h2",1),X(2,"Cadastro Conclu\xEDdo!"),L(),R(3,"p",2),X(4," Cadastro conclu\xEDdo com sucesso! Agora, acesse sua conta para gerenciar seu animal. "),L(),R(5,"button",3),pe("click",function(){return r.goToLogin()}),X(6," Fazer Login "),L()())}})}return t})();var zp=(()=>{class t{router=ye(Ut);goToRegisterPet(){this.router.navigate(["/login/meu-pet"])}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-introduction"]],standalone:!0,features:[xe],decls:7,vars:0,consts:[[1,"min-h-screen","bg-gradient-to-r","from-blue-500","to-purple-600","flex","flex-col","justify-center","items-center","text-white","p-4"],[1,"text-4xl","font-bold","mb-4"],[1,"text-lg","mb-8"],["theme","neutral",1,"h-28","w-28","absolute","bottom-7","right-7","rounded-full","overflow-hidden",3,"click"]],template:function(i,r){i&1&&(R(0,"div",0)(1,"h1",1),X(2,"Bem-vindo ao Pet Amigo!"),L(),R(3,"p",2),X(4," Para come\xE7ar, cadastre seu primeiro animal de estima\xE7\xE3o.. "),L(),R(5,"app-button",3),pe("click",function(){return r.goToRegisterPet()}),X(6,"Come\xE7ar"),L()())},dependencies:[en]})}return t})();var Gp=ps(bs());var Yp={production:!1,apiUrl:"http://localhost:3000/"};var Ao=new Sf(()=>({host:""}));var vc=class{http;config;constructor(n,e){this.http=n,this.config=e}fetch(n,e){let i=Object.assign({context:new vo().set(Ao,this.config)},e||{});return this.http.get(this.bindUrlHost(n),i)}post(n,e){return this.http.post(this.bindUrlHost(n),e,{context:new vo().set(Ao,this.config)})}delete(n){return this.http.delete(this.bindUrlHost(n),{context:new vo().set(Ao,this.config)})}update(n,e){return this.http.put(this.bindUrlHost(n),e||{},{context:new vo().set(Ao,this.config)})}partialUpdate(n,e){return this.http.patch(this.bindUrlHost(n),e||{},{context:new vo().set(Ao,this.config)})}bindUrlHost(n){return this.config.host+"/"+n}};var Up=(()=>{class t extends vc{constructor(e){super(e,{host:Yp.apiUrl+"auth"})}register(e){return this.post("register",e)}login(e){return this.post("login",e)}static \u0275fac=function(i){return new(i||t)(un(bo))};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Po=(()=>{class t{auth=ye(Up);storage=ye(Vr);jwt=ye(Eo);pet$=new ef(null);constructor(){this.initStore()}findSpecies(){return De.specie.toArray()}findPets(){return De.pet.toArray()}registerPet(e){return De.specie.toArray().then(i=>{let r=i.find(s=>s.id==e.specieId);this.pet$.next({birth:(0,Gp.default)(e.birth).toDate(),breed:e.breed,gender:e.gender,name:e.name,photo:e.photo,specie:{id:e.specieId,name:r?.name||""}})})}registerUser(e){return this.auth.register(e)}login(e,i){return this.auth.login({email:e,password:i}).pipe(Hl(r=>{this.storage.set(Xi.token,r.access_token);let s=this.jwt.decode(r.access_token);De.user.clear(),De.user.add({email:s?.email||"",exp:Number(s?.exp),iat:Number(s?.iat),name:s?.name||"",role:s?.role||"",sub:s?.sub||""})}))}saveStore(){let e=this.pet$.value;return De.pet.add({name:e?.name||"",breed:e?.breed||"",specieId:Number(e?.specie?.id),birthDate:e?.birth,gender:e?.gender,photoUrl:e?.photo||""})}initStore(){De.pet.toArray().then(e=>{if(e.length){let i=e[0];return De.specie.toArray().then(r=>{let s=r.find(l=>l.id==i.specieId),o={birth:i.birthDate,gender:i.gender,name:i.name,breed:i.breed||"",specie:s,photo:i.photoUrl||""};this.pet$.next(o)})}})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sb=["*"],$p=(()=>{class t{disabled=!1;type="button";static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-login-button"]],inputs:{disabled:"disabled",type:"type"},standalone:!0,features:[xe],ngContentSelectors:sb,decls:2,vars:2,consts:[[1,"block","w-full","h-12","px-6","bg-white","bg-opacity-30","text-white","rounded-full",3,"type","disabled"]],template:function(i,r){i&1&&(Er(),R(0,"button",0),Tr(1),L()),i&2&&ue("type",r.type)("disabled",r.disabled)}})}return t})();function ob(t,n){if(t&1&&(R(0,"p",0),X(1),L()),t&2){let e=Ee();G(),Ct(e.error)}}function ab(t,n){if(t&1&&(R(0,"label",1),X(1),L()),t&2){let e=Ee();G(),Ct(e.label)}}var Kp=(()=>{class t{injector;placeholder="";type="text";disabled=!1;label="";value="";onChange=()=>{};onTouched=()=>{};control=null;group=null;get error(){if(this.control?.errors&&this.group?.submitted){if(this.control.errors.required)return"Obrigat\xF3rio.";if(this.control.errors.email)return"Este campo deve ser um email."}return""}constructor(e){this.injector=e}ngOnInit(){this.group=this.injector.get(et,null),this.control=this.injector.get(Rt,null)}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}onBlur(){this.onTouched()}onInputChange(e){let i=e.target.value;this.value=i,this.onChange(i)}static \u0275fac=function(i){return new(i||t)(ke(Yt))};static \u0275cmp=_e({type:t,selectors:[["app-login-input"]],inputs:{placeholder:"placeholder",type:"type",disabled:"disabled",label:"label"},standalone:!0,features:[ct([{provide:Tt,useExisting:rt(()=>t),multi:!0}]),xe],decls:3,vars:5,consts:[[1,"pl-4","animate-fade-right","pb-1","text-xs","text-white"],[1,"pl-4","text-white","block","text-sm","font-medium","mb-2"],[1,"w-full","h-12","px-6","mb-4","bg-transparent","border-2","border-solid","placeholder-white","text-white","rounded-full","focus:outline-none",3,"ngModelChange","blur","input","type","placeholder","ngModel"]],template:function(i,r){i&1&&(He(0,ob,2,1,"p",0)(1,ab,2,1,"label",1),R(2,"input",2),Zn("ngModelChange",function(o){return Qn(r.value,o)||(r.value=o),o}),pe("blur",function(){return r.onBlur()})("input",function(o){return r.onInputChange(o)}),L()),i&2&&(Ye(r.error?0:-1),G(),Ye(r.label?1:-1),G(),ue("type",r.type)("placeholder",r.placeholder),Xn("ngModel",r.value))},dependencies:[Ie,Bt,Jn,dt,dn]})}return t})();var qp=(()=>{class t{fb=ye(xn);registration=ye(Po);jwt=ye(Eo);storage=ye(Vr);router=ye(Ut);formLogin=this.fb.group({email:["",ut.required],password:["",ut.required]});d(){return this.jwt.decode(this.storage.get(Xi.token)||"")}submitLogin(){this.formLogin.valid&&this.registration.login(this.formLogin.value.email||"",this.formLogin.value.password||"").subscribe({next:e=>this.registration.saveStore().then(()=>this.router.navigate(["alimentacao/home"])),error:e=>{console.log(e)}})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-login"]],standalone:!0,features:[xe],decls:6,vars:1,consts:[[1,"min-h-screen","bg-gradient-to-r","from-blue-500","to-purple-600","flex","flex-col","justify-center","items-center","text-white","p-4"],[1,"flex","flex-col","p-8","w-full","max-w-md","text-gray-800",3,"submit","formGroup"],["formControlName","email","placeholder","Email"],["formControlName","password","type","password","placeholder","Senha"],["type","submit","theme","gradient",1,"w-2/3","mx-auto","mt-3","font-bold"]],template:function(i,r){i&1&&(R(0,"div",0)(1,"form",1),pe("submit",function(){return r.submitLogin()}),ve(2,"app-login-input",2)(3,"app-login-input",3),R(4,"app-login-button",4),X(5,"Entrar"),L()()()),i&2&&(G(),ue("formGroup",r.formLogin))},dependencies:[Jt,_n,dt,bn,et,hn,Kp,$p]})}return t})();var lb=()=>[];function cb(t,n){t&1&&(R(0,"p",9),X(1," Preencha todos os campos obrigat\xF3rios. "),L())}var Xp=(()=>{class t{router=ye(Ut);registration=ye(Po);fb=ye(xn);species=hi(()=>this.findSpecies());gender=We([{label:"Macho",value:"M"},{label:"F\xEAmea",value:"F"}]);formPet=this.fb.group({name:["",ut.required],specie:[null,[Qi()]],breed:[""],birth:["",ut.required],gender:[null,[Qi()]],photo:[""]});errorFieldRequired=We(!1);ngAfterViewInit(){this.initForm()}onSubmit(){if(this.errorFieldRequired.set(!1),!this.formPet.valid){this.errorFieldRequired.set(!0);return}this.registerPet().then(()=>this.router.navigate(["login/perfil"]))}findSpecies(){return this.registration.findSpecies().then(e=>e.map(i=>({value:String(i.id),label:i.name})))}registerPet(){let e=this.formPet.value;return this.registration.registerPet({birth:e.birth||"",breed:e.breed||"",gender:e.gender?.value||"M",name:e.name||"",specieId:Number(e.specie?.value||""),photo:e.photo||""})}initForm(){this.registration.pet$.subscribe(e=>{e&&this.formPet.reset({name:e?.name||"",specie:{label:e.specie?.name||"",value:String(e.specie?.id||"")},breed:e?.breed||"",photo:e.photo||"",birth:e?.birth.toISOString().split("T")[0]||"",gender:{label:e?.gender=="M"?"Macho":"Femea",value:e?.gender||""}})})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-register-pet"]],standalone:!0,features:[xe],decls:14,vars:7,consts:[[1,"min-h-screen","bg-gradient-to-r","from-blue-500","to-purple-600","flex","flex-col","justify-center","items-center","text-white","p-4"],[1,"text-3xl","font-bold","mb-6"],[1,"bg-white","p-5","rounded-lg","shadow-lg","w-full","max-w-md","text-gray-800",3,"ngSubmit","formGroup"],["formControlName","name","label","Nome do Pet"],["formControlName","specie","label","Esp\xE9cie",3,"options"],["formControlName","breed","label","Ra\xE7a (opcional)"],["formControlName","birth","label","Nascimento"],["formControlName","gender","label","Sexo",3,"options"],["formControlName","photo","label","Foto do Pet"],[1,"py-2","text-sm","text-gray-600","animate-fade-up"],["theme","gradient","type","submit",1,"max-w-md","my-2","w-full"]],template:function(i,r){i&1&&(R(0,"div",0)(1,"h2",1),X(2,"Cadastro do Animal"),L(),R(3,"form",2),pe("ngSubmit",function(){return r.onSubmit()}),ve(4,"app-input",3)(5,"app-select",4),Rn(6,"async"),ve(7,"app-input",5)(8,"app-date",6)(9,"app-select",7)(10,"app-photo",8),He(11,cb,2,0,"p",9),R(12,"app-button",10),X(13," Avan\xE7ar"),L()()()),i&2&&(G(3),ue("formGroup",r.formPet),G(2),ue("options",qi(6,4,r.species)||Ta(6,lb)),G(4),ue("options",r.gender()),G(2),Ye(r.errorFieldRequired()?11:-1))},dependencies:[Jt,_n,dt,bn,et,hn,Bt,Ie,Pr,Si,jr,en,Rr,yc]})}return t})();function Qp(t,n){return e=>{let i=e.get(t)?.value,r=e.get(n)?.value;return i!==r?{passwordMismatch:!0}:null}}function ub(t,n){if(t&1&&(R(0,"p",7),X(1),L()),t&2){let e=Ee();G(),qe(" ",e.passwordMismatch()," ")}}var Zp=(()=>{class t{router=ye(Ut);fb=ye(xn);registration=ye(Po);formUser=this.fb.group({name:["",ut.required],email:["",[ut.required,ut.email]],password:["",ut.required],confirmation:["",ut.required]},{validators:Qp("password","confirmation")});passwordMismatch=We("");onSubmit(){if(!this.formUser.valid){this.formUser.errors?.passwordMismatch&&this.passwordMismatch.set("As senhas n\xE3o conferem.");return}this.registration.registerUser({email:this.formUser.get("email")?.value||"",name:this.formUser.get("name")?.value||"",password:this.formUser.get("password")?.value||""}).subscribe(()=>{this.router.navigate(["login/confirmacao"])})}goToPet(){this.router.navigate(["login/meu-pet"])}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-register-user"]],standalone:!0,features:[xe],decls:14,vars:2,consts:[[1,"min-h-screen","bg-gradient-to-r","from-blue-500","to-purple-600","flex","flex-col","justify-center","items-center","text-white","p-4"],[1,"text-3xl","font-bold","mb-6"],[1,"bg-white","p-5","rounded-lg","shadow-lg","w-full","max-w-md","text-gray-800",3,"ngSubmit","formGroup"],["formControlName","name","label","Nome Completo"],["formControlName","email","label","Email","error","teste"],["formControlName","password","label","Senha","type","password"],["formControlName","confirmation","label","Confirmar Senha","type","password"],[1,"animate-fade-right","pb-1","text-xs","text-red-400"],[1,"flex","flex-col","gap-2"],["type","submit","theme","gradient"],["theme","neutral",3,"click"]],template:function(i,r){i&1&&(R(0,"div",0)(1,"h2",1),X(2,"Cria\xE7\xE3o de Login"),L(),R(3,"form",2),pe("ngSubmit",function(){return r.onSubmit()}),ve(4,"app-input",3)(5,"app-input",4)(6,"app-input",5)(7,"app-input",6),He(8,ub,2,1,"p",7),R(9,"div",8)(10,"app-button",9),X(11,"Criar Conta"),L(),R(12,"app-button",10),pe("click",function(){return r.goToPet()}),X(13,"Voltar"),L()()()()),i&2&&(G(3),ue("formGroup",r.formUser),G(5),Ye(r.passwordMismatch()?8:-1))},dependencies:[Jt,_n,dt,bn,et,hn,en,Si]})}return t})();function Ha(t){return t+.5|0}var Br=(t,n,e)=>Math.max(Math.min(t,e),n);function Ba(t){return Br(Ha(t*2.55),0,255)}function Wr(t){return Br(Ha(t*255),0,255)}function Zi(t){return Br(Ha(t/2.55)/100,0,1)}function Jp(t){return Br(Ha(t*100),0,100)}var ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ad=[..."0123456789ABCDEF"],db=t=>Ad[t&15],hb=t=>Ad[(t&240)>>4]+Ad[t&15],bc=t=>(t&240)>>4===(t&15),fb=t=>bc(t.r)&&bc(t.g)&&bc(t.b)&&bc(t.a);function pb(t){var n=t.length,e;return t[0]==="#"&&(n===4||n===5?e={r:255&ti[t[1]]*17,g:255&ti[t[2]]*17,b:255&ti[t[3]]*17,a:n===5?ti[t[4]]*17:255}:(n===7||n===9)&&(e={r:ti[t[1]]<<4|ti[t[2]],g:ti[t[3]]<<4|ti[t[4]],b:ti[t[5]]<<4|ti[t[6]],a:n===9?ti[t[7]]<<4|ti[t[8]]:255})),e}var mb=(t,n)=>t<255?n(t):"";function gb(t){var n=fb(t)?db:hb;return t?"#"+n(t.r)+n(t.g)+n(t.b)+mb(t.a,n):void 0}var yb=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function im(t,n,e){let i=n*Math.min(e,1-e),r=(s,o=(s+t/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function vb(t,n,e){let i=(r,s=(r+t/60)%6)=>e-e*n*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function bb(t,n,e){let i=im(t,1,.5),r;for(n+e>1&&(r=1/(n+e),n*=r,e*=r),r=0;r<3;r++)i[r]*=1-n-e,i[r]+=n;return i}function _b(t,n,e,i,r){return t===r?(n-e)/i+(n<e?6:0):n===r?(e-t)/i+2:(t-n)/i+4}function Pd(t){let e=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(e,i,r),o=Math.min(e,i,r),l=(s+o)/2,d,f,g;return s!==o&&(g=s-o,f=l>.5?g/(2-s-o):g/(s+o),d=_b(e,i,r,g,s),d=d*60+.5),[d|0,f||0,l]}function Od(t,n,e,i){return(Array.isArray(n)?t(n[0],n[1],n[2]):t(n,e,i)).map(Wr)}function Fd(t,n,e){return Od(im,t,n,e)}function xb(t,n,e){return Od(bb,t,n,e)}function wb(t,n,e){return Od(vb,t,n,e)}function rm(t){return(t%360+360)%360}function Cb(t){let n=yb.exec(t),e=255,i;if(!n)return;n[5]!==i&&(e=n[6]?Ba(+n[5]):Wr(+n[5]));let r=rm(+n[2]),s=+n[3]/100,o=+n[4]/100;return n[1]==="hwb"?i=xb(r,s,o):n[1]==="hsv"?i=wb(r,s,o):i=Fd(r,s,o),{r:i[0],g:i[1],b:i[2],a:e}}function Sb(t,n){var e=Pd(t);e[0]=rm(e[0]+n),e=Fd(e),t.r=e[0],t.g=e[1],t.b=e[2]}function Mb(t){if(!t)return;let n=Pd(t),e=n[0],i=Jp(n[1]),r=Jp(n[2]);return t.a<255?`hsla(${e}, ${i}%, ${r}%, ${Zi(t.a)})`:`hsl(${e}, ${i}%, ${r}%)`}var em={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},tm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Db(){let t={},n=Object.keys(tm),e=Object.keys(em),i,r,s,o,l;for(i=0;i<n.length;i++){for(o=l=n[i],r=0;r<e.length;r++)s=e[r],l=l.replace(s,em[s]);s=parseInt(tm[o],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}var _c;function kb(t){_c||(_c=Db(),_c.transparent=[0,0,0,0]);let n=_c[t.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}var Eb=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Tb(t){let n=Eb.exec(t),e=255,i,r,s;if(n){if(n[7]!==i){let o=+n[7];e=n[8]?Ba(o):Br(o*255,0,255)}return i=+n[1],r=+n[3],s=+n[5],i=255&(n[2]?Ba(i):Br(i,0,255)),r=255&(n[4]?Ba(r):Br(r,0,255)),s=255&(n[6]?Ba(s):Br(s,0,255)),{r:i,g:r,b:s,a:e}}}function Ab(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Zi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var Td=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Oo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Pb(t,n,e){let i=Oo(Zi(t.r)),r=Oo(Zi(t.g)),s=Oo(Zi(t.b));return{r:Wr(Td(i+e*(Oo(Zi(n.r))-i))),g:Wr(Td(r+e*(Oo(Zi(n.g))-r))),b:Wr(Td(s+e*(Oo(Zi(n.b))-s))),a:t.a+e*(n.a-t.a)}}function xc(t,n,e){if(t){let i=Pd(t);i[n]=Math.max(0,Math.min(i[n]+i[n]*e,n===0?360:1)),i=Fd(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function sm(t,n){return t&&Object.assign(n||{},t)}function nm(t){var n={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(n={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(n.a=Wr(t[3]))):(n=sm(t,{r:0,g:0,b:0,a:1}),n.a=Wr(n.a)),n}function Ob(t){return t.charAt(0)==="r"?Tb(t):Cb(t)}var Wa=class t{constructor(n){if(n instanceof t)return n;let e=typeof n,i;e==="object"?i=nm(n):e==="string"&&(i=pb(n)||kb(n)||Ob(n)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var n=sm(this._rgb);return n&&(n.a=Zi(n.a)),n}set rgb(n){this._rgb=nm(n)}rgbString(){return this._valid?Ab(this._rgb):void 0}hexString(){return this._valid?gb(this._rgb):void 0}hslString(){return this._valid?Mb(this._rgb):void 0}mix(n,e){if(n){let i=this.rgb,r=n.rgb,s,o=e===s?.5:e,l=2*o-1,d=i.a-r.a,f=((l*d===-1?l:(l+d)/(1+l*d))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(n,e){return n&&(this._rgb=Pb(this._rgb,n._rgb,e)),this}clone(){return new t(this.rgb)}alpha(n){return this._rgb.a=Wr(n),this}clearer(n){let e=this._rgb;return e.a*=1-n,this}greyscale(){let n=this._rgb,e=Ha(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=e,this}opaquer(n){let e=this._rgb;return e.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return xc(this._rgb,2,n),this}darken(n){return xc(this._rgb,2,-n),this}saturate(n){return xc(this._rgb,1,n),this}desaturate(n){return xc(this._rgb,1,-n),this}rotate(n){return Sb(this._rgb,n),this}};function ki(){}var gm=(()=>{let t=0;return()=>t++})();function ze(t){return t==null}function mt(t){if(Array.isArray&&Array.isArray(t))return!0;let n=Object.prototype.toString.call(t);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function Ue(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function At(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Sn(t,n){return At(t)?t:n}function Oe(t,n){return typeof t>"u"?n:t}var ym=(t,n)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/n,Ld=(t,n)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*n:+t;function ft(t,n,e){if(t&&typeof t.call=="function")return t.apply(e,n)}function tt(t,n,e,i){let r,s,o;if(mt(t))if(s=t.length,i)for(r=s-1;r>=0;r--)n.call(e,t[r],r);else for(r=0;r<s;r++)n.call(e,t[r],r);else if(Ue(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)n.call(e,t[o[r]],o[r])}function Ua(t,n){let e,i,r,s;if(!t||!n||t.length!==n.length)return!1;for(e=0,i=t.length;e<i;++e)if(r=t[e],s=n[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Mc(t){if(mt(t))return t.map(Mc);if(Ue(t)){let n=Object.create(null),e=Object.keys(t),i=e.length,r=0;for(;r<i;++r)n[e[r]]=Mc(t[e[r]]);return n}return t}function vm(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Fb(t,n,e,i){if(!vm(t))return;let r=n[t],s=e[t];Ue(r)&&Ue(s)?Io(r,s,i):n[t]=Mc(s)}function Io(t,n,e){let i=mt(n)?n:[n],r=i.length;if(!Ue(t))return t;e=e||{};let s=e.merger||Fb,o;for(let l=0;l<r;++l){if(o=i[l],!Ue(o))continue;let d=Object.keys(o);for(let f=0,g=d.length;f<g;++f)s(d[f],t,o,e)}return t}function Vo(t,n){return Io(t,n,{merger:Ib})}function Ib(t,n,e){if(!vm(t))return;let i=n[t],r=e[t];Ue(i)&&Ue(r)?Vo(i,r):Object.prototype.hasOwnProperty.call(n,t)||(n[t]=Mc(r))}var om={"":t=>t,x:t=>t.x,y:t=>t.y};function Rb(t){let n=t.split("."),e=[],i="";for(let r of n)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Vb(t){let n=Rb(t);return e=>{for(let i of n){if(i==="")break;e=e&&e[i]}return e}}function tr(t,n){return(om[n]||(om[n]=Vb(n)))(t)}function Tc(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Lo=t=>typeof t<"u",Ji=t=>typeof t=="function",Nd=(t,n)=>{if(t.size!==n.size)return!1;for(let e of t)if(!n.has(e))return!1;return!0};function bm(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var gt=Math.PI,yt=2*gt,Lb=yt+gt,Dc=Number.POSITIVE_INFINITY,Nb=gt/180,Ft=gt/2,_s=gt/4,am=gt*2/3,er=Math.log10,fi=Math.sign;function No(t,n,e){return Math.abs(t-n)<e}function jd(t){let n=Math.round(t);t=No(t,n,t/1e3)?n:t;let e=Math.pow(10,Math.floor(er(t))),i=t/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function _m(t){let n=[],e=Math.sqrt(t),i;for(i=1;i<e;i++)t%i===0&&(n.push(i),n.push(t/i));return e===(e|0)&&n.push(e),n.sort((r,s)=>r-s).pop(),n}function jb(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Cs(t){return!jb(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function xm(t,n){let e=Math.round(t);return e-n<=t&&e+n>=t}function Bd(t,n,e){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][e],isNaN(s)||(n.min=Math.min(n.min,s),n.max=Math.max(n.max,s))}function ni(t){return t*(gt/180)}function Ac(t){return t*(180/gt)}function Wd(t){if(!At(t))return;let n=1,e=0;for(;Math.round(t*n)/n!==t;)n*=10,e++;return e}function Hd(t,n){let e=n.x-t.x,i=n.y-t.y,r=Math.sqrt(e*e+i*i),s=Math.atan2(i,e);return s<-.5*gt&&(s+=yt),{angle:s,distance:r}}function kc(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function Bb(t,n){return(t-n+Lb)%yt-gt}function Cn(t){return(t%yt+yt)%yt}function jo(t,n,e,i){let r=Cn(t),s=Cn(n),o=Cn(e),l=Cn(s-r),d=Cn(o-r),f=Cn(r-s),g=Cn(r-o);return r===s||r===o||i&&s===o||l>d&&f<g}function Ht(t,n,e){return Math.max(n,Math.min(e,t))}function wm(t){return Ht(t,-32768,32767)}function Ei(t,n,e,i=1e-6){return t>=Math.min(n,e)-i&&t<=Math.max(n,e)+i}function Pc(t,n,e){e=e||(o=>t[o]<n);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}var Mi=(t,n,e,i)=>Pc(t,e,i?r=>{let s=t[r][n];return s<e||s===e&&t[r+1][n]===e}:r=>t[r][n]<e),Cm=(t,n,e)=>Pc(t,e,i=>t[i][n]>=e);function Sm(t,n,e){let i=0,r=t.length;for(;i<r&&t[i]<n;)i++;for(;r>i&&t[r-1]>e;)r--;return i>0||r<t.length?t.slice(i,r):t}var Mm=["push","pop","shift","splice","unshift"];function Dm(t,n){if(t._chartjs){t._chartjs.listeners.push(n);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),Mm.forEach(e=>{let i="_onData"+Tc(e),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),o}})})}function zd(t,n){let e=t._chartjs;if(!e)return;let i=e.listeners,r=i.indexOf(n);r!==-1&&i.splice(r,1),!(i.length>0)&&(Mm.forEach(s=>{delete t[s]}),delete t._chartjs)}function Yd(t){let n=new Set(t);return n.size===t.length?t:Array.from(n)}var Ud=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Gd(t,n){let e=[],i=!1;return function(...r){e=r,i||(i=!0,Ud.call(window,()=>{i=!1,t.apply(n,e)}))}}function km(t,n){let e;return function(...i){return n?(clearTimeout(e),e=setTimeout(t,n,i)):t.apply(this,i),n}}var Oc=t=>t==="start"?"left":t==="end"?"right":"center",Xt=(t,n,e)=>t==="start"?n:t==="end"?e:(n+e)/2,Em=(t,n,e,i)=>t===(i?"left":"right")?e:t==="center"?(n+e)/2:n;function $d(t,n,e){let i=n.length,r=0,s=i;if(t._sorted){let{iScale:o,vScale:l,_parsed:d}=t,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,g=o.axis,{min:_,max:w,minDefined:S,maxDefined:D}=o.getUserBounds();if(S){if(r=Math.min(Mi(d,g,_).lo,e?i:Mi(n,g,o.getPixelForValue(_)).lo),f){let T=d.slice(0,r+1).reverse().findIndex(A=>!ze(A[l.axis]));r-=Math.max(0,T)}r=Ht(r,0,i-1)}if(D){let T=Math.max(Mi(d,o.axis,w,!0).hi+1,e?0:Mi(n,g,o.getPixelForValue(w),!0).hi+1);if(f){let A=d.slice(T-1).findIndex(B=>!ze(B[l.axis]));T+=Math.max(0,A)}s=Ht(T,r,i)-r}else s=i-r}return{start:r,count:s}}function Kd(t){let{xScale:n,yScale:e,_scaleRanges:i}=t,r={xmin:n.min,xmax:n.max,ymin:e.min,ymax:e.max};if(!i)return t._scaleRanges=r,!0;let s=i.xmin!==n.min||i.xmax!==n.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}var wc=t=>t===0||t===1,lm=(t,n,e)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-n)*yt/e)),cm=(t,n,e)=>Math.pow(2,-10*t)*Math.sin((t-n)*yt/e)+1,Fo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ft)+1,easeOutSine:t=>Math.sin(t*Ft),easeInOutSine:t=>-.5*(Math.cos(gt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>wc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wc(t)?t:lm(t,.075,.3),easeOutElastic:t=>wc(t)?t:cm(t,.075,.3),easeInOutElastic(t){return wc(t)?t:t<.5?.5*lm(t*2,.1125,.45):.5+.5*cm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let n=1.70158;return(t/=.5)<1?.5*(t*t*(((n*=1.525)+1)*t-n)):.5*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)},easeInBounce:t=>1-Fo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Fo.easeInBounce(t*2)*.5:Fo.easeOutBounce(t*2-1)*.5+.5};function qd(t){if(t&&typeof t=="object"){let n=t.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function Xd(t){return qd(t)?t:new Wa(t)}function Id(t){return qd(t)?t:new Wa(t).saturate(.5).darken(.1).hexString()}var Wb=["x","y","borderWidth","radius","tension"],Hb=["color","borderColor","backgroundColor"];function zb(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"}),t.set("animations",{colors:{type:"color",properties:Hb},numbers:{type:"number",properties:Wb}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}})}function Yb(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var um=new Map;function Ub(t,n){n=n||{};let e=t+JSON.stringify(n),i=um.get(e);return i||(i=new Intl.NumberFormat(t,n),um.set(e,i)),i}function Bo(t,n,e){return Ub(n,e).format(t)}var Tm={values(t){return mt(t)?t:""+t},numeric(t,n,e){if(t===0)return"0";let i=this.chart.options.locale,r,s=t;if(e.length>1){let f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=Gb(t,e)}let o=er(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),d={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(d,this.options.ticks.format),Bo(t,i,d)},logarithmic(t,n,e){if(t===0)return"0";let i=e[n].significand||t/Math.pow(10,Math.floor(er(t)));return[1,2,3,5,10,15].includes(i)||n>.8*e.length?Tm.numeric.call(this,t,n,e):""}};function Gb(t,n){let e=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}var Ga={formatters:Tm};function $b(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ga.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"&&n!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"})}var zr=Object.create(null),Fc=Object.create(null);function za(t,n){if(!n)return t;let e=n.split(".");for(let i=0,r=e.length;i<r;++i){let s=e[i];t=t[s]||(t[s]=Object.create(null))}return t}function Rd(t,n,e){return typeof n=="string"?Io(za(t,n),e):Io(za(t,""),n)}var Vd=class{constructor(n,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Id(r.backgroundColor),this.hoverBorderColor=(i,r)=>Id(r.borderColor),this.hoverColor=(i,r)=>Id(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(e)}set(n,e){return Rd(this,n,e)}get(n){return za(this,n)}describe(n,e){return Rd(Fc,n,e)}override(n,e){return Rd(zr,n,e)}route(n,e,i,r){let s=za(this,n),o=za(this,i),l="_"+e;Object.defineProperties(s,{[l]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){let d=this[l],f=o[r];return Ue(d)?Object.assign({},f,d):Oe(d,f)},set(d){this[l]=d}}})}apply(n){n.forEach(e=>e(this))}},vt=new Vd({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[zb,Yb,$b]);function Kb(t){return!t||ze(t.size)||ze(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ya(t,n,e,i,r){let s=n[r];return s||(s=n[r]=t.measureText(r).width,e.push(r)),s>i&&(i=s),i}function Am(t,n,e,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==n&&(r=i.data={},s=i.garbageCollect=[],i.font=n),t.save(),t.font=n;let o=0,l=e.length,d,f,g,_,w;for(d=0;d<l;d++)if(_=e[d],_!=null&&!mt(_))o=Ya(t,r,s,o,_);else if(mt(_))for(f=0,g=_.length;f<g;f++)w=_[f],w!=null&&!mt(w)&&(o=Ya(t,r,s,o,w));t.restore();let S=s.length/2;if(S>e.length){for(d=0;d<S;d++)delete r[s[d]];s.splice(0,S)}return o}function Yr(t,n,e){let i=t.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((n-r)*i)/i+r}function Qd(t,n){!n&&!t||(n=n||t.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,t.width,t.height),n.restore())}function Ic(t,n,e,i){Zd(t,n,e,i,null)}function Zd(t,n,e,i,r){let s,o,l,d,f,g,_,w,S=n.pointStyle,D=n.rotation,T=n.radius,A=(D||0)*Nb;if(S&&typeof S=="object"&&(s=S.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(e,i),t.rotate(A),t.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),t.restore();return}if(!(isNaN(T)||T<=0)){switch(t.beginPath(),S){default:r?t.ellipse(e,i,r/2,T,0,0,yt):t.arc(e,i,T,0,yt),t.closePath();break;case"triangle":g=r?r/2:T,t.moveTo(e+Math.sin(A)*g,i-Math.cos(A)*T),A+=am,t.lineTo(e+Math.sin(A)*g,i-Math.cos(A)*T),A+=am,t.lineTo(e+Math.sin(A)*g,i-Math.cos(A)*T),t.closePath();break;case"rectRounded":f=T*.516,d=T-f,o=Math.cos(A+_s)*d,_=Math.cos(A+_s)*(r?r/2-f:d),l=Math.sin(A+_s)*d,w=Math.sin(A+_s)*(r?r/2-f:d),t.arc(e-_,i-l,f,A-gt,A-Ft),t.arc(e+w,i-o,f,A-Ft,A),t.arc(e+_,i+l,f,A,A+Ft),t.arc(e-w,i+o,f,A+Ft,A+gt),t.closePath();break;case"rect":if(!D){d=Math.SQRT1_2*T,g=r?r/2:d,t.rect(e-g,i-d,2*g,2*d);break}A+=_s;case"rectRot":_=Math.cos(A)*(r?r/2:T),o=Math.cos(A)*T,l=Math.sin(A)*T,w=Math.sin(A)*(r?r/2:T),t.moveTo(e-_,i-l),t.lineTo(e+w,i-o),t.lineTo(e+_,i+l),t.lineTo(e-w,i+o),t.closePath();break;case"crossRot":A+=_s;case"cross":_=Math.cos(A)*(r?r/2:T),o=Math.cos(A)*T,l=Math.sin(A)*T,w=Math.sin(A)*(r?r/2:T),t.moveTo(e-_,i-l),t.lineTo(e+_,i+l),t.moveTo(e+w,i-o),t.lineTo(e-w,i+o);break;case"star":_=Math.cos(A)*(r?r/2:T),o=Math.cos(A)*T,l=Math.sin(A)*T,w=Math.sin(A)*(r?r/2:T),t.moveTo(e-_,i-l),t.lineTo(e+_,i+l),t.moveTo(e+w,i-o),t.lineTo(e-w,i+o),A+=_s,_=Math.cos(A)*(r?r/2:T),o=Math.cos(A)*T,l=Math.sin(A)*T,w=Math.sin(A)*(r?r/2:T),t.moveTo(e-_,i-l),t.lineTo(e+_,i+l),t.moveTo(e+w,i-o),t.lineTo(e-w,i+o);break;case"line":o=r?r/2:Math.cos(A)*T,l=Math.sin(A)*T,t.moveTo(e-o,i-l),t.lineTo(e+o,i+l);break;case"dash":t.moveTo(e,i),t.lineTo(e+Math.cos(A)*(r?r/2:T),i+Math.sin(A)*T);break;case!1:t.closePath();break}t.fill(),n.borderWidth>0&&t.stroke()}}function Di(t,n,e){return e=e||.5,!n||t&&t.x>n.left-e&&t.x<n.right+e&&t.y>n.top-e&&t.y<n.bottom+e}function $a(t,n){t.save(),t.beginPath(),t.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip()}function Ka(t){t.restore()}function Pm(t,n,e,i,r){if(!n)return t.lineTo(e.x,e.y);if(r==="middle"){let s=(n.x+e.x)/2;t.lineTo(s,n.y),t.lineTo(s,e.y)}else r==="after"!=!!i?t.lineTo(n.x,e.y):t.lineTo(e.x,n.y);t.lineTo(e.x,e.y)}function Om(t,n,e,i){if(!n)return t.lineTo(e.x,e.y);t.bezierCurveTo(i?n.cp1x:n.cp2x,i?n.cp1y:n.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function qb(t,n){n.translation&&t.translate(n.translation[0],n.translation[1]),ze(n.rotation)||t.rotate(n.rotation),n.color&&(t.fillStyle=n.color),n.textAlign&&(t.textAlign=n.textAlign),n.textBaseline&&(t.textBaseline=n.textBaseline)}function Xb(t,n,e,i,r){if(r.strikethrough||r.underline){let s=t.measureText(i),o=n-s.actualBoundingBoxLeft,l=n+s.actualBoundingBoxRight,d=e-s.actualBoundingBoxAscent,f=e+s.actualBoundingBoxDescent,g=r.strikethrough?(d+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,g),t.lineTo(l,g),t.stroke()}}function Qb(t,n){let e=t.fillStyle;t.fillStyle=n.color,t.fillRect(n.left,n.top,n.width,n.height),t.fillStyle=e}function Ur(t,n,e,i,r,s={}){let o=mt(n)?n:[n],l=s.strokeWidth>0&&s.strokeColor!=="",d,f;for(t.save(),t.font=r.string,qb(t,s),d=0;d<o.length;++d)f=o[d],s.backdrop&&Qb(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ze(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(f,e,i,s.maxWidth)),t.fillText(f,e,i,s.maxWidth),Xb(t,e,i,f,s),i+=Number(r.lineHeight);t.restore()}function Wo(t,n){let{x:e,y:i,w:r,h:s,radius:o}=n;t.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*gt,gt,!0),t.lineTo(e,i+s-o.bottomLeft),t.arc(e+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,gt,Ft,!0),t.lineTo(e+r-o.bottomRight,i+s),t.arc(e+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ft,0,!0),t.lineTo(e+r,i+o.topRight),t.arc(e+r-o.topRight,i+o.topRight,o.topRight,0,-Ft,!0),t.lineTo(e+o.topLeft,i)}var Zb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Jb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function e_(t,n){let e=(""+t).match(Zb);if(!e||e[1]==="normal")return n*1.2;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100;break}return n*t}var t_=t=>+t||0;function Rc(t,n){let e={},i=Ue(n),r=i?Object.keys(n):n,s=Ue(t)?i?o=>Oe(t[o],t[n[o]]):o=>t[o]:()=>t;for(let o of r)e[o]=t_(s(o));return e}function Jd(t){return Rc(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Gr(t){return Rc(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Qt(t){let n=Jd(t);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Wt(t,n){t=t||{},n=n||vt.font;let e=Oe(t.size,n.size);typeof e=="string"&&(e=parseInt(e,10));let i=Oe(t.style,n.style);i&&!(""+i).match(Jb)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:Oe(t.family,n.family),lineHeight:e_(Oe(t.lineHeight,n.lineHeight),e),size:e,style:i,weight:Oe(t.weight,n.weight),string:""};return r.string=Kb(r),r}function Ho(t,n,e,i){let r=!0,s,o,l;for(s=0,o=t.length;s<o;++s)if(l=t[s],l!==void 0&&(n!==void 0&&typeof l=="function"&&(l=l(n),r=!1),e!==void 0&&mt(l)&&(l=l[e%l.length],r=!1),l!==void 0))return i&&!r&&(i.cacheable=!1),l}function Fm(t,n,e){let{min:i,max:r}=t,s=Ld(n,(r-i)/2),o=(l,d)=>e&&l===0?0:l+d;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function nr(t,n){return Object.assign(Object.create(t),n)}function Vc(t,n=[""],e,i,r=()=>t[0]){let s=e||t;typeof i>"u"&&(i=Vm("_fallback",t));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>Vc([l,...t],n,s,i)};return new Proxy(o,{deleteProperty(l,d){return delete l[d],delete l._keys,delete t[0][d],!0},get(l,d){return Im(l,d,()=>c_(d,n,t,l))},getOwnPropertyDescriptor(l,d){return Reflect.getOwnPropertyDescriptor(l._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,d){return hm(l).includes(d)},ownKeys(l){return hm(l)},set(l,d,f){let g=l._storage||(l._storage=r());return l[d]=g[d]=f,delete l._keys,!0}})}function ws(t,n,e,i){let r={_cacheable:!1,_proxy:t,_context:n,_subProxy:e,_stack:new Set,_descriptors:eh(t,i),setContext:s=>ws(t,s,e,i),override:s=>ws(t.override(s),n,e,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,l){return Im(s,o,()=>i_(s,o,l))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,l){return t[o]=l,delete s[o],!0}})}function eh(t,n={scriptable:!0,indexable:!0}){let{_scriptable:e=n.scriptable,_indexable:i=n.indexable,_allKeys:r=n.allKeys}=t;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ji(e)?e:()=>e,isIndexable:Ji(i)?i:()=>i}}var n_=(t,n)=>t?t+Tc(n):n,th=(t,n)=>Ue(n)&&t!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function Im(t,n,e){if(Object.prototype.hasOwnProperty.call(t,n)||n==="constructor")return t[n];let i=e();return t[n]=i,i}function i_(t,n,e){let{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t,l=i[n];return Ji(l)&&o.isScriptable(n)&&(l=r_(n,l,t,e)),mt(l)&&l.length&&(l=s_(n,l,t,o.isIndexable)),th(n,l)&&(l=ws(l,r,s&&s[n],o)),l}function r_(t,n,e,i){let{_proxy:r,_context:s,_subProxy:o,_stack:l}=e;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let d=n(s,o||i);return l.delete(t),th(t,d)&&(d=nh(r._scopes,r,t,d)),d}function s_(t,n,e,i){let{_proxy:r,_context:s,_subProxy:o,_descriptors:l}=e;if(typeof s.index<"u"&&i(t))return n[s.index%n.length];if(Ue(n[0])){let d=n,f=r._scopes.filter(g=>g!==d);n=[];for(let g of d){let _=nh(f,r,t,g);n.push(ws(_,s,o&&o[t],l))}}return n}function Rm(t,n,e){return Ji(t)?t(n,e):t}var o_=(t,n)=>t===!0?n:typeof t=="string"?tr(n,t):void 0;function a_(t,n,e,i,r){for(let s of n){let o=o_(e,s);if(o){t.add(o);let l=Rm(o._fallback,e,r);if(typeof l<"u"&&l!==e&&l!==i)return l}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function nh(t,n,e,i){let r=n._rootScopes,s=Rm(n._fallback,e,i),o=[...t,...r],l=new Set;l.add(i);let d=dm(l,o,e,s||e,i);return d===null||typeof s<"u"&&s!==e&&(d=dm(l,o,s,d,i),d===null)?!1:Vc(Array.from(l),[""],r,s,()=>l_(n,e,i))}function dm(t,n,e,i,r){for(;e;)e=a_(t,n,e,i,r);return e}function l_(t,n,e){let i=t._getTarget();n in i||(i[n]={});let r=i[n];return mt(r)&&Ue(e)?e:r||{}}function c_(t,n,e,i){let r;for(let s of n)if(r=Vm(n_(s,t),e),typeof r<"u")return th(t,r)?nh(e,i,t,r):r}function Vm(t,n){for(let e of n){if(!e)continue;let i=e[t];if(typeof i<"u")return i}}function hm(t){let n=t._keys;return n||(n=t._keys=u_(t._scopes)),n}function u_(t){let n=new Set;for(let e of t)for(let i of Object.keys(e).filter(r=>!r.startsWith("_")))n.add(i);return Array.from(n)}function ih(t,n,e,i){let{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i),l,d,f,g;for(l=0,d=i;l<d;++l)f=l+e,g=n[f],o[l]={r:r.parse(tr(g,s),f)};return o}var d_=Number.EPSILON||1e-14,Ro=(t,n)=>n<t.length&&!t[n].skip&&t[n],Lm=t=>t==="x"?"y":"x";function h_(t,n,e,i){let r=t.skip?n:t,s=n,o=e.skip?n:e,l=kc(s,r),d=kc(o,s),f=l/(l+d),g=d/(l+d);f=isNaN(f)?0:f,g=isNaN(g)?0:g;let _=i*f,w=i*g;return{previous:{x:s.x-_*(o.x-r.x),y:s.y-_*(o.y-r.y)},next:{x:s.x+w*(o.x-r.x),y:s.y+w*(o.y-r.y)}}}function f_(t,n,e){let i=t.length,r,s,o,l,d,f=Ro(t,0);for(let g=0;g<i-1;++g)if(d=f,f=Ro(t,g+1),!(!d||!f)){if(No(n[g],0,d_)){e[g]=e[g+1]=0;continue}r=e[g]/n[g],s=e[g+1]/n[g],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),e[g]=r*o*n[g],e[g+1]=s*o*n[g])}}function p_(t,n,e="x"){let i=Lm(e),r=t.length,s,o,l,d=Ro(t,0);for(let f=0;f<r;++f){if(o=l,l=d,d=Ro(t,f+1),!l)continue;let g=l[e],_=l[i];o&&(s=(g-o[e])/3,l[`cp1${e}`]=g-s,l[`cp1${i}`]=_-s*n[f]),d&&(s=(d[e]-g)/3,l[`cp2${e}`]=g+s,l[`cp2${i}`]=_+s*n[f])}}function m_(t,n="x"){let e=Lm(n),i=t.length,r=Array(i).fill(0),s=Array(i),o,l,d,f=Ro(t,0);for(o=0;o<i;++o)if(l=d,d=f,f=Ro(t,o+1),!!d){if(f){let g=f[n]-d[n];r[o]=g!==0?(f[e]-d[e])/g:0}s[o]=l?f?fi(r[o-1])!==fi(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}f_(t,r,s),p_(t,s,n)}function Cc(t,n,e){return Math.max(Math.min(t,e),n)}function g_(t,n){let e,i,r,s,o,l=Di(t[0],n);for(e=0,i=t.length;e<i;++e)o=s,s=l,l=e<i-1&&Di(t[e+1],n),s&&(r=t[e],o&&(r.cp1x=Cc(r.cp1x,n.left,n.right),r.cp1y=Cc(r.cp1y,n.top,n.bottom)),l&&(r.cp2x=Cc(r.cp2x,n.left,n.right),r.cp2y=Cc(r.cp2y,n.top,n.bottom)))}function Nm(t,n,e,i,r){let s,o,l,d;if(n.spanGaps&&(t=t.filter(f=>!f.skip)),n.cubicInterpolationMode==="monotone")m_(t,r);else{let f=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)l=t[s],d=h_(f,l,t[Math.min(s+1,o-(i?0:1))%o],n.tension),l.cp1x=d.previous.x,l.cp1y=d.previous.y,l.cp2x=d.next.x,l.cp2y=d.next.y,f=l}n.capBezierPoints&&g_(t,e)}function Lc(){return typeof window<"u"&&typeof document<"u"}function Nc(t){let n=t.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function Ec(t,n,e){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*n.parentNode[e])):i=t,i}var jc=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function y_(t,n){return jc(t).getPropertyValue(n)}var v_=["top","right","bottom","left"];function xs(t,n,e){let i={};e=e?"-"+e:"";for(let r=0;r<4;r++){let s=v_[r];i[s]=parseFloat(t[n+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var b_=(t,n,e)=>(t>0||n>0)&&(!e||!e.shadowRoot);function __(t,n){let e=t.touches,i=e&&e.length?e[0]:t,{offsetX:r,offsetY:s}=i,o=!1,l,d;if(b_(r,s,t.target))l=r,d=s;else{let f=n.getBoundingClientRect();l=i.clientX-f.left,d=i.clientY-f.top,o=!0}return{x:l,y:d,box:o}}function $r(t,n){if("native"in t)return t;let{canvas:e,currentDevicePixelRatio:i}=n,r=jc(e),s=r.boxSizing==="border-box",o=xs(r,"padding"),l=xs(r,"border","width"),{x:d,y:f,box:g}=__(t,e),_=o.left+(g&&l.left),w=o.top+(g&&l.top),{width:S,height:D}=n;return s&&(S-=o.width+l.width,D-=o.height+l.height),{x:Math.round((d-_)/S*e.width/i),y:Math.round((f-w)/D*e.height/i)}}function x_(t,n,e){let i,r;if(n===void 0||e===void 0){let s=t&&Nc(t);if(!s)n=t.clientWidth,e=t.clientHeight;else{let o=s.getBoundingClientRect(),l=jc(s),d=xs(l,"border","width"),f=xs(l,"padding");n=o.width-f.width-d.width,e=o.height-f.height-d.height,i=Ec(l.maxWidth,s,"clientWidth"),r=Ec(l.maxHeight,s,"clientHeight")}}return{width:n,height:e,maxWidth:i||Dc,maxHeight:r||Dc}}var Sc=t=>Math.round(t*10)/10;function jm(t,n,e,i){let r=jc(t),s=xs(r,"margin"),o=Ec(r.maxWidth,t,"clientWidth")||Dc,l=Ec(r.maxHeight,t,"clientHeight")||Dc,d=x_(t,n,e),{width:f,height:g}=d;if(r.boxSizing==="content-box"){let w=xs(r,"border","width"),S=xs(r,"padding");f-=S.width+w.width,g-=S.height+w.height}return f=Math.max(0,f-s.width),g=Math.max(0,i?f/i:g-s.height),f=Sc(Math.min(f,o,d.maxWidth)),g=Sc(Math.min(g,l,d.maxHeight)),f&&!g&&(g=Sc(f/2)),(n!==void 0||e!==void 0)&&i&&d.height&&g>d.height&&(g=d.height,f=Sc(Math.floor(g*i))),{width:f,height:g}}function rh(t,n,e){let i=n||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let o=t.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var Bm=function(){let t=!1;try{let n={get passive(){return t=!0,!1}};Lc()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return t}();function sh(t,n){let e=y_(t,n),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Hr(t,n,e,i){return{x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)}}function Wm(t,n,e,i){return{x:t.x+e*(n.x-t.x),y:i==="middle"?e<.5?t.y:n.y:i==="after"?e<1?t.y:n.y:e>0?n.y:t.y}}function Hm(t,n,e,i){let r={x:t.cp2x,y:t.cp2y},s={x:n.cp1x,y:n.cp1y},o=Hr(t,r,e),l=Hr(r,s,e),d=Hr(s,n,e),f=Hr(o,l,e),g=Hr(l,d,e);return Hr(f,g,e)}var w_=function(t,n){return{x(e){return t+t+n-e},setWidth(e){n=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},C_=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,n){return t+n},leftForLtr(t,n){return t}}};function Ss(t,n,e){return t?w_(n,e):C_()}function oh(t,n){let e,i;(n==="ltr"||n==="rtl")&&(e=t.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",n,"important"),t.prevTextDirection=i)}function ah(t,n){n!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",n[0],n[1]))}function zm(t){return t==="angle"?{between:jo,compare:Bb,normalize:Cn}:{between:Ei,compare:(n,e)=>n-e,normalize:n=>n}}function fm({start:t,end:n,count:e,loop:i,style:r}){return{start:t%e,end:n%e,loop:i&&(n-t+1)%e===0,style:r}}function S_(t,n,e){let{property:i,start:r,end:s}=e,{between:o,normalize:l}=zm(i),d=n.length,{start:f,end:g,loop:_}=t,w,S;if(_){for(f+=d,g+=d,w=0,S=d;w<S&&o(l(n[f%d][i]),r,s);++w)f--,g--;f%=d,g%=d}return g<f&&(g+=d),{start:f,end:g,loop:_,style:t.style}}function lh(t,n,e){if(!e)return[t];let{property:i,start:r,end:s}=e,o=n.length,{compare:l,between:d,normalize:f}=zm(i),{start:g,end:_,loop:w,style:S}=S_(t,n,e),D=[],T=!1,A=null,B,j,Z,ee=()=>d(r,Z,B)&&l(r,Z)!==0,Y=()=>l(s,B)===0||d(s,Z,B),Q=()=>T||ee(),ae=()=>!T||Y();for(let J=g,me=g;J<=_;++J)j=n[J%o],!j.skip&&(B=f(j[i]),B!==Z&&(T=d(B,r,s),A===null&&Q()&&(A=l(B,r)===0?J:me),A!==null&&ae()&&(D.push(fm({start:A,end:J,loop:w,count:o,style:S})),A=null),me=J,Z=B));return A!==null&&D.push(fm({start:A,end:_,loop:w,count:o,style:S})),D}function ch(t,n){let e=[],i=t.segments;for(let r=0;r<i.length;r++){let s=lh(i[r],t.points,n);s.length&&e.push(...s)}return e}function M_(t,n,e,i){let r=0,s=n-1;if(e&&!i)for(;r<n&&!t[r].skip;)r++;for(;r<n&&t[r].skip;)r++;for(r%=n,e&&(s+=r);s>r&&t[s%n].skip;)s--;return s%=n,{start:r,end:s}}function D_(t,n,e,i){let r=t.length,s=[],o=n,l=t[n],d;for(d=n+1;d<=e;++d){let f=t[d%r];f.skip||f.stop?l.skip||(i=!1,s.push({start:n%r,end:(d-1)%r,loop:i}),n=o=f.stop?d:null):(o=d,l.skip&&(n=d)),l=f}return o!==null&&s.push({start:n%r,end:o%r,loop:i}),s}function Ym(t,n){let e=t.points,i=t.options.spanGaps,r=e.length;if(!r)return[];let s=!!t._loop,{start:o,end:l}=M_(e,r,s,i);if(i===!0)return pm(t,[{start:o,end:l,loop:s}],e,n);let d=l<o?l+r:l,f=!!t._fullLoop&&o===0&&l===r-1;return pm(t,D_(e,o,d,f),e,n)}function pm(t,n,e,i){return!i||!i.setContext||!e?n:k_(t,n,e,i)}function k_(t,n,e,i){let r=t._chart.getContext(),s=mm(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,d=e.length,f=[],g=s,_=n[0].start,w=_;function S(D,T,A,B){let j=l?-1:1;if(D!==T){for(D+=d;e[D%d].skip;)D-=j;for(;e[T%d].skip;)T+=j;D%d!==T%d&&(f.push({start:D%d,end:T%d,loop:A,style:B}),g=B,_=T%d)}}for(let D of n){_=l?_:D.start;let T=e[_%d],A;for(w=_+1;w<=D.end;w++){let B=e[w%d];A=mm(i.setContext(nr(r,{type:"segment",p0:T,p1:B,p0DataIndex:(w-1)%d,p1DataIndex:w%d,datasetIndex:o}))),E_(A,g)&&S(_,w-1,D.loop,g),T=B,g=A}_<w-1&&S(_,w-1,D.loop,g)}return f}function mm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function E_(t,n){if(!n)return!1;let e=[],i=function(r,s){return qd(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(n,i)}var _h=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,e,i,r){let s=e.listeners[r],o=e.duration;s.forEach(l=>l({chart:n,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Ud.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let s=i.items,o=s.length-1,l=!1,d;for(;o>=0;--o)d=s[o],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(n),l=!0):(s[o]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,n,"progress")),s.length||(i.running=!1,this._notify(r,i,n,"complete"),i.initial=!1),e+=s.length}),this._lastDate=n,e===0&&(this._running=!1)}_getAnims(n){let e=this._charts,i=e.get(n);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(n,i)),i}listen(n,e,i){this._getAnims(n).listeners[e].push(i)}add(n,e){!e||!e.length||this._getAnims(n).items.push(...e)}has(n){return this._getAnims(n).items.length>0}start(n){let e=this._charts.get(n);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(n){if(!this._running)return!1;let e=this._charts.get(n);return!(!e||!e.running||!e.items.length)}stop(n){let e=this._charts.get(n);if(!e||!e.items.length)return;let i=e.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(n,e,Date.now(),"complete")}remove(n){return this._charts.delete(n)}},ir=new _h,Um="transparent",T_={boolean(t,n,e){return e>.5?n:t},color(t,n,e){let i=Xd(t||Um),r=i.valid&&Xd(n||Um);return r&&r.valid?r.mix(i,e).hexString():n},number(t,n,e){return t+(n-t)*e}},xh=class{constructor(n,e,i,r){let s=e[i];r=Ho([n.to,r,s,n.from]);let o=Ho([n.from,s,r]);this._active=!0,this._fn=n.fn||T_[n.type||typeof o],this._easing=Fo[n.easing]||Fo.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=e,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(n,e,i){if(this._active){this._notify(!1);let r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,n.duration)),this._total+=s,this._loop=!!n.loop,this._to=Ho([n.to,e,r,n.from]),this._from=Ho([n.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let e=n-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,l=this._to,d;if(this._active=s!==l&&(o||e<i),!this._active){this._target[r]=l,this._notify(!0);return}if(e<0){this._target[r]=s;return}d=e/i%2,d=o&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(s,l,d)}wait(){let n=this._promises||(this._promises=[]);return new Promise((e,i)=>{n.push({res:e,rej:i})})}_notify(n){let e=n?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}},qc=class{constructor(n,e){this._chart=n,this._properties=new Map,this.configure(e)}configure(n){if(!Ue(n))return;let e=Object.keys(vt.animation),i=this._properties;Object.getOwnPropertyNames(n).forEach(r=>{let s=n[r];if(!Ue(s))return;let o={};for(let l of e)o[l]=s[l];(mt(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,o)})})}_animateOptions(n,e){let i=e.options,r=P_(n,i);if(!r)return[];let s=this._createAnimations(r,i);return i.$shared&&A_(n.options.$animations,i).then(()=>{n.options=i},()=>{}),s}_createAnimations(n,e){let i=this._properties,r=[],s=n.$animations||(n.$animations={}),o=Object.keys(e),l=Date.now(),d;for(d=o.length-1;d>=0;--d){let f=o[d];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(n,e));continue}let g=e[f],_=s[f],w=i.get(f);if(_)if(w&&_.active()){_.update(w,g,l);continue}else _.cancel();if(!w||!w.duration){n[f]=g;continue}s[f]=_=new xh(w,n,f,g),r.push(_)}return r}update(n,e){if(this._properties.size===0){Object.assign(n,e);return}let i=this._createAnimations(n,e);if(i.length)return ir.add(this._chart,i),!0}};function A_(t,n){let e=[],i=Object.keys(n);for(let r=0;r<i.length;r++){let s=t[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function P_(t,n){if(!n)return;let e=t.options;if(!e){t.options=n;return}return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Gm(t,n){let e=t&&t.options||{},i=e.reverse,r=e.min===void 0?n:0,s=e.max===void 0?n:0;return{start:i?s:r,end:i?r:s}}function O_(t,n,e){if(e===!1)return!1;let i=Gm(t,e),r=Gm(n,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function F_(t){let n,e,i,r;return Ue(t)?(n=t.top,e=t.right,i=t.bottom,r=t.left):n=e=i=r=t,{top:n,right:e,bottom:i,left:r,disabled:t===!1}}function Ug(t,n){let e=[],i=t._getSortedDatasetMetas(n),r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function $m(t,n,e,i={}){let r=t.keys,s=i.mode==="single",o,l,d,f;if(n===null)return;let g=!1;for(o=0,l=r.length;o<l;++o){if(d=+r[o],d===e){if(g=!0,i.all)continue;break}f=t.values[d],At(f)&&(s||n===0||fi(n)===fi(f))&&(n+=f)}return!g&&!i.all?0:n}function I_(t,n){let{iScale:e,vScale:i}=n,r=e.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length),d,f,g;for(d=0,f=o.length;d<f;++d)g=o[d],l[d]={[r]:g,[s]:t[g]};return l}function uh(t,n){let e=t&&t.options.stacked;return e||e===void 0&&n.stack!==void 0}function R_(t,n,e){return`${t.id}.${n.id}.${e.stack||e.type}`}function V_(t){let{min:n,max:e,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?n:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function L_(t,n,e){let i=t[n]||(t[n]={});return i[e]||(i[e]={})}function Km(t,n,e,i){for(let r of n.getMatchingVisibleMetas(i).reverse()){let s=t[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function qm(t,n){let{chart:e,_cachedMeta:i}=t,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:l}=i,d=s.axis,f=o.axis,g=R_(s,o,i),_=n.length,w;for(let S=0;S<_;++S){let D=n[S],{[d]:T,[f]:A}=D,B=D._stacks||(D._stacks={});w=B[f]=L_(r,g,T),w[l]=A,w._top=Km(w,o,!0,i.type),w._bottom=Km(w,o,!1,i.type);let j=w._visualValues||(w._visualValues={});j[l]=A}}function dh(t,n){let e=t.scales;return Object.keys(e).filter(i=>e[i].axis===n).shift()}function N_(t,n){return nr(t,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function j_(t,n,e){return nr(t,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:e,index:n,mode:"default",type:"data"})}function qa(t,n){let e=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){n=n||t._parsed;for(let r of n){let s=r._stacks;if(!s||s[i]===void 0||s[i][e]===void 0)return;delete s[i][e],s[i]._visualValues!==void 0&&s[i]._visualValues[e]!==void 0&&delete s[i]._visualValues[e]}}}var hh=t=>t==="reset"||t==="none",Xm=(t,n)=>n?t:Object.assign({},t),B_=(t,n,e)=>t&&!n.hidden&&n._stacked&&{keys:Ug(e,!0),values:null},qr=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=uh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&qa(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(w,S,D,T)=>w==="x"?S:w==="r"?T:D,o=i.xAxisID=Oe(r.xAxisID,dh(e,"x")),l=i.yAxisID=Oe(r.yAxisID,dh(e,"y")),d=i.rAxisID=Oe(r.rAxisID,dh(e,"r")),f=i.indexAxis,g=i.iAxisID=s(f,o,l,d),_=i.vAxisID=s(f,l,o,d);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(l),i.rScale=this.getScaleForId(d),i.iScale=this.getScaleForId(g),i.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&zd(this._data,this),e._stacked&&qa(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(Ue(i)){let s=this._cachedMeta;this._data=I_(i,s)}else if(r!==i){if(r){zd(r,this);let s=this._cachedMeta;qa(s),s._parsed=[]}i&&Object.isExtensible(i)&&Dm(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=i._stacked;i._stacked=uh(i.vScale,i),i.stack!==r.stack&&(s=!0,qa(i),i.stack=r.stack),this._resyncElements(e),(s||o!==i._stacked)&&(qm(this,i._parsed),i._stacked=uh(i.vScale,i))}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:l}=r,d=o.axis,f=e===0&&i===s.length?!0:r._sorted,g=e>0&&r._parsed[e-1],_,w,S;if(this._parsing===!1)r._parsed=s,r._sorted=!0,S=s;else{mt(s[e])?S=this.parseArrayData(r,s,e,i):Ue(s[e])?S=this.parseObjectData(r,s,e,i):S=this.parsePrimitiveData(r,s,e,i);let D=()=>w[d]===null||g&&w[d]<g[d];for(_=0;_<i;++_)r._parsed[_+e]=w=S[_],f&&(D()&&(f=!1),g=w);r._sorted=f}l&&qm(this,S)}parsePrimitiveData(e,i,r,s){let{iScale:o,vScale:l}=e,d=o.axis,f=l.axis,g=o.getLabels(),_=o===l,w=new Array(s),S,D,T;for(S=0,D=s;S<D;++S)T=S+r,w[S]={[d]:_||o.parse(g[T],T),[f]:l.parse(i[T],T)};return w}parseArrayData(e,i,r,s){let{xScale:o,yScale:l}=e,d=new Array(s),f,g,_,w;for(f=0,g=s;f<g;++f)_=f+r,w=i[_],d[f]={x:o.parse(w[0],_),y:l.parse(w[1],_)};return d}parseObjectData(e,i,r,s){let{xScale:o,yScale:l}=e,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,g=new Array(s),_,w,S,D;for(_=0,w=s;_<w;++_)S=_+r,D=i[S],g[_]={x:o.parse(tr(D,d),S),y:l.parse(tr(D,f),S)};return g}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){let s=this.chart,o=this._cachedMeta,l=i[e.axis],d={keys:Ug(s,!0),values:i._stacks[e.axis]._visualValues};return $m(d,l,o.index,{mode:r})}updateRangeFromParsed(e,i,r,s){let o=r[i.axis],l=o===null?NaN:o,d=s&&r._stacks[i.axis];s&&d&&(s.values=d,l=$m(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,i){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&e===r.iScale,l=s.length,d=this._getOtherScale(e),f=B_(i,r,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:w}=V_(d),S,D;function T(){D=s[S];let A=D[d.axis];return!At(D[e.axis])||_>A||w<A}for(S=0;S<l&&!(!T()&&(this.updateRangeFromParsed(g,e,D,f),o));++S);if(o){for(S=l-1;S>=0;--S)if(!T()){this.updateRangeFromParsed(g,e,D,f);break}}return g}getAllParsedValues(e){let i=this._cachedMeta._parsed,r=[],s,o,l;for(s=0,o=i.length;s<o;++s)l=i[s][e.axis],At(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=F_(Oe(this.options.clip,O_(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,r=this._cachedMeta,s=r.data||[],o=i.chartArea,l=[],d=this._drawStart||0,f=this._drawCount||s.length-d,g=this.options.drawActiveElementsOnTop,_;for(r.dataset&&r.dataset.draw(e,o,d,f),_=d;_<d+f;++_){let w=s[_];w.hidden||(w.active&&g?l.push(w):w.draw(e,o))}for(_=0;_<l.length;++_)l[_].draw(e,o)}getStyle(e,i){let r=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){let s=this.getDataset(),o;if(e>=0&&e<this._cachedMeta.data.length){let l=this._cachedMeta.data[e];o=l.$context||(l.$context=j_(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=N_(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){let s=i==="active",o=this._cachedDataOpts,l=e+"-"+i,d=o[l],f=this.enableOptionSharing&&Lo(r);if(d)return Xm(d,f);let g=this.chart.config,_=g.datasetElementScopeKeys(this._type,e),w=s?[`${e}Hover`,"hover",e,""]:[e,""],S=g.getOptionScopes(this.getDataset(),_),D=Object.keys(vt.elements[e]),T=()=>this.getContext(r,s,i),A=g.resolveNamedOptions(S,D,T,w);return A.$shared&&(A.$shared=f,o[l]=Object.freeze(Xm(A,f))),A}_resolveAnimations(e,i,r){let s=this.chart,o=this._cachedDataOpts,l=`animation-${i}`,d=o[l];if(d)return d;let f;if(s.options.animation!==!1){let _=this.chart.config,w=_.datasetAnimationScopeKeys(this._type,i),S=_.getOptionScopes(this.getDataset(),w);f=_.createResolver(S,this.getContext(e,r,i))}let g=new qc(s,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(g)),g}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||hh(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let r=this.resolveDataElementOptions(e,i),s=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:l}}updateElement(e,i,r,s){hh(s)?Object.assign(e,r):this._resolveAnimations(i,s).update(e,r)}updateSharedOptions(e,i,r){e&&!hh(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,s){e.active=s;let o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,r=this._cachedMeta.data;for(let[d,f,g]of this._syncList)this[d](f,g);this._syncList=[];let s=r.length,o=i.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,i,r=!0){let s=this._cachedMeta,o=s.data,l=e+i,d,f=g=>{for(g.length+=i,d=g.length-1;d>=l;d--)g[d]=g[d-i]};for(f(o),d=e;d<l;++d)o[d]=new this.dataElementType;this._parsing&&f(s._parsed),this.parse(e,i),r&&this.updateElements(o,e,i,"reset")}updateElements(e,i,r,s){}_removeElements(e,i){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(e,i);r._stacked&&qa(r,s)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,r,s]=e;this[i](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function W_(t,n){if(!t._cache.$bar){let e=t.getMatchingVisibleMetas(n),i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(t));t._cache.$bar=Yd(i.sort((r,s)=>r-s))}return t._cache.$bar}function H_(t){let n=t.iScale,e=W_(n,t.type),i=n._length,r,s,o,l,d=()=>{o===32767||o===-32768||(Lo(l)&&(i=Math.min(i,Math.abs(o-l)||i)),l=o)};for(r=0,s=e.length;r<s;++r)o=n.getPixelForValue(e[r]),d();for(l=void 0,r=0,s=n.ticks.length;r<s;++r)o=n.getPixelForTick(r),d();return i}function z_(t,n,e,i){let r=e.barThickness,s,o;return ze(r)?(s=n.min*e.categoryPercentage,o=e.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:n.pixels[t]-s/2}}function Y_(t,n,e,i){let r=n.pixels,s=r[t],o=t>0?r[t-1]:null,l=t<r.length-1?r[t+1]:null,d=e.categoryPercentage;o===null&&(o=s-(l===null?n.end-n.start:l-s)),l===null&&(l=s+s-o);let f=s-(s-Math.min(o,l))/2*d;return{chunk:Math.abs(l-o)/2*d/i,ratio:e.barPercentage,start:f}}function U_(t,n,e,i){let r=e.parse(t[0],i),s=e.parse(t[1],i),o=Math.min(r,s),l=Math.max(r,s),d=o,f=l;Math.abs(o)>Math.abs(l)&&(d=l,f=o),n[e.axis]=f,n._custom={barStart:d,barEnd:f,start:r,end:s,min:o,max:l}}function Gg(t,n,e,i){return mt(t)?U_(t,n,e,i):n[e.axis]=e.parse(t,i),n}function Qm(t,n,e,i){let r=t.iScale,s=t.vScale,o=r.getLabels(),l=r===s,d=[],f,g,_,w;for(f=e,g=e+i;f<g;++f)w=n[f],_={},_[r.axis]=l||r.parse(o[f],f),d.push(Gg(w,_,s,f));return d}function fh(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function G_(t,n,e){return t!==0?fi(t):(n.isHorizontal()?1:-1)*(n.min>=e?1:-1)}function $_(t){let n,e,i,r,s;return t.horizontal?(n=t.base>t.x,e="left",i="right"):(n=t.base<t.y,e="bottom",i="top"),n?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:n,top:r,bottom:s}}function K_(t,n,e,i){let r=n.borderSkipped,s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:l,reverse:d,top:f,bottom:g}=$_(t);r==="middle"&&e&&(t.enableBorderRadius=!0,(e._top||0)===i?r=f:(e._bottom||0)===i?r=g:(s[Zm(g,o,l,d)]=!0,r=f)),s[Zm(r,o,l,d)]=!0,t.borderSkipped=s}function Zm(t,n,e,i){return i?(t=q_(t,n,e),t=Jm(t,e,n)):t=Jm(t,n,e),t}function q_(t,n,e){return t===n?e:t===e?n:t}function Jm(t,n,e){return t==="start"?n:t==="end"?e:t}function X_(t,{inflateAmount:n},e){t.inflateAmount=n==="auto"?e===1?.33:0:n}var Q_=(()=>{class t extends qr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,r,s){return Qm(e,i,r,s)}parseArrayData(e,i,r,s){return Qm(e,i,r,s)}parseObjectData(e,i,r,s){let{iScale:o,vScale:l}=e,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?d:f,_=l.axis==="x"?d:f,w=[],S,D,T,A;for(S=r,D=r+s;S<D;++S)A=i[S],T={},T[o.axis]=o.parse(tr(A,g),S),w.push(Gg(tr(A,_),T,l,S));return w}updateRangeFromParsed(e,i,r,s){super.updateRangeFromParsed(e,i,r,s);let o=r._custom;o&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(e),l=o._custom,d=fh(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,s){let o=s==="reset",{index:l,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),g=d.isHorizontal(),_=this._getRuler(),{sharedOptions:w,includeOptions:S}=this._getSharedOptions(i,s);for(let D=i;D<i+r;D++){let T=this.getParsed(D),A=o||ze(T[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(D),B=this._calculateBarIndexPixels(D,_),j=(T._stacks||{})[d.axis],Z={horizontal:g,base:A.base,enableBorderRadius:!j||fh(T._custom)||l===j._top||l===j._bottom,x:g?A.head:B.center,y:g?B.center:A.head,height:g?B.size:Math.abs(A.size),width:g?Math.abs(A.size):B.size};S&&(Z.options=w||this.resolveDataElementOptions(D,e[D].active?"active":s));let ee=Z.options||e[D].options;K_(Z,ee,j,l),X_(Z,ee,_.ratio),this.updateElement(e[D],D,Z,s)}}_getStacks(e,i){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=r.options.stacked,l=[],d=this._cachedMeta.controller.getParsed(i),f=d&&d[r.axis],g=_=>{let w=_._parsed.find(D=>D[r.axis]===f),S=w&&w[_.vScale.axis];if(ze(S)||isNaN(S))return!0};for(let _ of s)if(!(i!==void 0&&g(_))&&((o===!1||l.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&l.push(_.stack),_.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){let s=this._getStacks(e,r),o=i!==void 0?s.indexOf(i):-1;return o===-1?s.length-1:o}_getRuler(){let e=this.options,i=this._cachedMeta,r=i.iScale,s=[],o,l;for(o=0,l=i.data.length;o<l;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let d=e.barThickness;return{min:d||H_(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:o,minBarLength:l}}=this,d=o||0,f=this.getParsed(e),g=f._custom,_=fh(g),w=f[i.axis],S=0,D=r?this.applyStack(i,f,r):w,T,A;D!==w&&(S=D-w,D=w),_&&(w=g.barStart,D=g.barEnd-g.barStart,w!==0&&fi(w)!==fi(g.barEnd)&&(S=0),S+=w);let B=!ze(o)&&!_?o:S,j=i.getPixelForValue(B);if(this.chart.getDataVisibility(e)?T=i.getPixelForValue(S+D):T=j,A=T-j,Math.abs(A)<l){A=G_(A,i,d)*l,w===d&&(j-=A/2);let Z=i.getPixelForDecimal(0),ee=i.getPixelForDecimal(1),Y=Math.min(Z,ee),Q=Math.max(Z,ee);j=Math.max(Math.min(j,Q),Y),T=j+A,r&&!_&&(f._stacks[i.axis]._visualValues[s]=i.getValueForPixel(T)-i.getValueForPixel(j))}if(j===i.getPixelForValue(d)){let Z=fi(A)*i.getLineWidthForValue(d)/2;j+=Z,A-=Z}return{size:A,base:j,head:T,center:T+A/2}}_calculateBarIndexPixels(e,i){let r=i.scale,s=this.options,o=s.skipNull,l=Oe(s.maxBarThickness,1/0),d,f;if(i.grouped){let g=o?this._getStackCount(e):i.stackCount,_=s.barThickness==="flex"?Y_(e,i,s,g):z_(e,i,s,g),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);d=_.start+_.chunk*w+_.chunk/2,f=Math.min(l,_.chunk*_.ratio)}else d=r.getPixelForValue(this.getParsed(e)[r.axis],e),f=Math.min(l,i.min*i.ratio);return{base:d-f/2,head:d+f/2,center:d,size:f}}draw(){let e=this._cachedMeta,i=e.vScale,r=e.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[i.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}return t})(),Z_=(()=>{class t extends qr{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,s){let o=super.parsePrimitiveData(e,i,r,s);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+r).radius;return o}parseArrayData(e,i,r,s){let o=super.parseArrayData(e,i,r,s);for(let l=0;l<o.length;l++){let d=i[r+l];o[l]._custom=Oe(d[2],this.resolveDataElementOptions(l+r).radius)}return o}parseObjectData(e,i,r,s){let o=super.parseObjectData(e,i,r,s);for(let l=0;l<o.length;l++){let d=i[r+l];o[l]._custom=Oe(d&&d.r&&+d.r,this.resolveDataElementOptions(l+r).radius)}return o}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,l=this.getParsed(e),d=s.getLabelForValue(l.x),f=o.getLabelForValue(l.y),g=l._custom;return{label:r[e]||"",value:"("+d+", "+f+(g?", "+g:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,s){let o=s==="reset",{iScale:l,vScale:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(i,s),_=l.axis,w=d.axis;for(let S=i;S<i+r;S++){let D=e[S],T=!o&&this.getParsed(S),A={},B=A[_]=o?l.getPixelForDecimal(.5):l.getPixelForValue(T[_]),j=A[w]=o?d.getBasePixel():d.getPixelForValue(T[w]);A.skip=isNaN(B)||isNaN(j),g&&(A.options=f||this.resolveDataElementOptions(S,D.active?"active":s),o&&(A.options.radius=0)),this.updateElement(D,S,A,s)}}resolveDataElementOptions(e,i){let r=this.getParsed(e),s=super.resolveDataElementOptions(e,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return i!=="active"&&(s.radius=0),s.radius+=Oe(r&&r._custom,o),s}}return t})();function J_(t,n,e){let i=1,r=1,s=0,o=0;if(n<yt){let l=t,d=l+n,f=Math.cos(l),g=Math.sin(l),_=Math.cos(d),w=Math.sin(d),S=(Z,ee,Y)=>jo(Z,l,d,!0)?1:Math.max(ee,ee*e,Y,Y*e),D=(Z,ee,Y)=>jo(Z,l,d,!0)?-1:Math.min(ee,ee*e,Y,Y*e),T=S(0,f,_),A=S(Ft,g,w),B=D(gt,f,_),j=D(gt+Ft,g,w);i=(T-B)/2,r=(A-j)/2,s=-(T+B)/2,o=-(A+j)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}var Wh=(()=>{class t extends qr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=e.legend.options;return i.labels.map((o,l)=>{let f=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:s,lineWidth:f.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=f=>+r[f];if(Ue(r[e])){let{key:f="value"}=this._parsing;o=g=>+tr(r[g],f)}let l,d;for(l=e,d=e+i;l<d;++l)s._parsed[l]=o(l)}}_getRotation(){return ni(this.options.rotation-90)}_getCircumference(){return ni(this.options.circumference)}_getRotationExtents(){let e=yt,i=-yt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),l=s._getCircumference();e=Math.min(e,o),i=Math.max(i,o+l)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,d=Math.max((Math.min(r.width,r.height)-l)/2,0),f=Math.min(ym(this.options.cutout,d),1),g=this._getRingWeight(this.index),{circumference:_,rotation:w}=this._getRotationExtents(),{ratioX:S,ratioY:D,offsetX:T,offsetY:A}=J_(w,_,f),B=(r.width-l)/S,j=(r.height-l)/D,Z=Math.max(Math.min(B,j)/2,0),ee=Ld(this.options.radius,Z),Y=Math.max(ee*f,0),Q=(ee-Y)/this._getVisibleDatasetWeightTotal();this.offsetX=T*ee,this.offsetY=A*ee,s.total=this.calculateTotal(),this.outerRadius=ee-Q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Q*g,0),this.updateElements(o,0,o.length,e)}_circumference(e,i){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/yt)}updateElements(e,i,r,s){let o=s==="reset",l=this.chart,d=l.chartArea,g=l.options.animation,_=(d.left+d.right)/2,w=(d.top+d.bottom)/2,S=o&&g.animateScale,D=S?0:this.innerRadius,T=S?0:this.outerRadius,{sharedOptions:A,includeOptions:B}=this._getSharedOptions(i,s),j=this._getRotation(),Z;for(Z=0;Z<i;++Z)j+=this._circumference(Z,o);for(Z=i;Z<i+r;++Z){let ee=this._circumference(Z,o),Y=e[Z],Q={x:_+this.offsetX,y:w+this.offsetY,startAngle:j,endAngle:j+ee,circumference:ee,outerRadius:T,innerRadius:D};B&&(Q.options=A||this.resolveDataElementOptions(Z,Y.active?"active":s)),j+=ee,this.updateElement(Y,Z,Q,s)}}calculateTotal(){let e=this._cachedMeta,i=e.data,r=0,s;for(s=0;s<i.length;s++){let o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?yt*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=Bo(i._parsed[e],r.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let i=0,r=this.chart,s,o,l,d,f;if(!e){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){l=r.getDatasetMeta(s),e=l.data,d=l.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)f=d.resolveDataElementOptions(s),f.borderAlign!=="inner"&&(i=Math.max(i,f.borderWidth||0,f.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,s=e.length;r<s;++r){let o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),ex=(()=>{class t extends qr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,l=this.chart._animationsDisabled,{start:d,count:f}=$d(i,s,l);this._drawStart=d,this._drawCount=f,Kd(i)&&(d=0,f=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let g=this.resolveDatasetElementOptions(e);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:g},e),this.updateElements(s,d,f,e)}updateElements(e,i,r,s){let o=s==="reset",{iScale:l,vScale:d,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:_,includeOptions:w}=this._getSharedOptions(i,s),S=l.axis,D=d.axis,{spanGaps:T,segment:A}=this.options,B=Cs(T)?T:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||o||s==="none",Z=i+r,ee=e.length,Y=i>0&&this.getParsed(i-1);for(let Q=0;Q<ee;++Q){let ae=e[Q],J=j?ae:{};if(Q<i||Q>=Z){J.skip=!0;continue}let me=this.getParsed(Q),Te=ze(me[D]),Me=J[S]=l.getPixelForValue(me[S],Q),Re=J[D]=o||Te?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,me,f):me[D],Q);J.skip=isNaN(Me)||isNaN(Re)||Te,J.stop=Q>0&&Math.abs(me[S]-Y[S])>B,A&&(J.parsed=me,J.raw=g.data[Q]),w&&(J.options=_||this.resolveDataElementOptions(Q,ae.active?"active":s)),j||this.updateElement(ae,Q,J,s),Y=me}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,s=e.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,l)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return t})(),$g=(()=>{class t extends qr{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=e.legend.options;return i.labels.map((o,l)=>{let f=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:s,lineWidth:f.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=Bo(i._parsed[e].r,r.options.locale);return{label:s[e]||"",value:o}}parseObjectData(e,i,r,s){return ih.bind(this)(e,i,r,s)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,r=e.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),l=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),d=(o-l)/e.getVisibleDatasetCount();this.outerRadius=o-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(e,i,r,s){let o=s==="reset",l=this.chart,f=l.options.animation,g=this._cachedMeta.rScale,_=g.xCenter,w=g.yCenter,S=g.getIndexAngle(0)-.5*gt,D=S,T,A=360/this.countVisibleElements();for(T=0;T<i;++T)D+=this._computeAngle(T,s,A);for(T=i;T<i+r;T++){let B=e[T],j=D,Z=D+this._computeAngle(T,s,A),ee=l.getDataVisibility(T)?g.getDistanceFromCenterForValue(this.getParsed(T).r):0;D=Z,o&&(f.animateScale&&(ee=0),f.animateRotate&&(j=Z=S));let Y={x:_,y:w,innerRadius:0,outerRadius:ee,startAngle:j,endAngle:Z,options:this.resolveDataElementOptions(T,B.active?"active":s)};this.updateElement(B,T,Y,s)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?ni(this.resolveDataElementOptions(e,i).angle||r):0}}return t})(),tx=(()=>{class t extends Wh{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),nx=(()=>{class t extends qr{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,s){return ih.bind(this)(e,i,r,s)}update(e){let i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,e!=="resize"){let l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);let d={_loop:!0,_fullLoop:o.length===s.length,options:l};this.updateElement(r,void 0,d,e)}this.updateElements(s,0,s.length,e)}updateElements(e,i,r,s){let o=this._cachedMeta.rScale,l=s==="reset";for(let d=i;d<i+r;d++){let f=e[d],g=this.resolveDataElementOptions(d,f.active?"active":s),_=o.getPointPositionForValue(d,this.getParsed(d).r),w=l?o.xCenter:_.x,S=l?o.yCenter:_.y,D={x:w,y:S,angle:_.angle,skip:isNaN(w)||isNaN(S),options:g};this.updateElement(f,d,D,s)}}}return t})(),ix=(()=>{class t extends qr{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,l=this.getParsed(e),d=s.getLabelForValue(l.x),f=o.getLabelForValue(l.y);return{label:r[e]||"",value:"("+d+", "+f+")"}}update(e){let i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled,{start:o,count:l}=$d(i,r,s);if(this._drawStart=o,this._drawCount=l,Kd(i)&&(o=0,l=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:d,_dataset:f}=i;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!f._decimated,d.points=r;let g=this.resolveDatasetElementOptions(e);g.segment=this.options.segment,this.updateElement(d,void 0,{animated:!s,options:g},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,o,l,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,r,s){let o=s==="reset",{iScale:l,vScale:d,_stacked:f,_dataset:g}=this._cachedMeta,_=this.resolveDataElementOptions(i,s),w=this.getSharedOptions(_),S=this.includeOptions(s,w),D=l.axis,T=d.axis,{spanGaps:A,segment:B}=this.options,j=Cs(A)?A:Number.POSITIVE_INFINITY,Z=this.chart._animationsDisabled||o||s==="none",ee=i>0&&this.getParsed(i-1);for(let Y=i;Y<i+r;++Y){let Q=e[Y],ae=this.getParsed(Y),J=Z?Q:{},me=ze(ae[T]),Te=J[D]=l.getPixelForValue(ae[D],Y),Me=J[T]=o||me?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,ae,f):ae[T],Y);J.skip=isNaN(Te)||isNaN(Me)||me,J.stop=Y>0&&Math.abs(ae[D]-ee[D])>j,B&&(J.parsed=ae,J.raw=g.data[Y]),S&&(J.options=w||this.resolveDataElementOptions(Y,Q.active?"active":s)),Z||this.updateElement(Q,Y,J,s),ee=ae}this.updateSharedOptions(w,s,_)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let d=0;for(let f=i.length-1;f>=0;--f)d=Math.max(d,i[f].size(this.resolveDataElementOptions(f))/2);return d>0&&d}let r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;let o=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,l)/2}}return t})(),rx=Object.freeze({__proto__:null,BarController:Q_,BubbleController:Z_,DoughnutController:Wh,LineController:ex,PieController:tx,PolarAreaController:$g,RadarController:nx,ScatterController:ix});function Ms(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var wh=class t{static override(n){Object.assign(t.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return Ms()}parse(){return Ms()}format(){return Ms()}add(){return Ms()}diff(){return Ms()}startOf(){return Ms()}endOf(){return Ms()}},sx={_date:wh};function ox(t,n,e,i){let{controller:r,data:s,_sorted:o}=t,l=r._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&n===l.axis&&n!=="r"&&o&&s.length){let f=l._reversePixels?Cm:Mi;if(i){if(r._sharedOptions){let g=s[0],_=typeof g.getRange=="function"&&g.getRange(n);if(_){let w=f(s,n,e-_),S=f(s,n,e+_);return{lo:w.lo,hi:S.hi}}}}else{let g=f(s,n,e);if(d){let{vScale:_}=r._cachedMeta,{_parsed:w}=t,S=w.slice(0,g.lo+1).reverse().findIndex(T=>!ze(T[_.axis]));g.lo-=Math.max(0,S);let D=w.slice(g.hi).findIndex(T=>!ze(T[_.axis]));g.hi+=Math.max(0,D)}return g}}return{lo:0,hi:s.length-1}}function sl(t,n,e,i,r){let s=t.getSortedVisibleDatasetMetas(),o=e[n];for(let l=0,d=s.length;l<d;++l){let{index:f,data:g}=s[l],{lo:_,hi:w}=ox(s[l],n,o,r);for(let S=_;S<=w;++S){let D=g[S];D.skip||i(D,f,S)}}}function ax(t){let n=t.indexOf("x")!==-1,e=t.indexOf("y")!==-1;return function(i,r){let s=n?Math.abs(i.x-r.x):0,o=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function ph(t,n,e,i,r){let s=[];return!r&&!t.isPointInArea(n)||sl(t,e,n,function(l,d,f){!r&&!Di(l,t.chartArea,0)||l.inRange(n.x,n.y,i)&&s.push({element:l,datasetIndex:d,index:f})},!0),s}function lx(t,n,e,i){let r=[];function s(o,l,d){let{startAngle:f,endAngle:g}=o.getProps(["startAngle","endAngle"],i),{angle:_}=Hd(o,{x:n.x,y:n.y});jo(_,f,g)&&r.push({element:o,datasetIndex:l,index:d})}return sl(t,e,n,s),r}function cx(t,n,e,i,r,s){let o=[],l=ax(e),d=Number.POSITIVE_INFINITY;function f(g,_,w){let S=g.inRange(n.x,n.y,r);if(i&&!S)return;let D=g.getCenterPoint(r);if(!(!!s||t.isPointInArea(D))&&!S)return;let A=l(n,D);A<d?(o=[{element:g,datasetIndex:_,index:w}],d=A):A===d&&o.push({element:g,datasetIndex:_,index:w})}return sl(t,e,n,f),o}function mh(t,n,e,i,r,s){return!s&&!t.isPointInArea(n)?[]:e==="r"&&!i?lx(t,n,e,r):cx(t,n,e,i,r,s)}function eg(t,n,e,i,r){let s=[],o=e==="x"?"inXRange":"inYRange",l=!1;return sl(t,e,n,(d,f,g)=>{d[o]&&d[o](n[e],r)&&(s.push({element:d,datasetIndex:f,index:g}),l=l||d.inRange(n.x,n.y,r))}),i&&!l?[]:s}var ux={evaluateInteractionItems:sl,modes:{index(t,n,e,i){let r=$r(n,t),s=e.axis||"x",o=e.includeInvisible||!1,l=e.intersect?ph(t,r,s,i,o):mh(t,r,s,!1,i,o),d=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{let g=l[0].index,_=f.data[g];_&&!_.skip&&d.push({element:_,datasetIndex:f.index,index:g})}),d):[]},dataset(t,n,e,i){let r=$r(n,t),s=e.axis||"xy",o=e.includeInvisible||!1,l=e.intersect?ph(t,r,s,i,o):mh(t,r,s,!1,i,o);if(l.length>0){let d=l[0].datasetIndex,f=t.getDatasetMeta(d).data;l=[];for(let g=0;g<f.length;++g)l.push({element:f[g],datasetIndex:d,index:g})}return l},point(t,n,e,i){let r=$r(n,t),s=e.axis||"xy",o=e.includeInvisible||!1;return ph(t,r,s,i,o)},nearest(t,n,e,i){let r=$r(n,t),s=e.axis||"xy",o=e.includeInvisible||!1;return mh(t,r,s,e.intersect,i,o)},x(t,n,e,i){let r=$r(n,t);return eg(t,r,"x",e.intersect,i)},y(t,n,e,i){let r=$r(n,t);return eg(t,r,"y",e.intersect,i)}}},Kg=["left","top","right","bottom"];function Xa(t,n){return t.filter(e=>e.pos===n)}function tg(t,n){return t.filter(e=>Kg.indexOf(e.pos)===-1&&e.box.axis===n)}function Qa(t,n){return t.sort((e,i)=>{let r=n?i:e,s=n?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function dx(t){let n=[],e,i,r,s,o,l;for(e=0,i=(t||[]).length;e<i;++e)r=t[e],{position:s,options:{stack:o,stackWeight:l=1}}=r,n.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:l});return n}function hx(t){let n={};for(let e of t){let{stack:i,pos:r,stackWeight:s}=e;if(!i||!Kg.includes(r))continue;let o=n[i]||(n[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return n}function fx(t,n){let e=hx(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=n,s,o,l;for(s=0,o=t.length;s<o;++s){l=t[s];let{fullSize:d}=l.box,f=e[l.stack],g=f&&l.stackWeight/f.weight;l.horizontal?(l.width=g?g*i:d&&n.availableWidth,l.height=r):(l.width=i,l.height=g?g*r:d&&n.availableHeight)}return e}function px(t){let n=dx(t),e=Qa(n.filter(f=>f.box.fullSize),!0),i=Qa(Xa(n,"left"),!0),r=Qa(Xa(n,"right")),s=Qa(Xa(n,"top"),!0),o=Qa(Xa(n,"bottom")),l=tg(n,"x"),d=tg(n,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(d).concat(o).concat(l),chartArea:Xa(n,"chartArea"),vertical:i.concat(r).concat(d),horizontal:s.concat(o).concat(l)}}function ng(t,n,e,i){return Math.max(t[e],n[e])+Math.max(t[i],n[i])}function qg(t,n){t.top=Math.max(t.top,n.top),t.left=Math.max(t.left,n.left),t.bottom=Math.max(t.bottom,n.bottom),t.right=Math.max(t.right,n.right)}function mx(t,n,e,i){let{pos:r,box:s}=e,o=t.maxPadding;if(!Ue(r)){e.size&&(t[r]-=e.size);let _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?s.height:s.width),e.size=_.size/_.count,t[r]+=e.size}s.getPadding&&qg(o,s.getPadding());let l=Math.max(0,n.outerWidth-ng(o,t,"left","right")),d=Math.max(0,n.outerHeight-ng(o,t,"top","bottom")),f=l!==t.w,g=d!==t.h;return t.w=l,t.h=d,e.horizontal?{same:f,other:g}:{same:g,other:f}}function gx(t){let n=t.maxPadding;function e(i){let r=Math.max(n[i]-t[i],0);return t[i]+=r,r}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}function yx(t,n){let e=n.maxPadding;function i(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(n[o],e[o])}),s}return i(t?["left","right"]:["top","bottom"])}function el(t,n,e,i){let r=[],s,o,l,d,f,g;for(s=0,o=t.length,f=0;s<o;++s){l=t[s],d=l.box,d.update(l.width||n.w,l.height||n.h,yx(l.horizontal,n));let{same:_,other:w}=mx(n,e,l,i);f|=_&&r.length,g=g||w,d.fullSize||r.push(l)}return f&&el(r,n,e,i)||g}function Bc(t,n,e,i,r){t.top=e,t.left=n,t.right=n+i,t.bottom=e+r,t.width=i,t.height=r}function ig(t,n,e,i){let r=e.padding,{x:s,y:o}=n;for(let l of t){let d=l.box,f=i[l.stack]||{count:1,placed:0,weight:1},g=l.stackWeight/f.weight||1;if(l.horizontal){let _=n.w*g,w=f.size||d.height;Lo(f.start)&&(o=f.start),d.fullSize?Bc(d,r.left,o,e.outerWidth-r.right-r.left,w):Bc(d,n.left+f.placed,o,_,w),f.start=o,f.placed+=_,o=d.bottom}else{let _=n.h*g,w=f.size||d.width;Lo(f.start)&&(s=f.start),d.fullSize?Bc(d,s,r.top,w,e.outerHeight-r.bottom-r.top):Bc(d,s,n.top+f.placed,w,_),f.start=s,f.placed+=_,s=d.right}}n.x=s,n.y=o}var tn={addBox(t,n){t.boxes||(t.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(e){n.draw(e)}}]},t.boxes.push(n)},removeBox(t,n){let e=t.boxes?t.boxes.indexOf(n):-1;e!==-1&&t.boxes.splice(e,1)},configure(t,n,e){n.fullSize=e.fullSize,n.position=e.position,n.weight=e.weight},update(t,n,e,i){if(!t)return;let r=Qt(t.options.layout.padding),s=Math.max(n-r.width,0),o=Math.max(e-r.height,0),l=px(t.boxes),d=l.vertical,f=l.horizontal;tt(t.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});let g=d.reduce((T,A)=>A.box.options&&A.box.options.display===!1?T:T+1,0)||1,_=Object.freeze({outerWidth:n,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/g,hBoxMaxHeight:o/2}),w=Object.assign({},r);qg(w,Qt(i));let S=Object.assign({maxPadding:w,w:s,h:o,x:r.left,y:r.top},r),D=fx(d.concat(f),_);el(l.fullSize,S,_,D),el(d,S,_,D),el(f,S,_,D)&&el(d,S,_,D),gx(S),ig(l.leftAndTop,S,_,D),S.x+=S.w,S.y+=S.h,ig(l.rightAndBottom,S,_,D),t.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},tt(l.chartArea,T=>{let A=T.box;Object.assign(A,t.chartArea),A.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}},Xc=class{acquireContext(n,e){}releaseContext(n){return!1}addEventListener(n,e,i){}removeEventListener(n,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(n,e,i,r){return e=Math.max(0,e||n.width),i=i||n.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(n){return!0}updateConfig(n){}},Ch=class extends Xc{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}},$c="$chartjs",vx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rg=t=>t===null||t==="";function bx(t,n){let e=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[$c]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",rg(r)){let s=sh(t,"width");s!==void 0&&(t.width=s)}if(rg(i))if(t.style.height==="")t.height=t.width/(n||2);else{let s=sh(t,"height");s!==void 0&&(t.height=s)}return t}var Xg=Bm?{passive:!0}:!1;function _x(t,n,e){t&&t.addEventListener(n,e,Xg)}function xx(t,n,e){t&&t.canvas&&t.canvas.removeEventListener(n,e,Xg)}function wx(t,n){let e=vx[t.type]||t.type,{x:i,y:r}=$r(t,n);return{type:e,chart:n,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Qc(t,n){for(let e of t)if(e===n||e.contains(n))return!0}function Cx(t,n,e){let i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(let l of s)o=o||Qc(l.addedNodes,i),o=o&&!Qc(l.removedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Sx(t,n,e){let i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(let l of s)o=o||Qc(l.removedNodes,i),o=o&&!Qc(l.addedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}var nl=new Map,sg=0;function Qg(){let t=window.devicePixelRatio;t!==sg&&(sg=t,nl.forEach((n,e)=>{e.currentDevicePixelRatio!==t&&n()}))}function Mx(t,n){nl.size||window.addEventListener("resize",Qg),nl.set(t,n)}function Dx(t){nl.delete(t),nl.size||window.removeEventListener("resize",Qg)}function kx(t,n,e){let i=t.canvas,r=i&&Nc(i);if(!r)return;let s=Gd((l,d)=>{let f=r.clientWidth;e(l,d),f<r.clientWidth&&e()},window),o=new ResizeObserver(l=>{let d=l[0],f=d.contentRect.width,g=d.contentRect.height;f===0&&g===0||s(f,g)});return o.observe(r),Mx(t,s),o}function gh(t,n,e){e&&e.disconnect(),n==="resize"&&Dx(t)}function Ex(t,n,e){let i=t.canvas,r=Gd(s=>{t.ctx!==null&&e(wx(s,t))},t);return _x(i,n,r),r}var Sh=class extends Xc{acquireContext(n,e){let i=n&&n.getContext&&n.getContext("2d");return i&&i.canvas===n?(bx(n,e),i):null}releaseContext(n){let e=n.canvas;if(!e[$c])return!1;let i=e[$c].initial;["height","width"].forEach(s=>{let o=i[s];ze(o)?e.removeAttribute(s):e.setAttribute(s,o)});let r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[$c],!0}addEventListener(n,e,i){this.removeEventListener(n,e);let r=n.$proxies||(n.$proxies={}),o={attach:Cx,detach:Sx,resize:kx}[e]||Ex;r[e]=o(n,e,i)}removeEventListener(n,e){let i=n.$proxies||(n.$proxies={}),r=i[e];if(!r)return;({attach:gh,detach:gh,resize:gh}[e]||xx)(n,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,e,i,r){return jm(n,e,i,r)}isAttached(n){let e=n&&Nc(n);return!!(e&&e.isConnected)}};function Tx(t){return!Lc()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Ch:Sh}var pi=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){let{x:e,y:i}=this.getProps(["x","y"],n);return{x:e,y:i}}hasValue(){return Cs(this.x)&&Cs(this.y)}getProps(n,e){let i=this.$animations;if(!e||!i)return this;let r={};return n.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function Ax(t,n){let e=t.options.ticks,i=Px(t),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?Fx(n):[],o=s.length,l=s[0],d=s[o-1],f=[];if(o>r)return Ix(n,f,s,o/r),f;let g=Ox(s,n,r);if(o>0){let _,w,S=o>1?Math.round((d-l)/(o-1)):null;for(Wc(n,f,g,ze(S)?0:l-S,l),_=0,w=o-1;_<w;_++)Wc(n,f,g,s[_],s[_+1]);return Wc(n,f,g,d,ze(S)?n.length:d+S),f}return Wc(n,f,g),f}function Px(t){let n=t.options.offset,e=t._tickSize(),i=t._length/e+(n?0:1),r=t._maxLength/e;return Math.floor(Math.min(i,r))}function Ox(t,n,e){let i=Rx(t),r=n.length/e;if(!i)return Math.max(r,1);let s=_m(i);for(let o=0,l=s.length-1;o<l;o++){let d=s[o];if(d>r)return d}return Math.max(r,1)}function Fx(t){let n=[],e,i;for(e=0,i=t.length;e<i;e++)t[e].major&&n.push(e);return n}function Ix(t,n,e,i){let r=0,s=e[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(n.push(t[o]),r++,s=e[r*i])}function Wc(t,n,e,i,r){let s=Oe(i,0),o=Math.min(Oe(r,t.length),t.length),l=0,d,f,g;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),g=s;g<0;)l++,g=Math.round(s+l*e);for(f=Math.max(s,0);f<o;f++)f===g&&(n.push(t[f]),l++,g=Math.round(s+l*e))}function Rx(t){let n=t.length,e,i;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}var Vx=t=>t==="left"?"right":t==="right"?"left":t,og=(t,n,e)=>n==="top"||n==="left"?t[n]+e:t[n]-e,ag=(t,n)=>Math.min(n||t,t);function lg(t,n){let e=[],i=t.length/n,r=t.length,s=0;for(;s<r;s+=i)e.push(t[Math.floor(s)]);return e}function Lx(t,n,e){let i=t.ticks.length,r=Math.min(n,i-1),s=t._startPixel,o=t._endPixel,l=1e-6,d=t.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(d-s,o-d):n===0?f=(t.getPixelForTick(1)-d)/2:f=(d-t.getPixelForTick(r-1))/2,d+=r<n?f:-f,d<s-l||d>o+l)))return d}function Nx(t,n){tt(t,e=>{let i=e.gc,r=i.length/2,s;if(r>n){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}function Za(t){return t.drawTicks?t.tickLength:0}function cg(t,n){if(!t.display)return 0;let e=Wt(t.font,n),i=Qt(t.padding);return(mt(t.text)?t.text.length:1)*e.lineHeight+i.height}function jx(t,n){return nr(t,{scale:n,type:"scale"})}function Bx(t,n,e){return nr(t,{tick:e,index:n,type:"tick"})}function Wx(t,n,e){let i=Oc(t);return(e&&n!=="right"||!e&&n==="right")&&(i=Vx(i)),i}function Hx(t,n,e,i){let{top:r,left:s,bottom:o,right:l,chart:d}=t,{chartArea:f,scales:g}=d,_=0,w,S,D,T=o-r,A=l-s;if(t.isHorizontal()){if(S=Xt(i,s,l),Ue(e)){let B=Object.keys(e)[0],j=e[B];D=g[B].getPixelForValue(j)+T-n}else e==="center"?D=(f.bottom+f.top)/2+T-n:D=og(t,e,n);w=l-s}else{if(Ue(e)){let B=Object.keys(e)[0],j=e[B];S=g[B].getPixelForValue(j)-A+n}else e==="center"?S=(f.left+f.right)/2-A+n:S=og(t,e,n);D=Xt(i,o,r),_=e==="left"?-Ft:Ft}return{titleX:S,titleY:D,maxWidth:w,rotation:_}}var ks=class t extends pi{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,e){return n}getUserBounds(){let{_userMin:n,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return n=Sn(n,Number.POSITIVE_INFINITY),e=Sn(e,Number.NEGATIVE_INFINITY),i=Sn(i,Number.POSITIVE_INFINITY),r=Sn(r,Number.NEGATIVE_INFINITY),{min:Sn(n,i),max:Sn(e,r),minDefined:At(n),maxDefined:At(e)}}getMinMax(n){let{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:e,max:i};let l=this.getMatchingVisibleMetas();for(let d=0,f=l.length;d<f;++d)o=l[d].controller.getMinMax(this,n),r||(e=Math.min(e,o.min)),s||(i=Math.max(i,o.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:Sn(e,Sn(i,e)),max:Sn(i,Sn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ft(this.options.beforeUpdate,[this])}update(n,e,i){let{beginAtZero:r,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Fm(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let d=l<this.ticks.length;this._convertTicksToLabels(d?lg(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Ax(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,n=!n),this._startPixel=e,this._endPixel=i,this._reversePixels=n,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ft(this.options.afterUpdate,[this])}beforeSetDimensions(){ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ft(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),ft(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let e=this.options.ticks,i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i],s.label=ft(e.callback,[s.value,i,n],this)}afterTickToLabelConversion(){ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,e=n.ticks,i=ag(this.ticks.length,n.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation,o=r,l,d,f;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let g=this._getLabelSizes(),_=g.widest.width,w=g.highest.height,S=Ht(this.chart.width-_,0,this.maxWidth);l=n.offset?this.maxWidth/i:S/(i-1),_+6>l&&(l=S/(i-(n.offset?.5:1)),d=this.maxHeight-Za(n.grid)-e.padding-cg(n.title,this.chart.options.font),f=Math.sqrt(_*_+w*w),o=Ac(Math.min(Math.asin(Ht((g.highest.height+6)/l,-1,1)),Math.asin(Ht(d/f,-1,1))-Math.asin(Ht(w/f,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ft(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){let d=cg(r,e.options.font);if(l?(n.width=this.maxWidth,n.height=Za(s)+d):(n.height=this.maxHeight,n.width=Za(s)+d),i.display&&this.ticks.length){let{first:f,last:g,widest:_,highest:w}=this._getLabelSizes(),S=i.padding*2,D=ni(this.labelRotation),T=Math.cos(D),A=Math.sin(D);if(l){let B=i.mirror?0:A*_.width+T*w.height;n.height=Math.min(this.maxHeight,n.height+B+S)}else{let B=i.mirror?0:T*_.width+A*w.height;n.width=Math.min(this.maxWidth,n.width+B+S)}this._calculatePadding(f,g,A,T)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,e,i,r){let{ticks:{align:s,padding:o},position:l}=this.options,d=this.labelRotation!==0,f=l!=="top"&&this.axis==="x";if(this.isHorizontal()){let g=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1),w=0,S=0;d?f?(w=r*n.width,S=i*e.height):(w=i*n.height,S=r*e.width):s==="start"?S=e.width:s==="end"?w=n.width:s!=="inner"&&(w=n.width/2,S=e.width/2),this.paddingLeft=Math.max((w-g+o)*this.width/(this.width-g),0),this.paddingRight=Math.max((S-_+o)*this.width/(this.width-_),0)}else{let g=e.height/2,_=n.height/2;s==="start"?(g=0,_=n.height):s==="end"&&(g=e.height,_=0),this.paddingTop=g+o,this.paddingBottom=_+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ft(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:e}=this.options;return e==="top"||e==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let e,i;for(e=0,i=n.length;e<i;e++)ze(n[e].label)&&(n.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=lg(i,e)),this._labelSizes=n=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,e,i){let{ctx:r,_longestTextCache:s}=this,o=[],l=[],d=Math.floor(e/ag(e,i)),f=0,g=0,_,w,S,D,T,A,B,j,Z,ee,Y;for(_=0;_<e;_+=d){if(D=n[_].label,T=this._resolveTickFontOptions(_),r.font=A=T.string,B=s[A]=s[A]||{data:{},gc:[]},j=T.lineHeight,Z=ee=0,!ze(D)&&!mt(D))Z=Ya(r,B.data,B.gc,Z,D),ee=j;else if(mt(D))for(w=0,S=D.length;w<S;++w)Y=D[w],!ze(Y)&&!mt(Y)&&(Z=Ya(r,B.data,B.gc,Z,Y),ee+=j);o.push(Z),l.push(ee),f=Math.max(Z,f),g=Math.max(ee,g)}Nx(s,e);let Q=o.indexOf(f),ae=l.indexOf(g),J=me=>({width:o[me]||0,height:l[me]||0});return{first:J(0),last:J(e-1),widest:J(Q),highest:J(ae),widths:o,heights:l}}getLabelForValue(n){return n}getPixelForValue(n,e){return NaN}getValueForPixel(n){}getPixelForTick(n){let e=this.ticks;return n<0||n>e.length-1?null:this.getPixelForValue(e[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let e=this._startPixel+n*this._length;return wm(this._alignToPixels?Yr(this.chart,e,0):e)}getDecimalForPixel(n){let e=(n-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:e}=this;return n<0&&e<0?e:n>0&&e>0?n:0}getContext(n){let e=this.ticks||[];if(n>=0&&n<e.length){let i=e[n];return i.$context||(i.$context=Bx(this.getContext(),n,i))}return this.$context||(this.$context=jx(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,e=ni(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=n.autoSkipPadding||0,l=s?s.widest.width+o:0,d=s?s.highest.height+o:0;return this.isHorizontal()?d*i>l*r?l/i:d/r:d*r<l*i?d/i:l/r}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let e=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:l}=r,d=s.offset,f=this.isHorizontal(),_=this.ticks.length+(d?1:0),w=Za(s),S=[],D=l.setContext(this.getContext()),T=D.display?D.width:0,A=T/2,B=function(st){return Yr(i,st,T)},j,Z,ee,Y,Q,ae,J,me,Te,Me,Re,St;if(o==="top")j=B(this.bottom),ae=this.bottom-w,me=j-A,Me=B(n.top)+A,St=n.bottom;else if(o==="bottom")j=B(this.top),Me=n.top,St=B(n.bottom)-A,ae=j+A,me=this.top+w;else if(o==="left")j=B(this.right),Q=this.right-w,J=j-A,Te=B(n.left)+A,Re=n.right;else if(o==="right")j=B(this.left),Te=n.left,Re=B(n.right)-A,Q=j+A,J=this.left+w;else if(e==="x"){if(o==="center")j=B((n.top+n.bottom)/2+.5);else if(Ue(o)){let st=Object.keys(o)[0],nt=o[st];j=B(this.chart.scales[st].getPixelForValue(nt))}Me=n.top,St=n.bottom,ae=j+A,me=ae+w}else if(e==="y"){if(o==="center")j=B((n.left+n.right)/2);else if(Ue(o)){let st=Object.keys(o)[0],nt=o[st];j=B(this.chart.scales[st].getPixelForValue(nt))}Q=j-A,J=Q-w,Te=n.left,Re=n.right}let Vt=Oe(r.ticks.maxTicksLimit,_),Ge=Math.max(1,Math.ceil(_/Vt));for(Z=0;Z<_;Z+=Ge){let st=this.getContext(Z),nt=s.setContext(st),Ze=l.setContext(st),bt=nt.lineWidth,kn=nt.color,Nn=Ze.dash||[],Gt=Ze.dashOffset,ge=nt.tickWidth,$t=nt.tickColor,fn=nt.tickBorderDash||[],Pt=nt.tickBorderDashOffset;ee=Lx(this,Z,d),ee!==void 0&&(Y=Yr(i,ee,bt),f?Q=J=Te=Re=Y:ae=me=Me=St=Y,S.push({tx1:Q,ty1:ae,tx2:J,ty2:me,x1:Te,y1:Me,x2:Re,y2:St,width:bt,color:kn,borderDash:Nn,borderDashOffset:Gt,tickWidth:ge,tickColor:$t,tickBorderDash:fn,tickBorderDashOffset:Pt}))}return this._ticksLength=_,this._borderValue=j,S}_computeLabelItems(n){let e=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),l=this.ticks,{align:d,crossAlign:f,padding:g,mirror:_}=s,w=Za(i.grid),S=w+g,D=_?-g:S,T=-ni(this.labelRotation),A=[],B,j,Z,ee,Y,Q,ae,J,me,Te,Me,Re,St="middle";if(r==="top")Q=this.bottom-D,ae=this._getXAxisLabelAlignment();else if(r==="bottom")Q=this.top+D,ae=this._getXAxisLabelAlignment();else if(r==="left"){let Ge=this._getYAxisLabelAlignment(w);ae=Ge.textAlign,Y=Ge.x}else if(r==="right"){let Ge=this._getYAxisLabelAlignment(w);ae=Ge.textAlign,Y=Ge.x}else if(e==="x"){if(r==="center")Q=(n.top+n.bottom)/2+S;else if(Ue(r)){let Ge=Object.keys(r)[0],st=r[Ge];Q=this.chart.scales[Ge].getPixelForValue(st)+S}ae=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")Y=(n.left+n.right)/2-S;else if(Ue(r)){let Ge=Object.keys(r)[0],st=r[Ge];Y=this.chart.scales[Ge].getPixelForValue(st)}ae=this._getYAxisLabelAlignment(w).textAlign}e==="y"&&(d==="start"?St="top":d==="end"&&(St="bottom"));let Vt=this._getLabelSizes();for(B=0,j=l.length;B<j;++B){Z=l[B],ee=Z.label;let Ge=s.setContext(this.getContext(B));J=this.getPixelForTick(B)+s.labelOffset,me=this._resolveTickFontOptions(B),Te=me.lineHeight,Me=mt(ee)?ee.length:1;let st=Me/2,nt=Ge.color,Ze=Ge.textStrokeColor,bt=Ge.textStrokeWidth,kn=ae;o?(Y=J,ae==="inner"&&(B===j-1?kn=this.options.reverse?"left":"right":B===0?kn=this.options.reverse?"right":"left":kn="center"),r==="top"?f==="near"||T!==0?Re=-Me*Te+Te/2:f==="center"?Re=-Vt.highest.height/2-st*Te+Te:Re=-Vt.highest.height+Te/2:f==="near"||T!==0?Re=Te/2:f==="center"?Re=Vt.highest.height/2-st*Te:Re=Vt.highest.height-Me*Te,_&&(Re*=-1),T!==0&&!Ge.showLabelBackdrop&&(Y+=Te/2*Math.sin(T))):(Q=J,Re=(1-Me)*Te/2);let Nn;if(Ge.showLabelBackdrop){let Gt=Qt(Ge.backdropPadding),ge=Vt.heights[B],$t=Vt.widths[B],fn=Re-Gt.top,Pt=0-Gt.left;switch(St){case"middle":fn-=ge/2;break;case"bottom":fn-=ge;break}switch(ae){case"center":Pt-=$t/2;break;case"right":Pt-=$t;break;case"inner":B===j-1?Pt-=$t:B>0&&(Pt-=$t/2);break}Nn={left:Pt,top:fn,width:$t+Gt.width,height:ge+Gt.height,color:Ge.backdropColor}}A.push({label:ee,font:me,textOffset:Re,options:{rotation:T,color:nt,strokeColor:Ze,strokeWidth:bt,textAlign:kn,textBaseline:St,translation:[Y,Q],backdrop:Nn}})}return A}_getXAxisLabelAlignment(){let{position:n,ticks:e}=this.options;if(-ni(this.labelRotation))return n==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(n){let{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),l=n+s,d=o.widest.width,f,g;return e==="left"?r?(g=this.right+s,i==="near"?f="left":i==="center"?(f="center",g+=d/2):(f="right",g+=d)):(g=this.right-l,i==="near"?f="right":i==="center"?(f="center",g-=d/2):(f="left",g=this.left)):e==="right"?r?(g=this.left+s,i==="near"?f="right":i==="center"?(f="center",g-=d/2):(f="left",g-=d)):(g=this.left+l,i==="near"?f="left":i==="center"?(f="center",g+=d/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:e},left:i,top:r,width:s,height:o}=this;e&&(n.save(),n.fillStyle=e,n.fillRect(i,r,s,o),n.restore())}getLineWidthForValue(n){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let r=this.ticks.findIndex(s=>s.value===n);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(n){let e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),s,o,l=(d,f,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){let d=r[s];e.drawOnChartArea&&l({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&l({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;let l=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue,f,g,_,w;this.isHorizontal()?(f=Yr(n,this.left,o)-o/2,g=Yr(n,this.right,l)+l/2,_=w=d):(_=Yr(n,this.top,o)-o/2,w=Yr(n,this.bottom,l)+l/2,f=g=d),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(f,_),e.lineTo(g,w),e.stroke(),e.restore()}drawLabels(n){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&$a(i,r);let s=this.getLabelItems(n);for(let o of s){let l=o.options,d=o.font,f=o.label,g=o.textOffset;Ur(i,f,0,g,d,l)}r&&Ka(i)}drawTitle(){let{ctx:n,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;let s=Wt(i.font),o=Qt(i.padding),l=i.align,d=s.lineHeight/2;e==="bottom"||e==="center"||Ue(e)?(d+=o.bottom,mt(i.text)&&(d+=s.lineHeight*(i.text.length-1))):d+=o.top;let{titleX:f,titleY:g,maxWidth:_,rotation:w}=Hx(this,d,e,l);Ur(n,i.text,0,0,s,{color:i.color,maxWidth:_,rotation:w,textAlign:Wx(l,e,r),textBaseline:"middle",translation:[f,g]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,e=n.ticks&&n.ticks.z||0,i=Oe(n.grid&&n.grid.z,-1),r=Oe(n.border&&n.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(n){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],s,o;for(s=0,o=e.length;s<o;++s){let l=e[s];l[i]===this.id&&(!n||l.type===n)&&r.push(l)}return r}_resolveTickFontOptions(n){let e=this.options.ticks.setContext(this.getContext(n));return Wt(e.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}},Yo=class{constructor(n,e,i){this.type=n,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let e=Object.getPrototypeOf(n),i;Ux(e)&&(i=this.register(e));let r=this.items,s=n.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+n);return s in r||(r[s]=n,zx(n,o,i),this.override&&vt.override(n.id,n.overrides)),o}get(n){return this.items[n]}unregister(n){let e=this.items,i=n.id,r=this.scope;i in e&&delete e[i],r&&i in vt[r]&&(delete vt[r][i],this.override&&delete zr[i])}};function zx(t,n,e){let i=Io(Object.create(null),[e?vt.get(e):{},vt.get(n),t.defaults]);vt.set(n,i),t.defaultRoutes&&Yx(n,t.defaultRoutes),t.descriptors&&vt.describe(n,t.descriptors)}function Yx(t,n){Object.keys(n).forEach(e=>{let i=e.split("."),r=i.pop(),s=[t].concat(i).join("."),o=n[e].split("."),l=o.pop(),d=o.join(".");vt.route(s,r,d,l)})}function Ux(t){return"id"in t&&"defaults"in t}var Mh=class{constructor(){this.controllers=new Yo(qr,"datasets",!0),this.elements=new Yo(pi,"elements"),this.plugins=new Yo(Object,"plugins"),this.scales=new Yo(ks,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,e,i){[...e].forEach(r=>{let s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(n,s,r):tt(r,o=>{let l=i||this._getRegistryForType(o);this._exec(n,l,o)})})}_exec(n,e,i){let r=Tc(n);ft(i["before"+r],[],i),e[n](i),ft(i["after"+r],[],i)}_getRegistryForType(n){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(n))return i}return this.plugins}_get(n,e,i){let r=e.get(n);if(r===void 0)throw new Error('"'+n+'" is not a registered '+i+".");return r}},Ai=new Mh,Dh=class{constructor(){this._init=[]}notify(n,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));let s=r?this._descriptors(n).filter(r):this._descriptors(n),o=this._notify(s,n,e,i);return e==="afterDestroy"&&(this._notify(s,n,"stop"),this._notify(this._init,n,"uninstall")),o}_notify(n,e,i,r){r=r||{};for(let s of n){let o=s.plugin,l=o[i],d=[e,r,s.options];if(ft(l,d,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),e}_createDescriptors(n,e){let i=n&&n.config,r=Oe(i.options&&i.options.plugins,{}),s=Gx(i);return r===!1&&!e?[]:Kx(n,s,r,e)}_notifyStateChanges(n){let e=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(l=>!o.some(d=>l.plugin.id===d.plugin.id));this._notify(r(e,i),n,"stop"),this._notify(r(i,e),n,"start")}};function Gx(t){let n={},e=[],i=Object.keys(Ai.plugins.items);for(let s=0;s<i.length;s++)e.push(Ai.getPlugin(i[s]));let r=t.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];e.indexOf(o)===-1&&(e.push(o),n[o.id]=!0)}return{plugins:e,localIds:n}}function $x(t,n){return!n&&t===!1?null:t===!0?{}:t}function Kx(t,{plugins:n,localIds:e},i,r){let s=[],o=t.getContext();for(let l of n){let d=l.id,f=$x(i[d],r);f!==null&&s.push({plugin:l,options:qx(t.config,{plugin:l,local:e[d]},f,o)})}return s}function qx(t,{plugin:n,local:e},i,r){let s=t.pluginScopeKeys(n),o=t.getOptionScopes(i,s);return e&&n.defaults&&o.push(n.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kh(t,n){let e=vt.datasets[t]||{};return((n.datasets||{})[t]||{}).indexAxis||n.indexAxis||e.indexAxis||"x"}function Xx(t,n){let e=t;return t==="_index_"?e=n:t==="_value_"&&(e=n==="x"?"y":"x"),e}function Qx(t,n){return t===n?"_index_":"_value_"}function ug(t){if(t==="x"||t==="y"||t==="r")return t}function Zx(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Eh(t,...n){if(ug(t))return t;for(let e of n){let i=e.axis||Zx(e.position)||t.length>1&&ug(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function dg(t,n,e){if(e[n+"AxisID"]===t)return{axis:n}}function Jx(t,n){if(n.data&&n.data.datasets){let e=n.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(e.length)return dg(t,"x",e[0])||dg(t,"y",e[0])}return{}}function ew(t,n){let e=zr[t.type]||{scales:{}},i=n.scales||{},r=kh(t.type,n),s=Object.create(null);return Object.keys(i).forEach(o=>{let l=i[o];if(!Ue(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let d=Eh(o,l,Jx(o,t),vt.scales[l.type]),f=Qx(d,r),g=e.scales||{};s[o]=Vo(Object.create(null),[{axis:d},l,g[d],g[f]])}),t.data.datasets.forEach(o=>{let l=o.type||t.type,d=o.indexAxis||kh(l,n),g=(zr[l]||{}).scales||{};Object.keys(g).forEach(_=>{let w=Xx(_,d),S=o[w+"AxisID"]||w;s[S]=s[S]||Object.create(null),Vo(s[S],[{axis:w},i[S],g[_]])})}),Object.keys(s).forEach(o=>{let l=s[o];Vo(l,[vt.scales[l.type],vt.scale])}),s}function Zg(t){let n=t.options||(t.options={});n.plugins=Oe(n.plugins,{}),n.scales=ew(t,n)}function Jg(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function tw(t){return t=t||{},t.data=Jg(t.data),Zg(t),t}var hg=new Map,e0=new Set;function Hc(t,n){let e=hg.get(t);return e||(e=n(),hg.set(t,e),e0.add(e)),e}var Ja=(t,n,e)=>{let i=tr(n,e);i!==void 0&&t.add(i)},Th=class{constructor(n){this._config=tw(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=Jg(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),Zg(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return Hc(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,e){return Hc(`${n}.transition.${e}`,()=>[[`datasets.${n}.transitions.${e}`,`transitions.${e}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,e){return Hc(`${n}-${e}`,()=>[[`datasets.${n}.elements.${e}`,`datasets.${n}`,`elements.${e}`,""]])}pluginScopeKeys(n){let e=n.id,i=this.type;return Hc(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,e){let i=this._scopeCache,r=i.get(n);return(!r||e)&&(r=new Map,i.set(n,r)),r}getOptionScopes(n,e,i){let{options:r,type:s}=this,o=this._cachedScopes(n,i),l=o.get(e);if(l)return l;let d=new Set;e.forEach(g=>{n&&(d.add(n),g.forEach(_=>Ja(d,n,_))),g.forEach(_=>Ja(d,r,_)),g.forEach(_=>Ja(d,zr[s]||{},_)),g.forEach(_=>Ja(d,vt,_)),g.forEach(_=>Ja(d,Fc,_))});let f=Array.from(d);return f.length===0&&f.push(Object.create(null)),e0.has(e)&&o.set(e,f),f}chartOptionScopes(){let{options:n,type:e}=this;return[n,zr[e]||{},vt.datasets[e]||{},{type:e},vt,Fc]}resolveNamedOptions(n,e,i,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:l}=fg(this._resolverCache,n,r),d=o;if(iw(o,e)){s.$shared=!1,i=Ji(i)?i():i;let f=this.createResolver(n,i,l);d=ws(o,i,f)}for(let f of e)s[f]=d[f];return s}createResolver(n,e,i=[""],r){let{resolver:s}=fg(this._resolverCache,n,i);return Ue(e)?ws(s,e,void 0,r):s}};function fg(t,n,e){let i=t.get(n);i||(i=new Map,t.set(n,i));let r=e.join(),s=i.get(r);return s||(s={resolver:Vc(n,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}var nw=t=>Ue(t)&&Object.getOwnPropertyNames(t).some(n=>Ji(t[n]));function iw(t,n){let{isScriptable:e,isIndexable:i}=eh(t);for(let r of n){let s=e(r),o=i(r),l=(o||s)&&t[r];if(s&&(Ji(l)||nw(l))||o&&mt(l))return!0}return!1}var rw="4.4.8",sw=["top","bottom","left","right","chartArea"];function pg(t,n){return t==="top"||t==="bottom"||sw.indexOf(t)===-1&&n==="x"}function mg(t,n){return function(e,i){return e[t]===i[t]?e[n]-i[n]:e[t]-i[t]}}function gg(t){let n=t.chart,e=n.options.animation;n.notifyPlugins("afterRender"),ft(e&&e.onComplete,[t],n)}function ow(t){let n=t.chart,e=n.options.animation;ft(e&&e.onProgress,[t],n)}function t0(t){return Lc()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Kc={},yg=t=>{let n=t0(t);return Object.values(Kc).filter(e=>e.canvas===n).pop()};function aw(t,n,e){let i=Object.keys(t);for(let r of i){let s=+r;if(s>=n){let o=t[r];delete t[r],(e>0||s>n)&&(t[s+e]=o)}}}function lw(t,n,e,i){return!e||t.type==="mouseout"?null:i?n:t}function zc(t,n,e){return t.options.clip?t[e]:n[e]}function cw(t,n){let{xScale:e,yScale:i}=t;return e&&i?{left:zc(e,n,"left"),right:zc(e,n,"right"),top:zc(i,n,"top"),bottom:zc(i,n,"bottom")}:n}var tu=(()=>{class t{static defaults=vt;static instances=Kc;static overrides=zr;static registry=Ai;static version=rw;static getChart=yg;static register(...e){Ai.add(...e),vg()}static unregister(...e){Ai.remove(...e),vg()}constructor(e,i){let r=this.config=new Th(i),s=t0(e),o=yg(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Tx(s)),this.platform.updateConfig(r);let d=this.platform.acquireContext(s,l.aspectRatio),f=d&&d.canvas,g=f&&f.height,_=f&&f.width;if(this.id=gm(),this.ctx=d,this.canvas=f,this.width=_,this.height=g,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Dh,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=km(w=>this.update(w),l.resizeDelay||0),this._dataChanges=[],Kc[this.id]=this,!d||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ir.listen(this,"complete",gg),ir.listen(this,"progress",ow),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:i},width:r,height:s,_aspectRatio:o}=this;return ze(e)?i&&o?o:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ai}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qd(this.canvas,this.ctx),this}stop(){return ir.stop(this),this}resize(e,i){ir.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,i,o),d=r.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,rh(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),ft(r.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};tt(i,(r,s)=>{r.id=s})}buildOrUpdateScales(){let e=this.options,i=e.scales,r=this.scales,s=Object.keys(r).reduce((l,d)=>(l[d]=!1,l),{}),o=[];i&&(o=o.concat(Object.keys(i).map(l=>{let d=i[l],f=Eh(l,d),g=f==="r",_=f==="x";return{options:d,dposition:g?"chartArea":_?"bottom":"left",dtype:g?"radialLinear":_?"category":"linear"}}))),tt(o,l=>{let d=l.options,f=d.id,g=Eh(f,d),_=Oe(d.type,l.dtype);(d.position===void 0||pg(d.position,g)!==pg(l.dposition))&&(d.position=l.dposition),s[f]=!0;let w=null;if(f in r&&r[f].type===_)w=r[f];else{let S=Ai.getScale(_);w=new S({id:f,type:_,ctx:this.ctx,chart:this}),r[w.id]=w}w.init(d,e)}),tt(s,(l,d)=>{l||delete r[d]}),tt(r,l=>{tn.configure(this,l,l.options),tn.addBox(this,l)})}_updateMetasets(){let e=this._metasets,i=this.data.datasets.length,r=e.length;if(e.sort((s,o)=>s.index-o.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);e.splice(i,r-i)}this._sortedMetasets=e.slice(0).sort(mg("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((r,s)=>{i.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let e=[],i=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){let o=i[r],l=this.getDatasetMeta(r),d=o.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=d,l.indexAxis=o.indexAxis||kh(d,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{let f=Ai.getController(d),{datasetElementType:g,dataElementType:_}=vt.datasets[d];Object.assign(f,{dataElementType:Ai.getElement(_),datasetElementType:g&&Ai.getElement(g)}),l.controller=new f(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){tt(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let g=0,_=this.data.datasets.length;g<_;g++){let{controller:w}=this.getDatasetMeta(g),S=!s&&o.indexOf(w)===-1;w.buildOrUpdateElements(S),l=Math.max(+w.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),s||tt(o,g=>{g.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(mg("z","_idx"));let{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){tt(this.scales,e=>{tn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Nd(i,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of i){let l=r==="_removeElements"?-o:o;aw(e,s,l)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=o=>new Set(e.filter(l=>l[0]===o).map((l,d)=>d+","+l.splice(1).join(","))),s=r(0);for(let o=1;o<i;o++)if(!Nd(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;tn.update(this,this.width,this.height,e);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],tt(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Ji(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){let r=this.getDatasetMeta(e),s={meta:r,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ir.has(this)?this.attached&&!ir.running(this)&&ir.start(this):(this.draw(),gg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let i=this._sortedMetasets,r=[],s,o;for(s=0,o=i.length;s<o;++s){let l=i[s];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let i=this.ctx,r=e._clip,s=!r.disabled,o=cw(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(s&&$a(i,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),e.controller.draw(),s&&Ka(i),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return Di(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,r,s){let o=ux.modes[i];return typeof o=="function"?o(this,e,r,s):[]}getDatasetMeta(e){let i=this.data.datasets[e],r=this._metasets,s=r.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=nr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let i=this.data.datasets[e];if(!i)return!1;let r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(e,i){let r=this.getDatasetMeta(e);r.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,r){let s=r?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,s);Lo(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(o,{visible:r}),this.update(d=>d.datasetIndex===e?s:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){let i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),ir.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Qd(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Kc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,i=this.platform,r=(o,l)=>{i.addEventListener(this,o,l),e[o]=l},s=(o,l,d)=>{o.offsetX=l,o.offsetY=d,this._eventHandler(o)};tt(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,r=(f,g)=>{i.addEventListener(this,f,g),e[f]=g},s=(f,g)=>{e[f]&&(i.removeEventListener(this,f,g),delete e[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)},l,d=()=>{s("attach",d),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",d)},i.isAttached(this.canvas)?d():l()}unbindEvents(){tt(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},tt(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,r){let s=r?"set":"remove",o,l,d,f;for(i==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),d=0,f=e.length;d<f;++d){l=e[d];let g=l&&this.getDatasetMeta(l.datasetIndex).controller;g&&g[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let i=this._active||[],r=e.map(({datasetIndex:o,index:l})=>{let d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[l],index:l}});!Ua(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(e,i,r){return this._plugins.notify(this,e,i,r)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,r){let s=this.options.hover,o=(f,g)=>f.filter(_=>!g.some(w=>_.datasetIndex===w.datasetIndex&&_.index===w.index)),l=o(i,e),d=r?e:o(e,i);l.length&&this.updateHoverStyle(l,s.mode,!1),d.length&&s.mode&&this.updateHoverStyle(d,s.mode,!0)}_eventHandler(e,i){let r={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(e,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(e,i,r){let{_active:s=[],options:o}=this,l=i,d=this._getActiveElements(e,s,r,l),f=bm(e),g=lw(e,this._lastEvent,r,f);r&&(this._lastEvent=null,ft(o.onHover,[e,d,this],this),f&&ft(o.onClick,[e,d,this],this));let _=!Ua(d,s);return(_||i)&&(this._active=d,this._updateHoverStyles(d,s,i)),this._lastEvent=g,_}_getActiveElements(e,i,r,s){if(e.type==="mouseout")return[];if(!r)return i;let o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}}return t})();function vg(){return tt(tu.instances,t=>t._plugins.invalidate())}function uw(t,n,e){let{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:l,innerRadius:d}=n,f=r/l;t.beginPath(),t.arc(s,o,l,i-f,e+f),d>r?(f=r/d,t.arc(s,o,d,e+f,i-f,!0)):t.arc(s,o,r,e+Ft,i-Ft),t.closePath(),t.clip()}function dw(t){return Rc(t,["outerStart","outerEnd","innerStart","innerEnd"])}function hw(t,n,e,i){let r=dw(t.options.borderRadius),s=(e-n)/2,o=Math.min(s,i*n/2),l=d=>{let f=(e-Math.min(s,d))*i/2;return Ht(d,0,Math.min(s,f))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:Ht(r.innerStart,0,o),innerEnd:Ht(r.innerEnd,0,o)}}function zo(t,n,e,i){return{x:e+t*Math.cos(n),y:i+t*Math.sin(n)}}function Zc(t,n,e,i,r,s){let{x:o,y:l,startAngle:d,pixelMargin:f,innerRadius:g}=n,_=Math.max(n.outerRadius+i+e-f,0),w=g>0?g+i+e+f:0,S=0,D=r-d;if(i){let Ge=g>0?g-i:0,st=_>0?_-i:0,nt=(Ge+st)/2,Ze=nt!==0?D*nt/(nt+i):D;S=(D-Ze)/2}let T=Math.max(.001,D*_-e/gt)/_,A=(D-T)/2,B=d+A+S,j=r-A-S,{outerStart:Z,outerEnd:ee,innerStart:Y,innerEnd:Q}=hw(n,w,_,j-B),ae=_-Z,J=_-ee,me=B+Z/ae,Te=j-ee/J,Me=w+Y,Re=w+Q,St=B+Y/Me,Vt=j-Q/Re;if(t.beginPath(),s){let Ge=(me+Te)/2;if(t.arc(o,l,_,me,Ge),t.arc(o,l,_,Ge,Te),ee>0){let bt=zo(J,Te,o,l);t.arc(bt.x,bt.y,ee,Te,j+Ft)}let st=zo(Re,j,o,l);if(t.lineTo(st.x,st.y),Q>0){let bt=zo(Re,Vt,o,l);t.arc(bt.x,bt.y,Q,j+Ft,Vt+Math.PI)}let nt=(j-Q/w+(B+Y/w))/2;if(t.arc(o,l,w,j-Q/w,nt,!0),t.arc(o,l,w,nt,B+Y/w,!0),Y>0){let bt=zo(Me,St,o,l);t.arc(bt.x,bt.y,Y,St+Math.PI,B-Ft)}let Ze=zo(ae,B,o,l);if(t.lineTo(Ze.x,Ze.y),Z>0){let bt=zo(ae,me,o,l);t.arc(bt.x,bt.y,Z,B-Ft,me)}}else{t.moveTo(o,l);let Ge=Math.cos(me)*_+o,st=Math.sin(me)*_+l;t.lineTo(Ge,st);let nt=Math.cos(Te)*_+o,Ze=Math.sin(Te)*_+l;t.lineTo(nt,Ze)}t.closePath()}function fw(t,n,e,i,r){let{fullCircles:s,startAngle:o,circumference:l}=n,d=n.endAngle;if(s){Zc(t,n,e,i,d,r);for(let f=0;f<s;++f)t.fill();isNaN(l)||(d=o+(l%yt||yt))}return Zc(t,n,e,i,d,r),t.fill(),d}function pw(t,n,e,i,r){let{fullCircles:s,startAngle:o,circumference:l,options:d}=n,{borderWidth:f,borderJoinStyle:g,borderDash:_,borderDashOffset:w}=d,S=d.borderAlign==="inner";if(!f)return;t.setLineDash(_||[]),t.lineDashOffset=w,S?(t.lineWidth=f*2,t.lineJoin=g||"round"):(t.lineWidth=f,t.lineJoin=g||"bevel");let D=n.endAngle;if(s){Zc(t,n,e,i,D,r);for(let T=0;T<s;++T)t.stroke();isNaN(l)||(D=o+(l%yt||yt))}S&&uw(t,n,D),s||(Zc(t,n,e,i,D,r),t.stroke())}var Ah=class extends pi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,e,i){let r=this.getProps(["x","y"],i),{angle:s,distance:o}=Hd(r,{x:n,y:e}),{startAngle:l,endAngle:d,innerRadius:f,outerRadius:g,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),w=(this.options.spacing+this.options.borderWidth)/2,S=Oe(_,d-l),D=jo(s,l,d)&&l!==d,T=S>=yt||D,A=Ei(o,f+w,g+w);return T&&A}getCenterPoint(n){let{x:e,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:f}=this.options,g=(r+s)/2,_=(o+l+f+d)/2;return{x:e+Math.cos(g)*_,y:i+Math.sin(g)*_}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:e,circumference:i}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>yt?Math.floor(i/yt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);let d=1-Math.sin(Math.min(gt,i||0)),f=r*d;n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,fw(n,this,f,s,o),pw(n,this,f,s,o),n.restore()}};function n0(t,n,e=n){t.lineCap=Oe(e.borderCapStyle,n.borderCapStyle),t.setLineDash(Oe(e.borderDash,n.borderDash)),t.lineDashOffset=Oe(e.borderDashOffset,n.borderDashOffset),t.lineJoin=Oe(e.borderJoinStyle,n.borderJoinStyle),t.lineWidth=Oe(e.borderWidth,n.borderWidth),t.strokeStyle=Oe(e.borderColor,n.borderColor)}function mw(t,n,e){t.lineTo(e.x,e.y)}function gw(t){return t.stepped?Pm:t.tension||t.cubicInterpolationMode==="monotone"?Om:mw}function i0(t,n,e={}){let i=t.length,{start:r=0,end:s=i-1}=e,{start:o,end:l}=n,d=Math.max(r,o),f=Math.min(s,l),g=r<o&&s<o||r>l&&s>l;return{count:i,start:d,loop:n.loop,ilen:f<d&&!g?i+f-d:f-d}}function yw(t,n,e,i){let{points:r,options:s}=n,{count:o,start:l,loop:d,ilen:f}=i0(r,e,i),g=gw(s),{move:_=!0,reverse:w}=i||{},S,D,T;for(S=0;S<=f;++S)D=r[(l+(w?f-S:S))%o],!D.skip&&(_?(t.moveTo(D.x,D.y),_=!1):g(t,T,D,w,s.stepped),T=D);return d&&(D=r[(l+(w?f:0))%o],g(t,T,D,w,s.stepped)),!!d}function vw(t,n,e,i){let r=n.points,{count:s,start:o,ilen:l}=i0(r,e,i),{move:d=!0,reverse:f}=i||{},g=0,_=0,w,S,D,T,A,B,j=ee=>(o+(f?l-ee:ee))%s,Z=()=>{T!==A&&(t.lineTo(g,A),t.lineTo(g,T),t.lineTo(g,B))};for(d&&(S=r[j(0)],t.moveTo(S.x,S.y)),w=0;w<=l;++w){if(S=r[j(w)],S.skip)continue;let ee=S.x,Y=S.y,Q=ee|0;Q===D?(Y<T?T=Y:Y>A&&(A=Y),g=(_*g+ee)/++_):(Z(),t.lineTo(ee,Y),D=Q,_=0,T=A=Y),B=Y}Z()}function Ph(t){let n=t.options,e=n.borderDash&&n.borderDash.length;return!t._decimated&&!t._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!e?vw:yw}function bw(t){return t.stepped?Wm:t.tension||t.cubicInterpolationMode==="monotone"?Hm:Hr}function _w(t,n,e,i){let r=n._path;r||(r=n._path=new Path2D,n.path(r,e,i)&&r.closePath()),n0(t,n.options),t.stroke(r)}function xw(t,n,e,i){let{segments:r,options:s}=n,o=Ph(n);for(let l of r)n0(t,s,l.style),t.beginPath(),o(t,n,l,{start:e,end:e+i-1})&&t.closePath(),t.stroke()}var ww=typeof Path2D=="function";function Cw(t,n,e,i){ww&&!n.options.segment?_w(t,n,e,i):xw(t,n,e,i)}var nu=(()=>{class t extends pi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;Nm(this._points,r,e,s,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Ym(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,r=e.length;return r&&i[e[r-1].end]}interpolate(e,i){let r=this.options,s=e[i],o=this.points,l=ch(this,{property:i,start:s,end:s});if(!l.length)return;let d=[],f=bw(r),g,_;for(g=0,_=l.length;g<_;++g){let{start:w,end:S}=l[g],D=o[w],T=o[S];if(D===T){d.push(D);continue}let A=Math.abs((s-D[i])/(T[i]-D[i])),B=f(D,T,A,r.stepped);B[i]=e[i],d.push(B)}return d.length===1?d[0]:d}pathSegment(e,i,r){return Ph(this)(e,this,i,r)}path(e,i,r){let s=this.segments,o=Ph(this),l=this._loop;i=i||0,r=r||this.points.length-i;for(let d of s)l&=o(e,this,d,{start:i,end:i+r-1});return!!l}draw(e,i,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),Cw(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function bg(t,n,e,i){let r=t.options,{[e]:s}=t.getProps([e],i);return Math.abs(n-s)<r.radius+r.hitRadius}var Sw=(()=>{class t extends pi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){let s=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(i-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return bg(this,e,"x",i)}inYRange(e,i){return bg(this,e,"y",i)}getCenterPoint(e){let{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){let r=this.options;this.skip||r.radius<.1||!Di(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Ic(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return t})();function r0(t,n){let{x:e,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],n),l,d,f,g,_;return t.horizontal?(_=o/2,l=Math.min(e,r),d=Math.max(e,r),f=i-_,g=i+_):(_=s/2,l=e-_,d=e+_,f=Math.min(i,r),g=Math.max(i,r)),{left:l,top:f,right:d,bottom:g}}function Kr(t,n,e,i){return t?0:Ht(n,e,i)}function Mw(t,n,e){let i=t.options.borderWidth,r=t.borderSkipped,s=Jd(i);return{t:Kr(r.top,s.top,0,e),r:Kr(r.right,s.right,0,n),b:Kr(r.bottom,s.bottom,0,e),l:Kr(r.left,s.left,0,n)}}function Dw(t,n,e){let{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Gr(r),o=Math.min(n,e),l=t.borderSkipped,d=i||Ue(r);return{topLeft:Kr(!d||l.top||l.left,s.topLeft,0,o),topRight:Kr(!d||l.top||l.right,s.topRight,0,o),bottomLeft:Kr(!d||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:Kr(!d||l.bottom||l.right,s.bottomRight,0,o)}}function kw(t){let n=r0(t),e=n.right-n.left,i=n.bottom-n.top,r=Mw(t,e/2,i/2),s=Dw(t,e/2,i/2);return{outer:{x:n.left,y:n.top,w:e,h:i,radius:s},inner:{x:n.left+r.l,y:n.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function yh(t,n,e,i){let r=n===null,s=e===null,l=t&&!(r&&s)&&r0(t,i);return l&&(r||Ei(n,l.left,l.right))&&(s||Ei(e,l.top,l.bottom))}function Ew(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Tw(t,n){t.rect(n.x,n.y,n.w,n.h)}function vh(t,n,e={}){let i=t.x!==e.x?-n:0,r=t.y!==e.y?-n:0,s=(t.x+t.w!==e.x+e.w?n:0)-i,o=(t.y+t.h!==e.y+e.h?n:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}var Oh=class extends pi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=kw(this),l=Ew(o.radius)?Wo:Tw;n.save(),(o.w!==s.w||o.h!==s.h)&&(n.beginPath(),l(n,vh(o,e,s)),n.clip(),l(n,vh(s,-e,o)),n.fillStyle=i,n.fill("evenodd")),n.beginPath(),l(n,vh(s,e)),n.fillStyle=r,n.fill(),n.restore()}inRange(n,e,i){return yh(this,n,e,i)}inXRange(n,e){return yh(this,n,null,e)}inYRange(n,e){return yh(this,null,n,e)}getCenterPoint(n){let{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],n);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}},Aw=Object.freeze({__proto__:null,ArcElement:Ah,BarElement:Oh,LineElement:nu,PointElement:Sw}),Fh=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],_g=Fh.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function s0(t){return Fh[t%Fh.length]}function o0(t){return _g[t%_g.length]}function Pw(t,n){return t.borderColor=s0(n),t.backgroundColor=o0(n),++n}function Ow(t,n){return t.backgroundColor=t.data.map(()=>s0(n++)),n}function Fw(t,n){return t.backgroundColor=t.data.map(()=>o0(n++)),n}function Iw(t){let n=0;return(e,i)=>{let r=t.getDatasetMeta(i).controller;r instanceof Wh?n=Ow(e,n):r instanceof $g?n=Fw(e,n):r&&(n=Pw(e,n))}}function xg(t){let n;for(n in t)if(t[n].borderColor||t[n].backgroundColor)return!0;return!1}function Rw(t){return t&&(t.borderColor||t.backgroundColor)}function Vw(){return vt.borderColor!=="rgba(0,0,0,0.1)"||vt.backgroundColor!=="rgba(0,0,0,0.1)"}var Lw={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,n,e){if(!e.enabled)return;let{data:{datasets:i},options:r}=t.config,{elements:s}=r,o=xg(i)||Rw(r)||s&&xg(s)||Vw();if(!e.forceOverride&&o)return;let l=Iw(t);i.forEach(l)}};function Nw(t,n,e,i,r){let s=r.samples||i;if(s>=e)return t.slice(n,n+e);let o=[],l=(e-2)/(s-2),d=0,f=n+e-1,g=n,_,w,S,D,T;for(o[d++]=t[g],_=0;_<s-2;_++){let A=0,B=0,j,Z=Math.floor((_+1)*l)+1+n,ee=Math.min(Math.floor((_+2)*l)+1,e)+n,Y=ee-Z;for(j=Z;j<ee;j++)A+=t[j].x,B+=t[j].y;A/=Y,B/=Y;let Q=Math.floor(_*l)+1+n,ae=Math.min(Math.floor((_+1)*l)+1,e)+n,{x:J,y:me}=t[g];for(S=D=-1,j=Q;j<ae;j++)D=.5*Math.abs((J-A)*(t[j].y-me)-(J-t[j].x)*(B-me)),D>S&&(S=D,w=t[j],T=j);o[d++]=w,g=T}return o[d++]=t[f],o}function jw(t,n,e,i){let r=0,s=0,o,l,d,f,g,_,w,S,D,T,A=[],B=n+e-1,j=t[n].x,ee=t[B].x-j;for(o=n;o<n+e;++o){l=t[o],d=(l.x-j)/ee*i,f=l.y;let Y=d|0;if(Y===g)f<D?(D=f,_=o):f>T&&(T=f,w=o),r=(s*r+l.x)/++s;else{let Q=o-1;if(!ze(_)&&!ze(w)){let ae=Math.min(_,w),J=Math.max(_,w);ae!==S&&ae!==Q&&A.push(Dt(Be({},t[ae]),{x:r})),J!==S&&J!==Q&&A.push(Dt(Be({},t[J]),{x:r}))}o>0&&Q!==S&&A.push(t[Q]),A.push(l),g=Y,s=0,D=T=f,_=w=S=o}}return A}function a0(t){if(t._decimated){let n=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function wg(t){t.data.datasets.forEach(n=>{a0(n)})}function Bw(t,n){let e=n.length,i=0,r,{iScale:s}=t,{min:o,max:l,minDefined:d,maxDefined:f}=s.getUserBounds();return d&&(i=Ht(Mi(n,s.axis,o).lo,0,e-1)),f?r=Ht(Mi(n,s.axis,l).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var Ww={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,n,e)=>{if(!e.enabled){wg(t);return}let i=t.width;t.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:l}=r,d=t.getDatasetMeta(s),f=o||r.data;if(Ho([l,t.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;let g=t.scales[d.xAxisID];if(g.type!=="linear"&&g.type!=="time"||t.options.parsing)return;let{start:_,count:w}=Bw(d,f),S=e.threshold||4*i;if(w<=S){a0(r);return}ze(o)&&(r._data=f,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(T){this._data=T}}));let D;switch(e.algorithm){case"lttb":D=Nw(f,_,w,i,e);break;case"min-max":D=jw(f,_,w,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=D})},destroy(t){wg(t)}};function Hw(t,n,e){let i=t.segments,r=t.points,s=n.points,o=[];for(let l of i){let{start:d,end:f}=l;f=Hh(d,f,r);let g=Ih(e,r[d],r[f],l.loop);if(!n.segments){o.push({source:l,target:g,start:r[d],end:r[f]});continue}let _=ch(n,g);for(let w of _){let S=Ih(e,s[w.start],s[w.end],w.loop),D=lh(l,r,S);for(let T of D)o.push({source:T,target:w,start:{[e]:Cg(g,S,"start",Math.max)},end:{[e]:Cg(g,S,"end",Math.min)}})}}return o}function Ih(t,n,e,i){if(i)return;let r=n[t],s=e[t];return t==="angle"&&(r=Cn(r),s=Cn(s)),{property:t,start:r,end:s}}function zw(t,n){let{x:e=null,y:i=null}=t||{},r=n.points,s=[];return n.segments.forEach(({start:o,end:l})=>{l=Hh(o,l,r);let d=r[o],f=r[l];i!==null?(s.push({x:d.x,y:i}),s.push({x:f.x,y:i})):e!==null&&(s.push({x:e,y:d.y}),s.push({x:e,y:f.y}))}),s}function Hh(t,n,e){for(;n>t;n--){let i=e[n];if(!isNaN(i.x)&&!isNaN(i.y))break}return n}function Cg(t,n,e,i){return t&&n?i(t[e],n[e]):t?t[e]:n?n[e]:0}function l0(t,n){let e=[],i=!1;return mt(t)?(i=!0,e=t):e=zw(t,n),e.length?new nu({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Sg(t){return t&&t.fill!==!1}function Yw(t,n,e){let r=t[n].fill,s=[n],o;if(!e)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!At(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function Uw(t,n,e){let i=qw(t);if(Ue(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return At(r)&&Math.floor(r)===r?Gw(i[0],n,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Gw(t,n,e,i){return(t==="-"||t==="+")&&(e=n+e),e===n||e<0||e>=i?!1:e}function $w(t,n){let e=null;return t==="start"?e=n.bottom:t==="end"?e=n.top:Ue(t)?e=n.getPixelForValue(t.value):n.getBasePixel&&(e=n.getBasePixel()),e}function Kw(t,n,e){let i;return t==="start"?i=e:t==="end"?i=n.options.reverse?n.min:n.max:Ue(t)?i=t.value:i=n.getBaseValue(),i}function qw(t){let n=t.options,e=n.fill,i=Oe(e&&e.target,e);return i===void 0&&(i=!!n.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Xw(t){let{scale:n,index:e,line:i}=t,r=[],s=i.segments,o=i.points,l=Qw(n,e);l.push(l0({x:null,y:n.bottom},i));for(let d=0;d<s.length;d++){let f=s[d];for(let g=f.start;g<=f.end;g++)Zw(r,o[g],l)}return new nu({points:r,options:{}})}function Qw(t,n){let e=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let s=i[r];if(s.index===n)break;s.hidden||e.unshift(s.dataset)}return e}function Zw(t,n,e){let i=[];for(let r=0;r<e.length;r++){let s=e[r],{first:o,last:l,point:d}=Jw(s,n,"x");if(!(!d||o&&l)){if(o)i.unshift(d);else if(t.push(d),!l)break}}t.push(...i)}function Jw(t,n,e){let i=t.interpolate(n,e);if(!i)return{};let r=i[e],s=t.segments,o=t.points,l=!1,d=!1;for(let f=0;f<s.length;f++){let g=s[f],_=o[g.start][e],w=o[g.end][e];if(Ei(r,_,w)){l=r===_,d=r===w;break}}return{first:l,last:d,point:i}}var Jc=class{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,e,i){let{x:r,y:s,radius:o}=this;return e=e||{start:0,end:yt},n.arc(r,s,o,e.end,e.start,!0),!i.bounds}interpolate(n){let{x:e,y:i,radius:r}=this,s=n.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}};function eC(t){let{chart:n,fill:e,line:i}=t;if(At(e))return tC(n,e);if(e==="stack")return Xw(t);if(e==="shape")return!0;let r=nC(t);return r instanceof Jc?r:l0(r,i)}function tC(t,n){let e=t.getDatasetMeta(n);return e&&t.isDatasetVisible(n)?e.dataset:null}function nC(t){return(t.scale||{}).getPointPositionForValue?rC(t):iC(t)}function iC(t){let{scale:n={},fill:e}=t,i=$w(e,n);if(At(i)){let r=n.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function rC(t){let{scale:n,fill:e}=t,i=n.options,r=n.getLabels().length,s=i.reverse?n.max:n.min,o=Kw(e,n,s),l=[];if(i.grid.circular){let d=n.getPointPositionForValue(0,s);return new Jc({x:d.x,y:d.y,radius:n.getDistanceFromCenterForValue(o)})}for(let d=0;d<r;++d)l.push(n.getPointPositionForValue(d,o));return l}function bh(t,n,e){let i=eC(n),{line:r,scale:s,axis:o}=n,l=r.options,d=l.fill,f=l.backgroundColor,{above:g=f,below:_=f}=d||{};i&&r.points.length&&($a(t,e),sC(t,{line:r,target:i,above:g,below:_,area:e,scale:s,axis:o}),Ka(t))}function sC(t,n){let{line:e,target:i,above:r,below:s,area:o,scale:l}=n,d=e._loop?"angle":n.axis;t.save(),d==="x"&&s!==r&&(Mg(t,i,o.top),Dg(t,{line:e,target:i,color:r,scale:l,property:d}),t.restore(),t.save(),Mg(t,i,o.bottom)),Dg(t,{line:e,target:i,color:s,scale:l,property:d}),t.restore()}function Mg(t,n,e){let{segments:i,points:r}=n,s=!0,o=!1;t.beginPath();for(let l of i){let{start:d,end:f}=l,g=r[d],_=r[Hh(d,f,r)];s?(t.moveTo(g.x,g.y),s=!1):(t.lineTo(g.x,e),t.lineTo(g.x,g.y)),o=!!n.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(_.x,e)}t.lineTo(n.first().x,e),t.closePath(),t.clip()}function Dg(t,n){let{line:e,target:i,property:r,color:s,scale:o}=n,l=Hw(e,i,r);for(let{source:d,target:f,start:g,end:_}of l){let{style:{backgroundColor:w=s}={}}=d,S=i!==!0;t.save(),t.fillStyle=w,oC(t,o,S&&Ih(r,g,_)),t.beginPath();let D=!!e.pathSegment(t,d),T;if(S){D?t.closePath():kg(t,i,_,r);let A=!!i.pathSegment(t,f,{move:D,reverse:!0});T=D&&A,T||kg(t,i,g,r)}t.closePath(),t.fill(T?"evenodd":"nonzero"),t.restore()}}function oC(t,n,e){let{top:i,bottom:r}=n.chart.chartArea,{property:s,start:o,end:l}=e||{};s==="x"&&(t.beginPath(),t.rect(o,i,l-o,r-i),t.clip())}function kg(t,n,e,i){let r=n.interpolate(e,i);r&&t.lineTo(r.x,r.y)}var aC={id:"filler",afterDatasetsUpdate(t,n,e){let i=(t.data.datasets||[]).length,r=[],s,o,l,d;for(o=0;o<i;++o)s=t.getDatasetMeta(o),l=s.dataset,d=null,l&&l.options&&l instanceof nu&&(d={visible:t.isDatasetVisible(o),index:o,fill:Uw(l,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=d,r.push(d);for(o=0;o<i;++o)d=r[o],!(!d||d.fill===!1)&&(d.fill=Yw(r,o,e.propagate))},beforeDraw(t,n,e){let i=e.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){let l=r[o].$filler;l&&(l.line.updateControlPoints(s,l.axis),i&&l.fill&&bh(t.ctx,l,s))}},beforeDatasetsDraw(t,n,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let s=i[r].$filler;Sg(s)&&bh(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,n,e){let i=n.meta.$filler;!Sg(i)||e.drawTime!=="beforeDatasetDraw"||bh(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Eg=(t,n)=>{let{boxHeight:e=n,boxWidth:i=n}=t;return t.usePointStyle&&(e=Math.min(e,n),i=t.pointStyleWidth||Math.min(i,n)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(n,e)}},lC=(t,n)=>t!==null&&n!==null&&t.datasetIndex===n.datasetIndex&&t.index===n.index,eu=class extends pi{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e,i){this.maxWidth=n,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},e=ft(n.generateLabels,[this.chart],this)||[];n.filter&&(e=e.filter(i=>n.filter(i,this.chart.data))),n.sort&&(e=e.sort((i,r)=>n.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:n,ctx:e}=this;if(!n.display){this.width=this.height=0;return}let i=n.labels,r=Wt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=Eg(i,s),f,g;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(o,s,l,d)+10):(g=this.maxHeight,f=this._fitCols(o,r,l,d)+10),this.width=Math.min(f,n.maxWidth||this.maxWidth),this.height=Math.min(g,n.maxHeight||this.maxHeight)}_fitRows(n,e,i,r){let{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],g=r+l,_=n;s.textAlign="left",s.textBaseline="middle";let w=-1,S=-g;return this.legendItems.forEach((D,T)=>{let A=i+e/2+s.measureText(D.text).width;(T===0||f[f.length-1]+A+2*l>o)&&(_+=g,f[f.length-(T>0?0:1)]=0,S+=g,w++),d[T]={left:0,top:S,row:w,width:A,height:r},f[f.length-1]+=A+l}),_}_fitCols(n,e,i,r){let{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],g=o-n,_=l,w=0,S=0,D=0,T=0;return this.legendItems.forEach((A,B)=>{let{itemWidth:j,itemHeight:Z}=cC(i,e,s,A,r);B>0&&S+Z+2*l>g&&(_+=w+l,f.push({width:w,height:S}),D+=w+l,T++,w=S=0),d[B]={left:D,top:S,col:T,width:j,height:Z},w=Math.max(w,j),S+=Z+l}),_+=w,f.push({width:w,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Ss(s,this.left,this.width);if(this.isHorizontal()){let l=0,d=Xt(i,this.left+r,this.right-this.lineWidths[l]);for(let f of e)l!==f.row&&(l=f.row,d=Xt(i,this.left+r,this.right-this.lineWidths[l])),f.top+=this.top+n+r,f.left=o.leftForLtr(o.x(d),f.width),d+=f.width+r}else{let l=0,d=Xt(i,this.top+n+r,this.bottom-this.columnSizes[l].height);for(let f of e)f.col!==l&&(l=f.col,d=Xt(i,this.top+n+r,this.bottom-this.columnSizes[l].height)),f.top=d,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;$a(n,this),this._draw(),Ka(n)}}_draw(){let{options:n,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:o}=n,l=vt.color,d=Ss(n.rtl,this.left,this.width),f=Wt(o.font),{padding:g}=o,_=f.size,w=_/2,S;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;let{boxWidth:D,boxHeight:T,itemHeight:A}=Eg(o,_),B=function(Q,ae,J){if(isNaN(D)||D<=0||isNaN(T)||T<0)return;r.save();let me=Oe(J.lineWidth,1);if(r.fillStyle=Oe(J.fillStyle,l),r.lineCap=Oe(J.lineCap,"butt"),r.lineDashOffset=Oe(J.lineDashOffset,0),r.lineJoin=Oe(J.lineJoin,"miter"),r.lineWidth=me,r.strokeStyle=Oe(J.strokeStyle,l),r.setLineDash(Oe(J.lineDash,[])),o.usePointStyle){let Te={radius:T*Math.SQRT2/2,pointStyle:J.pointStyle,rotation:J.rotation,borderWidth:me},Me=d.xPlus(Q,D/2),Re=ae+w;Zd(r,Te,Me,Re,o.pointStyleWidth&&D)}else{let Te=ae+Math.max((_-T)/2,0),Me=d.leftForLtr(Q,D),Re=Gr(J.borderRadius);r.beginPath(),Object.values(Re).some(St=>St!==0)?Wo(r,{x:Me,y:Te,w:D,h:T,radius:Re}):r.rect(Me,Te,D,T),r.fill(),me!==0&&r.stroke()}r.restore()},j=function(Q,ae,J){Ur(r,J.text,Q,ae+A/2,f,{strikethrough:J.hidden,textAlign:d.textAlign(J.textAlign)})},Z=this.isHorizontal(),ee=this._computeTitleHeight();Z?S={x:Xt(s,this.left+g,this.right-i[0]),y:this.top+g+ee,line:0}:S={x:this.left+g,y:Xt(s,this.top+ee+g,this.bottom-e[0].height),line:0},oh(this.ctx,n.textDirection);let Y=A+g;this.legendItems.forEach((Q,ae)=>{r.strokeStyle=Q.fontColor,r.fillStyle=Q.fontColor;let J=r.measureText(Q.text).width,me=d.textAlign(Q.textAlign||(Q.textAlign=o.textAlign)),Te=D+w+J,Me=S.x,Re=S.y;d.setWidth(this.width),Z?ae>0&&Me+Te+g>this.right&&(Re=S.y+=Y,S.line++,Me=S.x=Xt(s,this.left+g,this.right-i[S.line])):ae>0&&Re+Y>this.bottom&&(Me=S.x=Me+e[S.line].width+g,S.line++,Re=S.y=Xt(s,this.top+ee+g,this.bottom-e[S.line].height));let St=d.x(Me);if(B(St,Re,Q),Me=Em(me,Me+D+w,Z?Me+Te:this.right,n.rtl),j(d.x(Me),Re,Q),Z)S.x+=Te+g;else if(typeof Q.text!="string"){let Vt=f.lineHeight;S.y+=c0(Q,Vt)+g}else S.y+=Y}),ah(this.ctx,n.textDirection)}drawTitle(){let n=this.options,e=n.title,i=Wt(e.font),r=Qt(e.padding);if(!e.display)return;let s=Ss(n.rtl,this.left,this.width),o=this.ctx,l=e.position,d=i.size/2,f=r.top+d,g,_=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),g=this.top+f,_=Xt(n.align,_,this.right-w);else{let D=this.columnSizes.reduce((T,A)=>Math.max(T,A.height),0);g=f+Xt(n.align,this.top,this.bottom-D-n.labels.padding-this._computeTitleHeight())}let S=Xt(l,_,_+w);o.textAlign=s.textAlign(Oc(l)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Ur(o,e.text,S,g,i)}_computeTitleHeight(){let n=this.options.title,e=Wt(n.font),i=Qt(n.padding);return n.display?e.lineHeight+i.height:0}_getLegendItemAt(n,e){let i,r,s;if(Ei(n,this.left,this.right)&&Ei(e,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Ei(n,r.left,r.left+r.width)&&Ei(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(n){let e=this.options;if(!hC(n.type,e))return;let i=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let r=this._hoveredItem,s=lC(r,i);r&&!s&&ft(e.onLeave,[n,r,this],this),this._hoveredItem=i,i&&!s&&ft(e.onHover,[n,i,this],this)}else i&&ft(e.onClick,[n,i,this],this)}};function cC(t,n,e,i,r){let s=uC(i,t,n,e),o=dC(r,i,n.lineHeight);return{itemWidth:s,itemHeight:o}}function uC(t,n,e,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),n+e.size/2+i.measureText(r).width}function dC(t,n,e){let i=t;return typeof n.text!="string"&&(i=c0(n,e)),i}function c0(t,n){let e=t.text?t.text.length:0;return n*e}function hC(t,n){return!!((t==="mousemove"||t==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(t==="click"||t==="mouseup"))}var fC={id:"legend",_element:eu,start(t,n,e){let i=t.legend=new eu({ctx:t.ctx,options:e,chart:t});tn.configure(t,i,e),tn.addBox(t,i)},stop(t){tn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,n,e){let i=t.legend;tn.configure(t,i,e),i.options=e},afterUpdate(t){let n=t.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(t,n){n.replay||t.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,n,e){let i=n.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),n.hidden=!0):(r.show(i),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let n=t.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{let f=d.controller.getStyle(e?0:void 0),g=Qt(f.borderWidth);return{text:n[d.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(l||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},il=class extends pi{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=e;let r=mt(i.text)?i.text.length:1;this._padding=Qt(i.padding);let s=r*Wt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:e,left:i,bottom:r,right:s,options:o}=this,l=o.align,d=0,f,g,_;return this.isHorizontal()?(g=Xt(l,i,s),_=e+n,f=s-i):(o.position==="left"?(g=i+n,_=Xt(l,r,e),d=gt*-.5):(g=s-n,_=Xt(l,e,r),d=gt*.5),f=r-e),{titleX:g,titleY:_,maxWidth:f,rotation:d}}draw(){let n=this.ctx,e=this.options;if(!e.display)return;let i=Wt(e.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:d,rotation:f}=this._drawArgs(s);Ur(n,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:f,textAlign:Oc(e.align),textBaseline:"middle",translation:[o,l]})}};function pC(t,n){let e=new il({ctx:t.ctx,options:n,chart:t});tn.configure(t,e,n),tn.addBox(t,e),t.titleBlock=e}var mC={id:"title",_element:il,start(t,n,e){pC(t,e)},stop(t){let n=t.titleBlock;tn.removeBox(t,n),delete t.titleBlock},beforeUpdate(t,n,e){let i=t.titleBlock;tn.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Yc=new WeakMap,gC={id:"subtitle",start(t,n,e){let i=new il({ctx:t.ctx,options:e,chart:t});tn.configure(t,i,e),tn.addBox(t,i),Yc.set(t,i)},stop(t){tn.removeBox(t,Yc.get(t)),Yc.delete(t)},beforeUpdate(t,n,e){let i=Yc.get(t);tn.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},tl={average(t){if(!t.length)return!1;let n,e,i=new Set,r=0,s=0;for(n=0,e=t.length;n<e;++n){let l=t[n].element;if(l&&l.hasValue()){let d=l.tooltipPosition();i.add(d.x),r+=d.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((l,d)=>l+d)/i.size,y:r/s}},nearest(t,n){if(!t.length)return!1;let e=n.x,i=n.y,r=Number.POSITIVE_INFINITY,s,o,l;for(s=0,o=t.length;s<o;++s){let d=t[s].element;if(d&&d.hasValue()){let f=d.getCenterPoint(),g=kc(n,f);g<r&&(r=g,l=d)}}if(l){let d=l.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function Ti(t,n){return n&&(mt(n)?Array.prototype.push.apply(t,n):t.push(n)),t}function rr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function yC(t,n){let{element:e,datasetIndex:i,index:r}=n,s=t.getDatasetMeta(i).controller,{label:o,value:l}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function Tg(t,n){let e=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:l}=n,d=Wt(n.bodyFont),f=Wt(n.titleFont),g=Wt(n.footerFont),_=s.length,w=r.length,S=i.length,D=Qt(n.padding),T=D.height,A=0,B=i.reduce((ee,Y)=>ee+Y.before.length+Y.lines.length+Y.after.length,0);if(B+=t.beforeBody.length+t.afterBody.length,_&&(T+=_*f.lineHeight+(_-1)*n.titleSpacing+n.titleMarginBottom),B){let ee=n.displayColors?Math.max(l,d.lineHeight):d.lineHeight;T+=S*ee+(B-S)*d.lineHeight+(B-1)*n.bodySpacing}w&&(T+=n.footerMarginTop+w*g.lineHeight+(w-1)*n.footerSpacing);let j=0,Z=function(ee){A=Math.max(A,e.measureText(ee).width+j)};return e.save(),e.font=f.string,tt(t.title,Z),e.font=d.string,tt(t.beforeBody.concat(t.afterBody),Z),j=n.displayColors?o+2+n.boxPadding:0,tt(i,ee=>{tt(ee.before,Z),tt(ee.lines,Z),tt(ee.after,Z)}),j=0,e.font=g.string,tt(t.footer,Z),e.restore(),A+=D.width,{width:A,height:T}}function vC(t,n){let{y:e,height:i}=n;return e<i/2?"top":e>t.height-i/2?"bottom":"center"}function bC(t,n,e,i){let{x:r,width:s}=i,o=e.caretSize+e.caretPadding;if(t==="left"&&r+s+o>n.width||t==="right"&&r-s-o<0)return!0}function _C(t,n,e,i){let{x:r,width:s}=e,{width:o,chartArea:{left:l,right:d}}=t,f="center";return i==="center"?f=r<=(l+d)/2?"left":"right":r<=s/2?f="left":r>=o-s/2&&(f="right"),bC(f,t,n,e)&&(f="center"),f}function Ag(t,n,e){let i=e.yAlign||n.yAlign||vC(t,e);return{xAlign:e.xAlign||n.xAlign||_C(t,n,e,i),yAlign:i}}function xC(t,n){let{x:e,width:i}=t;return n==="right"?e-=i:n==="center"&&(e-=i/2),e}function wC(t,n,e){let{y:i,height:r}=t;return n==="top"?i+=e:n==="bottom"?i-=r+e:i-=r/2,i}function Pg(t,n,e,i){let{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:l,yAlign:d}=e,f=r+s,{topLeft:g,topRight:_,bottomLeft:w,bottomRight:S}=Gr(o),D=xC(n,l),T=wC(n,d,f);return d==="center"?l==="left"?D+=f:l==="right"&&(D-=f):l==="left"?D-=Math.max(g,w)+r:l==="right"&&(D+=Math.max(_,S)+r),{x:Ht(D,0,i.width-n.width),y:Ht(T,0,i.height-n.height)}}function Uc(t,n,e){let i=Qt(e.padding);return n==="center"?t.x+t.width/2:n==="right"?t.x+t.width-i.right:t.x+i.left}function Og(t){return Ti([],rr(t))}function CC(t,n,e){return nr(t,{tooltip:n,tooltipItems:e,type:"tooltip"})}function Fg(t,n){let e=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return e?t.override(e):t}var u0={beforeTitle:ki,title(t){if(t.length>0){let n=t[0],e=n.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(i>0&&n.dataIndex<i)return e[n.dataIndex]}return""},afterTitle:ki,beforeBody:ki,beforeLabel:ki,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let n=t.dataset.label||"";n&&(n+=": ");let e=t.formattedValue;return ze(e)||(n+=e),n},labelColor(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ki,afterBody:ki,beforeFooter:ki,footer:ki,afterFooter:ki};function Mn(t,n,e,i){let r=t[n].call(e,i);return typeof r>"u"?u0[n].call(e,i):r}var Ig=(()=>{class t extends pi{static positioners=tl;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new qc(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=CC(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:r}=i,s=Mn(r,"beforeTitle",this,e),o=Mn(r,"title",this,e),l=Mn(r,"afterTitle",this,e),d=[];return d=Ti(d,rr(s)),d=Ti(d,rr(o)),d=Ti(d,rr(l)),d}getBeforeBody(e,i){return Og(Mn(i.callbacks,"beforeBody",this,e))}getBody(e,i){let{callbacks:r}=i,s=[];return tt(e,o=>{let l={before:[],lines:[],after:[]},d=Fg(r,o);Ti(l.before,rr(Mn(d,"beforeLabel",this,o))),Ti(l.lines,Mn(d,"label",this,o)),Ti(l.after,rr(Mn(d,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(e,i){return Og(Mn(i.callbacks,"afterBody",this,e))}getFooter(e,i){let{callbacks:r}=i,s=Mn(r,"beforeFooter",this,e),o=Mn(r,"footer",this,e),l=Mn(r,"afterFooter",this,e),d=[];return d=Ti(d,rr(s)),d=Ti(d,rr(o)),d=Ti(d,rr(l)),d}_createItems(e){let i=this._active,r=this.chart.data,s=[],o=[],l=[],d=[],f,g;for(f=0,g=i.length;f<g;++f)d.push(yC(this.chart,i[f]));return e.filter&&(d=d.filter((_,w,S)=>e.filter(_,w,S,r))),e.itemSort&&(d=d.sort((_,w)=>e.itemSort(_,w,r))),tt(d,_=>{let w=Fg(e.callbacks,_);s.push(Mn(w,"labelColor",this,_)),o.push(Mn(w,"labelPointStyle",this,_)),l.push(Mn(w,"labelTextColor",this,_))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=d,d}update(e,i){let r=this.options.setContext(this.getContext()),s=this._active,o,l=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let d=tl[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);let f=this._size=Tg(this,r),g=Object.assign({},d,f),_=Ag(this.chart,r,g),w=Pg(r,g,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:w.x,y:w.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,s){let o=this.getCaretPosition(e,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(e,i,r){let{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:d}=r,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:w}=Gr(d),{x:S,y:D}=e,{width:T,height:A}=i,B,j,Z,ee,Y,Q;return o==="center"?(Y=D+A/2,s==="left"?(B=S,j=B-l,ee=Y+l,Q=Y-l):(B=S+T,j=B+l,ee=Y-l,Q=Y+l),Z=B):(s==="left"?j=S+Math.max(f,_)+l:s==="right"?j=S+T-Math.max(g,w)-l:j=this.caretX,o==="top"?(ee=D,Y=ee-l,B=j-l,Z=j+l):(ee=D+A,Y=ee+l,B=j+l,Z=j-l),Q=ee),{x1:B,x2:j,x3:Z,y1:ee,y2:Y,y3:Q}}drawTitle(e,i,r){let s=this.title,o=s.length,l,d,f;if(o){let g=Ss(r.rtl,this.x,this.width);for(e.x=Uc(this,r.titleAlign,r),i.textAlign=g.textAlign(r.titleAlign),i.textBaseline="middle",l=Wt(r.titleFont),d=r.titleSpacing,i.fillStyle=r.titleColor,i.font=l.string,f=0;f<o;++f)i.fillText(s[f],g.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+d,f+1===o&&(e.y+=r.titleMarginBottom-d)}}_drawColorBox(e,i,r,s,o){let l=this.labelColors[r],d=this.labelPointStyles[r],{boxHeight:f,boxWidth:g}=o,_=Wt(o.bodyFont),w=Uc(this,"left",o),S=s.x(w),D=f<_.lineHeight?(_.lineHeight-f)/2:0,T=i.y+D;if(o.usePointStyle){let A={radius:Math.min(g,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},B=s.leftForLtr(S,g)+g/2,j=T+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Ic(e,A,B,j),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Ic(e,A,B,j)}else{e.lineWidth=Ue(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;let A=s.leftForLtr(S,g),B=s.leftForLtr(s.xPlus(S,1),g-2),j=Gr(l.borderRadius);Object.values(j).some(Z=>Z!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Wo(e,{x:A,y:T,w:g,h:f,radius:j}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Wo(e,{x:B,y:T+1,w:g-2,h:f-2,radius:j}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(A,T,g,f),e.strokeRect(A,T,g,f),e.fillStyle=l.backgroundColor,e.fillRect(B,T+1,g-2,f-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){let{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:d,boxHeight:f,boxWidth:g,boxPadding:_}=r,w=Wt(r.bodyFont),S=w.lineHeight,D=0,T=Ss(r.rtl,this.x,this.width),A=function(me){i.fillText(me,T.x(e.x+D),e.y+S/2),e.y+=S+o},B=T.textAlign(l),j,Z,ee,Y,Q,ae,J;for(i.textAlign=l,i.textBaseline="middle",i.font=w.string,e.x=Uc(this,B,r),i.fillStyle=r.bodyColor,tt(this.beforeBody,A),D=d&&B!=="right"?l==="center"?g/2+_:g+2+_:0,Y=0,ae=s.length;Y<ae;++Y){for(j=s[Y],Z=this.labelTextColors[Y],i.fillStyle=Z,tt(j.before,A),ee=j.lines,d&&ee.length&&(this._drawColorBox(i,e,Y,T,r),S=Math.max(w.lineHeight,f)),Q=0,J=ee.length;Q<J;++Q)A(ee[Q]),S=w.lineHeight;tt(j.after,A)}D=0,S=w.lineHeight,tt(this.afterBody,A),e.y-=o}drawFooter(e,i,r){let s=this.footer,o=s.length,l,d;if(o){let f=Ss(r.rtl,this.x,this.width);for(e.x=Uc(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=f.textAlign(r.footerAlign),i.textBaseline="middle",l=Wt(r.footerFont),i.fillStyle=r.footerColor,i.font=l.string,d=0;d<o;++d)i.fillText(s[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,i,r,s){let{xAlign:o,yAlign:l}=this,{x:d,y:f}=e,{width:g,height:_}=r,{topLeft:w,topRight:S,bottomLeft:D,bottomRight:T}=Gr(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(d+w,f),l==="top"&&this.drawCaret(e,i,r,s),i.lineTo(d+g-S,f),i.quadraticCurveTo(d+g,f,d+g,f+S),l==="center"&&o==="right"&&this.drawCaret(e,i,r,s),i.lineTo(d+g,f+_-T),i.quadraticCurveTo(d+g,f+_,d+g-T,f+_),l==="bottom"&&this.drawCaret(e,i,r,s),i.lineTo(d+D,f+_),i.quadraticCurveTo(d,f+_,d,f+_-D),l==="center"&&o==="left"&&this.drawCaret(e,i,r,s),i.lineTo(d,f+w),i.quadraticCurveTo(d,f,d+w,f),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let l=tl[e.position].call(this,this._active,this._eventPosition);if(!l)return;let d=this._size=Tg(this,e),f=Object.assign({},l,this._size),g=Ag(i,e,f),_=Pg(e,f,g,i);(s._to!==_.x||o._to!==_.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let l=Qt(i.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&d&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,s,i),oh(e,i.textDirection),o.y+=l.top,this.drawTitle(o,e,i),this.drawBody(o,e,i),this.drawFooter(o,e,i),ah(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let r=this._active,s=e.map(({datasetIndex:d,index:f})=>{let g=this.chart.getDatasetMeta(d);if(!g)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:g.data[f],index:f}}),o=!Ua(r,s),l=this._positionChanged(s,i);(o||l)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],l=this._getActiveElements(e,o,i,r),d=this._positionChanged(l,e),f=i||!Ua(l,o)||d;return f&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),f}_getActiveElements(e,i,r,s){let o=this.options;if(e.type==="mouseout")return[];if(!s)return i.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);let l=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(e,i){let{caretX:r,caretY:s,options:o}=this,l=tl[o.position].call(this,e,i);return l!==!1&&(r!==l.x||s!==l.y)}}return t})(),SC={id:"tooltip",_element:Ig,positioners:tl,afterInit(t,n,e){e&&(t.tooltip=new Ig({chart:t,options:e}))},beforeUpdate(t,n,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,n,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){let n=t.tooltip;if(n&&n._willRender()){let e={tooltip:n};if(t.notifyPlugins("beforeTooltipDraw",Dt(Be({},e),{cancelable:!0}))===!1)return;n.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e)}},afterEvent(t,n){if(t.tooltip){let e=n.replay;t.tooltip.handleEvent(n.event,e,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,n)=>n.bodyFont.size,boxWidth:(t,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:u0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},MC=Object.freeze({__proto__:null,Colors:Lw,Decimation:Ww,Filler:aC,Legend:fC,SubTitle:gC,Title:mC,Tooltip:SC}),DC=(t,n,e,i)=>(typeof n=="string"?(e=t.push(n)-1,i.unshift({index:e,label:n})):isNaN(n)&&(e=null),e);function kC(t,n,e,i){let r=t.indexOf(n);if(r===-1)return DC(t,n,e,i);let s=t.lastIndexOf(n);return r!==s?e:r}var EC=(t,n)=>t===null?null:Ht(Math.round(t),0,n);function Rg(t){let n=this.getLabels();return t>=0&&t<n.length?n[t]:t}var TC=(()=>{class t extends ks{static id="category";static defaults={ticks:{callback:Rg}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:s,label:o}of i)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(ze(e))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===e?i:kC(r,e,Oe(i,e),this._addedLabels),EC(i,r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let e=this.min,i=this.max,r=this.options.offset,s=[],o=this.getLabels();o=e===0&&i===o.length-1?o:o.slice(e,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=i;l++)s.push({value:l});return s}getLabelForValue(e){return Rg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function AC(t,n){let e=[],{bounds:r,step:s,min:o,max:l,precision:d,count:f,maxTicks:g,maxDigits:_,includeBounds:w}=t,S=s||1,D=g-1,{min:T,max:A}=n,B=!ze(o),j=!ze(l),Z=!ze(f),ee=(A-T)/(_+1),Y=jd((A-T)/D/S)*S,Q,ae,J,me;if(Y<1e-14&&!B&&!j)return[{value:T},{value:A}];me=Math.ceil(A/Y)-Math.floor(T/Y),me>D&&(Y=jd(me*Y/D/S)*S),ze(d)||(Q=Math.pow(10,d),Y=Math.ceil(Y*Q)/Q),r==="ticks"?(ae=Math.floor(T/Y)*Y,J=Math.ceil(A/Y)*Y):(ae=T,J=A),B&&j&&s&&xm((l-o)/s,Y/1e3)?(me=Math.round(Math.min((l-o)/Y,g)),Y=(l-o)/me,ae=o,J=l):Z?(ae=B?o:ae,J=j?l:J,me=f-1,Y=(J-ae)/me):(me=(J-ae)/Y,No(me,Math.round(me),Y/1e3)?me=Math.round(me):me=Math.ceil(me));let Te=Math.max(Wd(Y),Wd(ae));Q=Math.pow(10,ze(d)?Te:d),ae=Math.round(ae*Q)/Q,J=Math.round(J*Q)/Q;let Me=0;for(B&&(w&&ae!==o?(e.push({value:o}),ae<o&&Me++,No(Math.round((ae+Me*Y)*Q)/Q,o,Vg(o,ee,t))&&Me++):ae<o&&Me++);Me<me;++Me){let Re=Math.round((ae+Me*Y)*Q)/Q;if(j&&Re>l)break;e.push({value:Re})}return j&&w&&J!==l?e.length&&No(e[e.length-1].value,l,Vg(l,ee,t))?e[e.length-1].value=l:e.push({value:l}):(!j||J===l)&&e.push({value:J}),e}function Vg(t,n,{horizontal:e,minRotation:i}){let r=ni(i),s=(e?Math.sin(r):Math.cos(r))||.001,o=.75*n*(""+t).length;return Math.min(n/s,o)}var Uo=class extends ks{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,e){return ze(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this,o=d=>r=e?r:d,l=d=>s=i?s:d;if(n){let d=fi(r),f=fi(s);d<0&&f<0?l(0):d>0&&f>0&&o(0)}if(r===s){let d=s===0?1:Math.abs(s*.05);l(s+d),n||o(r-d)}this.min=r,this.max=s}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:e,stepSize:i}=n,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,e=n.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:n.bounds,min:n.min,max:n.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,o=AC(r,s);return n.bounds==="ticks"&&Bd(o,this,"value"),n.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let n=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&n.length){let r=(i-e)/Math.max(n.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(n){return Bo(n,this.chart.options.locale,this.options.ticks.format)}},Rh=class extends Uo{static id="linear";static defaults={ticks:{callback:Ga.formatters.numeric}};determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=At(n)?n:0,this.max=At(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),e=n?this.width:this.height,i=ni(this.options.ticks.minRotation),r=(n?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},rl=t=>Math.floor(er(t)),Ds=(t,n)=>Math.pow(10,rl(t)+n);function Lg(t){return t/Math.pow(10,rl(t))===1}function Ng(t,n,e){let i=Math.pow(10,e),r=Math.floor(t/i);return Math.ceil(n/i)-r}function PC(t,n){let e=n-t,i=rl(e);for(;Ng(t,n,i)>10;)i++;for(;Ng(t,n,i)<10;)i--;return Math.min(i,rl(t))}function OC(t,{min:n,max:e}){n=Sn(t.min,n);let i=[],r=rl(n),s=PC(n,e),o=s<0?Math.pow(10,Math.abs(s)):1,l=Math.pow(10,s),d=r>s?Math.pow(10,r):0,f=Math.round((n-d)*o)/o,g=Math.floor((n-d)/l/10)*l*10,_=Math.floor((f-g)/Math.pow(10,s)),w=Sn(t.min,Math.round((d+g+_*Math.pow(10,s))*o)/o);for(;w<e;)i.push({value:w,major:Lg(w),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(s++,_=2,o=s>=0?1:o),w=Math.round((d+g+_*Math.pow(10,s))*o)/o;let S=Sn(t.max,w);return i.push({value:S,major:Lg(S),significand:_}),i}var Vh=class extends ks{static id="logarithmic";static defaults={ticks:{callback:Ga.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,e){let i=Uo.prototype.parse.apply(this,[n,e]);if(i===0){this._zero=!0;return}return At(i)&&i>0?i:null}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=At(n)?Math.max(0,n):null,this.max=At(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!At(this._userMin)&&(this.min=n===Ds(this.min,0)?Ds(this.min,-1):Ds(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:e}=this.getUserBounds(),i=this.min,r=this.max,s=l=>i=n?i:l,o=l=>r=e?r:l;i===r&&(i<=0?(s(1),o(10)):(s(Ds(i,-1)),o(Ds(r,1)))),i<=0&&s(Ds(r,-1)),r<=0&&o(Ds(i,1)),this.min=i,this.max=r}buildTicks(){let n=this.options,e={min:this._userMin,max:this._userMax},i=OC(e,this);return n.bounds==="ticks"&&Bd(i,this,"value"),n.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(n){return n===void 0?"0":Bo(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=er(n),this._valueRange=er(this.max)-er(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(er(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let e=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+e*this._valueRange)}};function Lh(t){let n=t.ticks;if(n.display&&t.display){let e=Qt(n.backdropPadding);return Oe(n.font&&n.font.size,vt.font.size)+e.height}return 0}function FC(t,n,e){return e=mt(e)?e:[e],{w:Am(t,n.string,e),h:e.length*n.lineHeight}}function jg(t,n,e,i,r){return t===i||t===r?{start:n-e/2,end:n+e/2}:t<i||t>r?{start:n-e,end:n}:{start:n,end:n+e}}function IC(t){let n={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},e=Object.assign({},n),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,l=o.centerPointLabels?gt/s:0;for(let d=0;d<s;d++){let f=o.setContext(t.getPointLabelContext(d));r[d]=f.padding;let g=t.getPointPosition(d,t.drawingArea+r[d],l),_=Wt(f.font),w=FC(t.ctx,_,t._pointLabels[d]);i[d]=w;let S=Cn(t.getIndexAngle(d)+l),D=Math.round(Ac(S)),T=jg(D,g.x,w.w,0,180),A=jg(D,g.y,w.h,90,270);RC(e,n,S,T,A)}t.setCenterPoint(n.l-e.l,e.r-n.r,n.t-e.t,e.b-n.b),t._pointLabelItems=NC(t,i,r)}function RC(t,n,e,i,r){let s=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),l=0,d=0;i.start<n.l?(l=(n.l-i.start)/s,t.l=Math.min(t.l,n.l-l)):i.end>n.r&&(l=(i.end-n.r)/s,t.r=Math.max(t.r,n.r+l)),r.start<n.t?(d=(n.t-r.start)/o,t.t=Math.min(t.t,n.t-d)):r.end>n.b&&(d=(r.end-n.b)/o,t.b=Math.max(t.b,n.b+d))}function VC(t,n,e){let i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:l}=e,d=t.getPointPosition(n,i+r+o,s),f=Math.round(Ac(Cn(d.angle+Ft))),g=WC(d.y,l.h,f),_=jC(f),w=BC(d.x,l.w,_);return{visible:!0,x:d.x,y:g,textAlign:_,left:w,top:g,right:w+l.w,bottom:g+l.h}}function LC(t,n){if(!n)return!0;let{left:e,top:i,right:r,bottom:s}=t;return!(Di({x:e,y:i},n)||Di({x:e,y:s},n)||Di({x:r,y:i},n)||Di({x:r,y:s},n))}function NC(t,n,e){let i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:l}=s.pointLabels,d={extra:Lh(s)/2,additionalAngle:o?gt/r:0},f;for(let g=0;g<r;g++){d.padding=e[g],d.size=n[g];let _=VC(t,g,d);i.push(_),l==="auto"&&(_.visible=LC(_,f),_.visible&&(f=_))}return i}function jC(t){return t===0||t===180?"center":t<180?"left":"right"}function BC(t,n,e){return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function WC(t,n,e){return e===90||e===270?t-=n/2:(e>270||e<90)&&(t-=n),t}function HC(t,n,e){let{left:i,top:r,right:s,bottom:o}=e,{backdropColor:l}=n;if(!ze(l)){let d=Gr(n.borderRadius),f=Qt(n.backdropPadding);t.fillStyle=l;let g=i-f.left,_=r-f.top,w=s-i+f.width,S=o-r+f.height;Object.values(d).some(D=>D!==0)?(t.beginPath(),Wo(t,{x:g,y:_,w,h:S,radius:d}),t.fill()):t.fillRect(g,_,w,S)}}function zC(t,n){let{ctx:e,options:{pointLabels:i}}=t;for(let r=n-1;r>=0;r--){let s=t._pointLabelItems[r];if(!s.visible)continue;let o=i.setContext(t.getPointLabelContext(r));HC(e,o,s);let l=Wt(o.font),{x:d,y:f,textAlign:g}=s;Ur(e,t._pointLabels[r],d,f+l.lineHeight/2,l,{color:o.color,textAlign:g,textBaseline:"middle"})}}function d0(t,n,e,i){let{ctx:r}=t;if(e)r.arc(t.xCenter,t.yCenter,n,0,yt);else{let s=t.getPointPosition(0,n);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,n),r.lineTo(s.x,s.y)}}function YC(t,n,e,i,r){let s=t.ctx,o=n.circular,{color:l,lineWidth:d}=n;!o&&!i||!l||!d||e<0||(s.save(),s.strokeStyle=l,s.lineWidth=d,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),d0(t,e,o,i),s.closePath(),s.stroke(),s.restore())}function UC(t,n,e){return nr(t,{label:e,index:n,type:"pointLabel"})}var Nh=class extends Uo{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ga.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=Qt(Lh(this.options)/2),e=this.width=this.maxWidth-n.width,i=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+e/2+n.left),this.yCenter=Math.floor(this.top+i/2+n.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!1);this.min=At(n)&&!isNaN(n)?n:0,this.max=At(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Lh(this.options))}generateTickLabels(n){Uo.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((e,i)=>{let r=ft(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let n=this.options;n.display&&n.pointLabels.display?IC(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,e,i,r){this.xCenter+=Math.floor((n-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,e,i,r))}getIndexAngle(n){let e=yt/(this._pointLabels.length||1),i=this.options.startAngle||0;return Cn(n*e+ni(i))}getDistanceFromCenterForValue(n){if(ze(n))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*e:(n-this.min)*e}getValueForDistanceFromCenter(n){if(ze(n))return NaN;let e=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(n){let e=this._pointLabels||[];if(n>=0&&n<e.length){let i=e[n];return UC(this.getContext(),n,i)}}getPointPosition(n,e,i=0){let r=this.getIndexAngle(n)-Ft+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(n,e){return this.getPointPosition(n,this.getDistanceFromCenterForValue(e))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[n];return{left:e,top:i,right:r,bottom:s}}drawBackground(){let{backgroundColor:n,grid:{circular:e}}=this.options;if(n){let i=this.ctx;i.save(),i.beginPath(),d0(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=n,i.fill(),i.restore()}}drawGrid(){let n=this.ctx,e=this.options,{angleLines:i,grid:r,border:s}=e,o=this._pointLabels.length,l,d,f;if(e.pointLabels.display&&zC(this,o),r.display&&this.ticks.forEach((g,_)=>{if(_!==0||_===0&&this.min<0){d=this.getDistanceFromCenterForValue(g.value);let w=this.getContext(_),S=r.setContext(w),D=s.setContext(w);YC(this,S,d,o,D)}}),i.display){for(n.save(),l=o-1;l>=0;l--){let g=i.setContext(this.getPointLabelContext(l)),{color:_,lineWidth:w}=g;!w||!_||(n.lineWidth=w,n.strokeStyle=_,n.setLineDash(g.borderDash),n.lineDashOffset=g.borderDashOffset,d=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),f=this.getPointPosition(l,d),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(f.x,f.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let r=this.getIndexAngle(0),s,o;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(r),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((l,d)=>{if(d===0&&this.min>=0&&!e.reverse)return;let f=i.setContext(this.getContext(d)),g=Wt(f.font);if(s=this.getDistanceFromCenterForValue(this.ticks[d].value),f.showLabelBackdrop){n.font=g.string,o=n.measureText(l.label).width,n.fillStyle=f.backdropColor;let _=Qt(f.backdropPadding);n.fillRect(-o/2-_.left,-s-g.size/2-_.top,o+_.width,g.size+_.height)}Ur(n,l.label,0,-s,g,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),n.restore()}drawTitle(){}},iu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Dn=Object.keys(iu);function Bg(t,n){return t-n}function Wg(t,n){if(ze(n))return null;let e=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts,o=n;return typeof i=="function"&&(o=i(o)),At(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(r&&(o=r==="week"&&(Cs(s)||s===!0)?e.startOf(o,"isoWeek",s):e.startOf(o,r)),+o)}function Hg(t,n,e,i){let r=Dn.length;for(let s=Dn.indexOf(t);s<r-1;++s){let o=iu[Dn[s]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-n)/(l*o.size))<=i)return Dn[s]}return Dn[r-1]}function GC(t,n,e,i,r){for(let s=Dn.length-1;s>=Dn.indexOf(e);s--){let o=Dn[s];if(iu[o].common&&t._adapter.diff(r,i,o)>=n-1)return o}return Dn[e?Dn.indexOf(e):0]}function $C(t){for(let n=Dn.indexOf(t)+1,e=Dn.length;n<e;++n)if(iu[Dn[n]].common)return Dn[n]}function zg(t,n,e){if(!e)t[n]=!0;else if(e.length){let{lo:i,hi:r}=Pc(e,n),s=e[i]>=n?e[i]:e[r];t[s]=!0}}function KC(t,n,e,i){let r=t._adapter,s=+r.startOf(n[0].value,i),o=n[n.length-1].value,l,d;for(l=s;l<=o;l=+r.add(l,1,i))d=e[l],d>=0&&(n[d].major=!0);return n}function Yg(t,n,e){let i=[],r={},s=n.length,o,l;for(o=0;o<s;++o)l=n[o],r[l]=o,i.push({value:l,major:!1});return s===0||!e?i:KC(t,i,r,e)}var jh=(()=>{class t extends ks{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){let r=e.time||(e.time={}),s=this._adapter=new sx._date(e.adapters.date);s.init(i),Vo(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:Wg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,r=e.time.unit||"day",{min:s,max:o,minDefined:l,maxDefined:d}=this.getUserBounds();function f(g){!l&&!isNaN(g.min)&&(s=Math.min(s,g.min)),!d&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!l||!d)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),s=At(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=At(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){let e=this.options,i=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,l=this.max,d=Sm(s,o,l);return this._unit=i.unit||(r.autoSkip?Hg(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):GC(this,d.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:$C(this._unit),this.initOffsets(s),e.reverse&&d.reverse(),Yg(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,r=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?i=1-s:i=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);let l=e.length<3?.5:.25;i=Ht(i,0,l),r=Ht(r,0,l),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let e=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,l=o.unit||Hg(o.minUnit,i,r,this._getLabelCapacity(i)),d=Oe(s.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,g=Cs(f)||f===!0,_={},w=i,S,D;if(g&&(w=+e.startOf(w,"isoWeek",f)),w=+e.startOf(w,g?"day":l),e.diff(r,i,l)>1e5*d)throw new Error(i+" and "+r+" are too far apart with stepSize of "+d+" "+l);let T=s.ticks.source==="data"&&this.getDataTimestamps();for(S=w,D=0;S<r;S=+e.add(S,d,l),D++)zg(_,S,T);return(S===r||s.bounds==="ticks"||D===1)&&zg(_,S,T),Object.keys(_).sort(Bg).map(A=>+A)}getLabelForValue(e){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(e,r.tooltipFormat):i.format(e,r.displayFormats.datetime)}format(e,i){let s=this.options.time.displayFormats,o=this._unit,l=i||s[o];return this._adapter.format(e,l)}_tickFormatFunction(e,i,r,s){let o=this.options,l=o.ticks.callback;if(l)return ft(l,[e,i,r],this);let d=o.time.displayFormats,f=this._unit,g=this._majorUnit,_=f&&d[f],w=g&&d[g],S=r[i],D=g&&w&&S&&S.major;return this._adapter.format(e,s||(D?w:_))}generateTickLabels(e){let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],s.label=this._tickFormatFunction(s.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){let i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,r=this.ctx.measureText(e).width,s=ni(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),l=Math.sin(s),d=this._resolveTickFontOptions(0).size;return{w:r*o+d*l,h:r*l+d*o}}_getLabelCapacity(e){let i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(e,0,Yg(this,[e],this._majorUnit),s),l=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],i,r;if(e.length)return e;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)e=e.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,r;if(e.length)return e;let s=this.getLabels();for(i=0,r=s.length;i<r;++i)e.push(Wg(this,s[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Yd(e.sort(Bg))}}return t})();function Gc(t,n,e){let i=0,r=t.length-1,s,o,l,d;e?(n>=t[i].pos&&n<=t[r].pos&&({lo:i,hi:r}=Mi(t,"pos",n)),{pos:s,time:l}=t[i],{pos:o,time:d}=t[r]):(n>=t[i].time&&n<=t[r].time&&({lo:i,hi:r}=Mi(t,"time",n)),{time:s,pos:l}=t[i],{time:o,pos:d}=t[r]);let f=o-s;return f?l+(d-l)*(n-s)/f:l}var Bh=class extends jh{static id="timeseries";static defaults=jh.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(n);this._minPos=Gc(e,this.min),this._tableRange=Gc(e,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:e,max:i}=this,r=[],s=[],o,l,d,f,g;for(o=0,l=n.length;o<l;++o)f=n[o],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,l=r.length;o<l;++o)g=r[o+1],d=r[o-1],f=r[o],Math.round((g+d)/2)!==f&&s.push({time:f,pos:o/(l-1)});return s}_generate(){let n=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(n)||!i.length)&&i.splice(0,0,n),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?n=this.normalize(e.concat(i)):n=e.length?e:i,n=this._cache.all=n,n}getDecimalForValue(n){return(Gc(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let e=this._offsets,i=this.getDecimalForPixel(n)/e.factor-e.end;return Gc(this._table,i*this._tableRange+this._minPos,!0)}},qC=Object.freeze({__proto__:null,CategoryScale:TC,LinearScale:Rh,LogarithmicScale:Vh,RadialLinearScale:Nh,TimeScale:jh,TimeSeriesScale:Bh}),h0=[rx,Aw,MC,qC];var XC=["weeklyConsumptionChart"];function QC(t,n){if(t&1&&(R(0,"option",17),X(1),L()),t&2){let e=n.$implicit;ue("value",e.id),G(),ys(" ",e.name," (",e.type,") ")}}function ZC(t,n){if(t&1&&(R(0,"div",10)(1,"div",18)(2,"div",19),ve(3,"img",20),L(),R(4,"div")(5,"h2",21),X(6),L(),R(7,"p",5),X(8),L()()(),R(9,"div",22)(10,"div",23)(11,"p",24),X(12,"Peso"),L(),R(13,"p",25),X(14),L()(),R(15,"div",26)(16,"p",27),X(17,"Meta di\xE1ria"),L(),R(18,"p",25),X(19),L()(),R(20,"div",28)(21,"p",29),X(22,"Consumido"),L(),R(23,"p",25),X(24),L()()()()),t&2){let e,i,r,s=Ee();G(3),ue("src",s.getPetImage(),kr),G(3),qe(" ",(e=s.getSelectedPet())==null?null:e.name," "),G(2),ys(" ",(i=s.getSelectedPet())==null?null:i.breed," \u2022 ",(i=s.getSelectedPet())==null?null:i.age," anos "),G(6),qe("",(r=s.getSelectedPet())==null?null:r.weight," kg"),G(5),qe("",s.dailyGoal,"g"),G(5),qe("",s.consumedToday,"g")}}function JC(t,n){if(t&1&&(R(0,"div",32)(1,"div")(2,"p",33),X(3),L(),R(4,"p",34),X(5),Rn(6,"date"),L()(),R(7,"span",35),X(8),L()()),t&2){let e=n.$implicit;G(3),Ct(e.foodType),G(2),ys(" ",e.amount,"g \u2022 ",pf(6,4,e.time,"HH:mm")," "),G(3),Ct(e.mealType)}}function e1(t,n){if(t&1&&(R(0,"div",30),He(1,JC,9,7,"div",31),L()),t&2){let e=Ee();G(),ue("ngForOf",e.recentFeedings)}}function t1(t,n){t&1&&(R(0,"div",36),X(1," Nenhuma alimenta\xE7\xE3o registrada hoje "),L())}var f0=(()=>{class t{chartRef;pets=[{id:1,name:"Rex",type:"Cachorro",breed:"Golden Retriever",age:3,weight:28,image:"assets/dog1.jpg"},{id:2,name:"Mimi",type:"Gato",breed:"Siam\xEAs",age:2,weight:4.5,image:"assets/cat1.jpg"},{id:3,name:"Pipoca",type:"Coelho",breed:"Mini Lop",age:1,weight:1.8,image:"assets/rabbit1.jpg"}];selectedPet=1;dailyGoal=420;consumedToday=280;recentFeedings=[{id:1,foodType:"Ra\xE7\xE3o Premium",amount:120,time:new Date,mealType:"Almo\xE7o"},{id:2,foodType:"Petisco",amount:30,time:new Date(Date.now()-36e5),mealType:"Lanche"},{id:3,foodType:"Ra\xE7\xE3o Premium",amount:130,time:new Date(Date.now()-288e5),mealType:"Caf\xE9 da manh\xE3"}];chart;constructor(){tu.register(...h0)}ngOnInit(){this.createChart()}createChart(){let e=this.chartRef.nativeElement.getContext("2d");this.chart=new tu(e,{type:"bar",data:{labels:["Seg","Ter","Qua","Qui","Sex","S\xE1b","Dom"],datasets:[{label:"Consumo (g)",data:[320,400,280,420,390,250,380],backgroundColor:"#6366F1",borderRadius:4,borderSkipped:!1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,grid:{}},x:{grid:{display:!1}}},plugins:{legend:{display:!1}}}})}getSelectedPet(){return this.pets.find(e=>e.id===this.selectedPet)}getPetImage(){return this.getSelectedPet()?.image||"assets/default-pet.jpg"}onPetChange(){this.dailyGoal=this.getSelectedPet()?.type==="Cachorro"?420:this.getSelectedPet()?.type==="Gato"?80:50,this.consumedToday=Math.floor(this.dailyGoal*.6),this.updateChartData()}updateChartData(){if(this.chart){let e=this.getSelectedPet()?.id===1?[320,400,280,420,390,250,380]:this.getSelectedPet()?.id===2?[70,80,65,90,75,50,85]:[40,50,45,55,50,30,60];this.chart.data.datasets[0].data=e,this.chart.update()}}openAddFeedingModal(){console.log("Abrir modal de registro de alimenta\xE7\xE3o")}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-test"]],viewQuery:function(i,r){if(i&1&&Gi(XC,7),i&2){let s;$i(s=Ki())&&(r.chartRef=s.first)}},standalone:!0,features:[xe],decls:27,vars:5,consts:[["weeklyConsumptionChart",""],["noFeedings",""],[1,"min-h-screen","bg-gray-50","p-4"],[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-gray-600"],["for","pet-select",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","pet-select",1,"w-full","p-3","border","border-gray-300","rounded-lg","bg-white","shadow-sm","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","bg-white rounded-xl shadow-md p-4 mb-6",4,"ngIf"],[1,"bg-white","rounded-xl","shadow-md","p-4","mb-6"],[1,"font-medium","text-gray-800","mb-3"],[1,"h-48"],[1,"flex","justify-between","items-center","mb-3"],[1,"font-medium","text-gray-800"],[1,"text-indigo-600","font-medium","text-sm",3,"click"],["class","space-y-2",4,"ngIf","ngIfElse"],[3,"value"],[1,"flex","items-center","mb-3"],[1,"w-16","h-16","rounded-full","bg-indigo-100","flex","items-center","justify-center","mr-3","overflow-hidden"],["alt","Foto do pet",1,"w-full","h-full","object-cover",3,"src"],[1,"font-bold","text-lg","text-gray-800"],[1,"grid","grid-cols-3","gap-2","text-center"],[1,"bg-indigo-50","p-2","rounded-lg"],[1,"text-xs","text-indigo-600","font-medium"],[1,"font-bold"],[1,"bg-amber-50","p-2","rounded-lg"],[1,"text-xs","text-amber-600","font-medium"],[1,"bg-green-50","p-2","rounded-lg"],[1,"text-xs","text-green-600","font-medium"],[1,"space-y-2"],["class","bg-white rounded-lg shadow-sm p-3 flex justify-between items-center",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-sm","p-3","flex","justify-between","items-center"],[1,"font-medium"],[1,"text-sm","text-gray-500"],[1,"text-xs","px-2","py-1","bg-gray-100","rounded-full"],[1,"bg-white","rounded-lg","shadow-sm","p-4","text-center","text-gray-500"]],template:function(i,r){if(i&1){let s=Et();R(0,"div",2)(1,"header",3)(2,"h1",4),X(3,"Plano de Alimenta\xE7\xE3o"),L(),R(4,"p",5),X(5,"Acompanhe a nutri\xE7\xE3o do seu pet"),L()(),R(6,"div",3)(7,"label",6),X(8,"Selecione seu pet"),L(),R(9,"select",7),Zn("ngModelChange",function(l){return at(s),Qn(r.selectedPet,l)||(r.selectedPet=l),lt(l)}),pe("change",function(){return at(s),lt(r.onPetChange())}),He(10,QC,2,3,"option",8),L()(),He(11,ZC,25,7,"div",9),R(12,"div",10)(13,"h3",11),X(14,"Consumo esta semana"),L(),R(15,"div",12),ve(16,"canvas",null,0),L()(),R(18,"div",3)(19,"div",13)(20,"h3",14),X(21,"\xDAltimas alimenta\xE7\xF5es"),L(),R(22,"button",15),pe("click",function(){return at(s),lt(r.openAddFeedingModal())}),X(23," + Registrar "),L()(),He(24,e1,2,1,"div",16)(25,t1,2,0,"ng-template",null,1,gf),L()()}if(i&2){let s=ff(26);G(9),Xn("ngModel",r.selectedPet),G(),ue("ngForOf",r.pets),G(),ue("ngIf",r.selectedPet),G(13),ue("ngIf",r.recentFeedings.length>0)("ngIfElse",s)}},dependencies:[Ie,_f,xf,wf,Bt,cc,uc,Mo,dt,dn]})}return t})();var p0=[{path:"",pathMatch:"full",redirectTo:"login/introducao"},{path:"test",component:f0},{path:"alimentacao",loadComponent:()=>import("./chunk-PYLACZF4.js").then(t=>t.FeedingLayoutComponent),children:[{path:"home",component:Bp},{path:"pets",component:Wp},{path:"pet/:id",component:Ed},{path:"pet",component:Ed},{path:"plano/:petId",component:Fp}]},{path:"login",loadComponent:()=>import("./chunk-6AI2AIM3.js").then(t=>t.LoginLayoutComponent),children:[{path:"introducao",component:zp},{path:"meu-pet",component:Xp},{path:"perfil",component:Zp},{path:"confirmacao",component:Hp},{path:"sign",component:qp}]}];var m0=(()=>{class t{http;constructor(e){this.http=e}getTranslation(e){return this.http.get(`/assets/i18n/${e}.json`)}static \u0275fac=function(i){return new(i||t)(un(bo))};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var g0={providers:[vf({eventCoalescing:!0}),Pf(p0),Df(kf()),Nf({config:{availableLangs:["pt-BR","en"],defaultLang:"pt-BR",reRenderOnLangChange:!0,prodMode:!od()},loader:m0}),If("ngsw-worker.js",{enabled:!od(),registrationStrategy:"registerWhenStable:30000"}),af(Vf.forRoot({config:{tokenGetter:()=>ye(Vr).get(Xi.token),allowedDomains:[Kl.apiUrl,"localhost:3000"],disallowedRoutes:[Kl.apiUrl+"login",Kl.apiUrl+"register"]}}))]};var y0=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_e({type:t,selectors:[["app-root"]],standalone:!0,features:[xe],decls:1,vars:0,template:function(i,r){i&1&&ve(0,"router-outlet")},dependencies:[Af,Ie],encapsulation:2})}return t})();Ef(y0,g0).catch(t=>console.error(t));
