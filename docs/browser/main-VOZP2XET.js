import{$ as ke,A as fo,Aa as wo,B as Be,Ba as Ru,C as Ee,Ca as vs,D as jn,Da as Bn,E as Oe,Ea as Wa,F as Qe,Fa as Pu,G as Ie,Ga as ci,H as Ce,Ha as It,I as Yn,Ia as Ga,J as Xe,Ja as Nu,K as mn,Ka as di,L as Eu,La as Co,M as ps,Ma as Lu,N as ho,Na as ju,O as ms,Oa as Yu,P as kt,Pa as Bu,Q as ai,Qa as Uu,R as Ou,Ra as Un,S as ui,Sa as Wu,T as ja,U as oe,V as ae,W as ku,X as li,Y as Gt,Z as Qt,_ as At,a as ye,aa as gs,b as gt,ba as Ge,c as gu,ca as Au,d as vu,da as Tu,e as yu,ea as Iu,f as _u,fa as J,g as Nn,ga as te,h as lo,ha as et,i as bu,ia as we,j as co,ja as lt,k as Ln,ka as po,l as wu,la as mo,m as Wt,ma as fe,n as Pa,na as Tt,o as Cu,oa as go,p as ds,pa as vo,q as Du,qa as yo,r as Na,ra as _o,s as La,sa as Ue,t as oi,ta as De,u as fs,ua as bo,v as hr,va as Fu,w as Su,wa as Ya,x as Mu,xa as Ba,y as hs,ya as Vu,z as xu,za as Ua}from"./chunk-65JC2B57.js";var Pl=yu((su,Mi)=>{"use strict";(function(a,o){typeof su=="object"&&typeof Mi<"u"?Mi.exports=o():typeof define=="function"&&define.amd?define(o):a.moment=o()})(su,function(){"use strict";var a;function o(){return a.apply(null,arguments)}function i(e){a=e}function f(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function g(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function S(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function I(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var r;for(r in e)if(S(e,r))return!1;return!0}function G(e){return e===void 0}function ue(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Re(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function me(e,r){var u=[],d,p=e.length;for(d=0;d<p;++d)u.push(r(e[d],d));return u}function Pe(e,r){for(var u in r)S(r,u)&&(e[u]=r[u]);return S(r,"toString")&&(e.toString=r.toString),S(r,"valueOf")&&(e.valueOf=r.valueOf),e}function dt(e,r,u,d){return ur(e,r,u,d,!0).utc()}function Ht(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Q(e){return e._pf==null&&(e._pf=Ht()),e._pf}var Oi;Array.prototype.some?Oi=Array.prototype.some:Oi=function(e){var r=Object(this),u=r.length>>>0,d;for(d=0;d<u;d++)if(d in r&&e.call(this,r[d],d,r))return!0;return!1};function vr(e){var r=null,u=!1,d=e._d&&!isNaN(e._d.getTime());if(d&&(r=Q(e),u=Oi.call(r.parsedDateParts,function(p){return p!=null}),d=r.overflow<0&&!r.empty&&!r.invalidEra&&!r.invalidMonth&&!r.invalidWeekday&&!r.weekdayMismatch&&!r.nullInput&&!r.invalidFormat&&!r.userInvalidated&&(!r.meridiem||r.meridiem&&u),e._strict&&(d=d&&r.charsLeftOver===0&&r.unusedTokens.length===0&&r.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=d;else return d;return e._isValid}function yr(e){var r=dt(NaN);return e!=null?Pe(Q(r),e):Q(r).userInvalidated=!0,r}var Hn=o.momentProperties=[],_r=!1;function Xt(e,r){var u,d,p,b=Hn.length;if(G(r._isAMomentObject)||(e._isAMomentObject=r._isAMomentObject),G(r._i)||(e._i=r._i),G(r._f)||(e._f=r._f),G(r._l)||(e._l=r._l),G(r._strict)||(e._strict=r._strict),G(r._tzm)||(e._tzm=r._tzm),G(r._isUTC)||(e._isUTC=r._isUTC),G(r._offset)||(e._offset=r._offset),G(r._pf)||(e._pf=Q(r)),G(r._locale)||(e._locale=r._locale),b>0)for(u=0;u<b;u++)d=Hn[u],p=r[d],G(p)||(e[d]=p);return e}function gn(e){Xt(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),_r===!1&&(_r=!0,o.updateOffset(this),_r=!1)}function ft(e){return e instanceof gn||e!=null&&e._isAMomentObject!=null}function vt(e){o.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function _e(e,r){var u=!0;return Pe(function(){if(o.deprecationHandler!=null&&o.deprecationHandler(null,e),u){var d=[],p,b,E,H=arguments.length;for(b=0;b<H;b++){if(p="",typeof arguments[b]=="object"){p+=`
[`+b+"] ";for(E in arguments[0])S(arguments[0],E)&&(p+=E+": "+arguments[0][E]+", ");p=p.slice(0,-2)}else p=arguments[b];d.push(p)}vt(e+`
Arguments: `+Array.prototype.slice.call(d).join("")+`
`+new Error().stack),u=!1}return r.apply(this,arguments)},r)}var xs={};function ki(e,r){o.deprecationHandler!=null&&o.deprecationHandler(e,r),xs[e]||(vt(r),xs[e]=!0)}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null;function yt(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Es(e){var r,u;for(u in e)S(e,u)&&(r=e[u],yt(r)?this[u]=r:this["_"+u]=r);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ai(e,r){var u=Pe({},e),d;for(d in r)S(r,d)&&(g(e[d])&&g(r[d])?(u[d]={},Pe(u[d],e[d]),Pe(u[d],r[d])):r[d]!=null?u[d]=r[d]:delete u[d]);for(d in e)S(e,d)&&!S(r,d)&&g(e[d])&&(u[d]=Pe({},u[d]));return u}function br(e){e!=null&&this.set(e)}var wr;Object.keys?wr=Object.keys:wr=function(e){var r,u=[];for(r in e)S(e,r)&&u.push(r);return u};var Yo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Kn(e,r,u){var d=this._calendar[e]||this._calendar.sameElse;return yt(d)?d.call(r,u):d}function Ne(e,r,u){var d=""+Math.abs(e),p=r-d.length,b=e>=0;return(b?u?"+":"":"-")+Math.pow(10,Math.max(0,p)).toString().substr(1)+d}var $n=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Cr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,zn={},Kt={};function K(e,r,u,d){var p=d;typeof d=="string"&&(p=function(){return this[d]()}),e&&(Kt[e]=p),r&&(Kt[r[0]]=function(){return Ne(p.apply(this,arguments),r[1],r[2])}),u&&(Kt[u]=function(){return this.localeData().ordinal(p.apply(this,arguments),e)})}function en(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function vn(e){var r=e.match($n),u,d;for(u=0,d=r.length;u<d;u++)Kt[r[u]]?r[u]=Kt[r[u]]:r[u]=en(r[u]);return function(p){var b="",E;for(E=0;E<d;E++)b+=yt(r[E])?r[E].call(p,e):r[E];return b}}function it(e,r){return e.isValid()?(r=Dr(r,e.localeData()),zn[r]=zn[r]||vn(r),zn[r](e)):e.localeData().invalidDate()}function Dr(e,r){var u=5;function d(p){return r.longDateFormat(p)||p}for(Cr.lastIndex=0;u>=0&&Cr.test(e);)e=e.replace(Cr,d),Cr.lastIndex=0,u-=1;return e}var Bo={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Os(e){var r=this._longDateFormat[e],u=this._longDateFormat[e.toUpperCase()];return r||!u?r:(this._longDateFormat[e]=u.match($n).map(function(d){return d==="MMMM"||d==="MM"||d==="DD"||d==="dddd"?d.slice(1):d}).join(""),this._longDateFormat[e])}var Ti="Invalid date";function Uo(){return this._invalidDate}var yn="%d",ks=/\d{1,2}/;function Sr(e){return this._ordinal.replace("%d",e)}var _n={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ii(e,r,u,d){var p=this._relativeTime[u];return yt(p)?p(e,r,u,d):p.replace(/%d/i,e)}function Wo(e,r){var u=this._relativeTime[e>0?"future":"past"];return yt(u)?u(r):u.replace(/%s/i,r)}var z={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function He(e){return typeof e=="string"?z[e]||z[e.toLowerCase()]:void 0}function Fi(e){var r={},u,d;for(d in e)S(e,d)&&(u=He(d),u&&(r[u]=e[d]));return r}var Mr={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function he(e){var r=[],u;for(u in e)S(e,u)&&r.push({unit:u,priority:Mr[u]});return r.sort(function(d,p){return d.priority-p.priority}),r}var bn=/\d/,Ke=/\d\d/,$t=/\d{3}/,Vi=/\d{4}/,xr=/[+-]?\d{6}/,ve=/\d\d?/,As=/\d\d\d\d?/,Er=/\d\d\d\d\d\d?/,$e=/\d{1,3}/,Or=/\d{1,4}/,zt=/[+-]?\d{1,6}/,tn=/\d+/,wn=/[+-]?\d+/,Ts=/Z|[+-]\d\d:?\d\d/gi,qn=/Z|[+-]\d\d(?::?\d\d)?/gi,Go=/[+-]?\d+(\.\d{1,3})?/,Zn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,st=/^[1-9]\d?/,Jn=/^([1-9]\d|\d)/,kr;kr={};function U(e,r,u){kr[e]=yt(r)?r:function(d,p){return d&&u?u:r}}function Ri(e,r){return S(kr,e)?kr[e](r._strict,r._locale):new RegExp(Ar(e))}function Ar(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(r,u,d,p,b){return u||d||p||b}))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ye(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function re(e){var r=+e,u=0;return r!==0&&isFinite(r)&&(u=Ye(r)),u}var _t={};function L(e,r){var u,d=r,p;for(typeof e=="string"&&(e=[e]),ue(r)&&(d=function(b,E){E[r]=re(b)}),p=e.length,u=0;u<p;u++)_t[e[u]]=d}function Vt(e,r){L(e,function(u,d,p,b){p._w=p._w||{},r(u,p._w,p,b)})}function nn(e,r,u){r!=null&&S(_t,e)&&_t[e](r,u._a,u,e)}function rn(e){return e%4===0&&e%100!==0||e%400===0}var N=0,ht=1,pt=2,Ae=3,ze=4,bt=5,Rt=6,Ho=7,Ko=8;K("Y",0,0,function(){var e=this.year();return e<=9999?Ne(e,4):"+"+e}),K(0,["YY",2],0,function(){return this.year()%100}),K(0,["YYYY",4],0,"year"),K(0,["YYYYY",5],0,"year"),K(0,["YYYYYY",6,!0],0,"year"),U("Y",wn),U("YY",ve,Ke),U("YYYY",Or,Vi),U("YYYYY",zt,xr),U("YYYYYY",zt,xr),L(["YYYYY","YYYYYY"],N),L("YYYY",function(e,r){r[N]=e.length===2?o.parseTwoDigitYear(e):re(e)}),L("YY",function(e,r){r[N]=o.parseTwoDigitYear(e)}),L("Y",function(e,r){r[N]=parseInt(e,10)});function wt(e){return rn(e)?366:365}o.parseTwoDigitYear=function(e){return re(e)+(re(e)>68?1900:2e3)};var sn=Cn("FullYear",!0);function Pi(){return rn(this.year())}function Cn(e,r){return function(u){return u!=null?(Is(this,e,u),o.updateOffset(this,r),this):Qn(this,e)}}function Qn(e,r){if(!e.isValid())return NaN;var u=e._d,d=e._isUTC;switch(r){case"Milliseconds":return d?u.getUTCMilliseconds():u.getMilliseconds();case"Seconds":return d?u.getUTCSeconds():u.getSeconds();case"Minutes":return d?u.getUTCMinutes():u.getMinutes();case"Hours":return d?u.getUTCHours():u.getHours();case"Date":return d?u.getUTCDate():u.getDate();case"Day":return d?u.getUTCDay():u.getDay();case"Month":return d?u.getUTCMonth():u.getMonth();case"FullYear":return d?u.getUTCFullYear():u.getFullYear();default:return NaN}}function Is(e,r,u){var d,p,b,E,H;if(!(!e.isValid()||isNaN(u))){switch(d=e._d,p=e._isUTC,r){case"Milliseconds":return void(p?d.setUTCMilliseconds(u):d.setMilliseconds(u));case"Seconds":return void(p?d.setUTCSeconds(u):d.setSeconds(u));case"Minutes":return void(p?d.setUTCMinutes(u):d.setMinutes(u));case"Hours":return void(p?d.setUTCHours(u):d.setHours(u));case"Date":return void(p?d.setUTCDate(u):d.setDate(u));case"FullYear":break;default:return}b=u,E=e.month(),H=e.date(),H=H===29&&E===1&&!rn(b)?28:H,p?d.setUTCFullYear(b,E,H):d.setFullYear(b,E,H)}}function Tr(e){return e=He(e),yt(this[e])?this[e]():this}function be(e,r){if(typeof e=="object"){e=Fi(e);var u=he(e),d,p=u.length;for(d=0;d<p;d++)this[u[d].unit](e[u[d].unit])}else if(e=He(e),yt(this[e]))return this[e](r);return this}function Fe(e,r){return(e%r+r)%r}var xe;Array.prototype.indexOf?xe=Array.prototype.indexOf:xe=function(e){var r;for(r=0;r<this.length;++r)if(this[r]===e)return r;return-1};function Dn(e,r){if(isNaN(e)||isNaN(r))return NaN;var u=Fe(r,12);return e+=(r-u)/12,u===1?rn(e)?29:28:31-u%7%2}K("M",["MM",2],"Mo",function(){return this.month()+1}),K("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),K("MMMM",0,0,function(e){return this.localeData().months(this,e)}),U("M",ve,st),U("MM",ve,Ke),U("MMM",function(e,r){return r.monthsShortRegex(e)}),U("MMMM",function(e,r){return r.monthsRegex(e)}),L(["M","MM"],function(e,r){r[ht]=re(e)-1}),L(["MMM","MMMM"],function(e,r,u,d){var p=u._locale.monthsParse(e,d,u._strict);p!=null?r[ht]=p:Q(u).invalidMonth=e});var Ir="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Fs=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qt=Zn,Sn=Zn;function Zt(e,r){return e?f(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Fs).test(r)?"format":"standalone"][e.month()]:f(this._months)?this._months:this._months.standalone}function Fr(e,r){return e?f(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Fs.test(r)?"format":"standalone"][e.month()]:f(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function $o(e,r,u){var d,p,b,E=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)b=dt([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(b,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(b,"").toLocaleLowerCase();return u?r==="MMM"?(p=xe.call(this._shortMonthsParse,E),p!==-1?p:null):(p=xe.call(this._longMonthsParse,E),p!==-1?p:null):r==="MMM"?(p=xe.call(this._shortMonthsParse,E),p!==-1?p:(p=xe.call(this._longMonthsParse,E),p!==-1?p:null)):(p=xe.call(this._longMonthsParse,E),p!==-1?p:(p=xe.call(this._shortMonthsParse,E),p!==-1?p:null))}function zo(e,r,u){var d,p,b;if(this._monthsParseExact)return $o.call(this,e,r,u);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(p=dt([2e3,d]),u&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(p,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(p,"").replace(".","")+"$","i")),!u&&!this._monthsParse[d]&&(b="^"+this.months(p,"")+"|^"+this.monthsShort(p,""),this._monthsParse[d]=new RegExp(b.replace(".",""),"i")),u&&r==="MMMM"&&this._longMonthsParse[d].test(e))return d;if(u&&r==="MMM"&&this._shortMonthsParse[d].test(e))return d;if(!u&&this._monthsParse[d].test(e))return d}}function Pt(e,r){if(!e.isValid())return e;if(typeof r=="string"){if(/^\d+$/.test(r))r=re(r);else if(r=e.localeData().monthsParse(r),!ue(r))return e}var u=r,d=e.date();return d=d<29?d:Math.min(d,Dn(e.year(),u)),e._isUTC?e._d.setUTCMonth(u,d):e._d.setMonth(u,d),e}function Ni(e){return e!=null?(Pt(this,e),o.updateOffset(this,!0),this):Qn(this,"Month")}function on(){return Dn(this.year(),this.month())}function Vs(e){return this._monthsParseExact?(S(this,"_monthsRegex")||Se.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(S(this,"_monthsShortRegex")||(this._monthsShortRegex=qt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Li(e){return this._monthsParseExact?(S(this,"_monthsRegex")||Se.call(this),e?this._monthsStrictRegex:this._monthsRegex):(S(this,"_monthsRegex")||(this._monthsRegex=Sn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Se(){function e(X,le){return le.length-X.length}var r=[],u=[],d=[],p,b,E,H;for(p=0;p<12;p++)b=dt([2e3,p]),E=je(this.monthsShort(b,"")),H=je(this.months(b,"")),r.push(E),u.push(H),d.push(H),d.push(E);r.sort(e),u.sort(e),d.sort(e),this._monthsRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ji(e,r,u,d,p,b,E){var H;return e<100&&e>=0?(H=new Date(e+400,r,u,d,p,b,E),isFinite(H.getFullYear())&&H.setFullYear(e)):H=new Date(e,r,u,d,p,b,E),H}function Mn(e){var r,u;return e<100&&e>=0?(u=Array.prototype.slice.call(arguments),u[0]=e+400,r=new Date(Date.UTC.apply(null,u)),isFinite(r.getUTCFullYear())&&r.setUTCFullYear(e)):r=new Date(Date.UTC.apply(null,arguments)),r}function Ct(e,r,u){var d=7+r-u,p=(7+Mn(e,0,d).getUTCDay()-r)%7;return-p+d-1}function Vr(e,r,u,d,p){var b=(7+u-d)%7,E=Ct(e,d,p),H=1+7*(r-1)+b+E,X,le;return H<=0?(X=e-1,le=wt(X)+H):H>wt(e)?(X=e+1,le=H-wt(e)):(X=e,le=H),{year:X,dayOfYear:le}}function qe(e,r,u){var d=Ct(e.year(),r,u),p=Math.floor((e.dayOfYear()-d-1)/7)+1,b,E;return p<1?(E=e.year()-1,b=p+Dt(E,r,u)):p>Dt(e.year(),r,u)?(b=p-Dt(e.year(),r,u),E=e.year()+1):(E=e.year(),b=p),{week:b,year:E}}function Dt(e,r,u){var d=Ct(e,r,u),p=Ct(e+1,r,u);return(wt(e)-d+p)/7}K("w",["ww",2],"wo","week"),K("W",["WW",2],"Wo","isoWeek"),U("w",ve,st),U("ww",ve,Ke),U("W",ve,st),U("WW",ve,Ke),Vt(["w","ww","W","WW"],function(e,r,u,d){r[d.substr(0,1)]=re(e)});function xn(e){return qe(e,this._week.dow,this._week.doy).week}var Rr={dow:0,doy:6};function Yi(){return this._week.dow}function Bi(){return this._week.doy}function an(e){var r=this.localeData().week(this);return e==null?r:this.add((e-r)*7,"d")}function Rs(e){var r=qe(this,1,4).week;return e==null?r:this.add((e-r)*7,"d")}K("d",0,"do","day"),K("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),K("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),K("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),K("e",0,0,"weekday"),K("E",0,0,"isoWeekday"),U("d",ve),U("e",ve),U("E",ve),U("dd",function(e,r){return r.weekdaysMinRegex(e)}),U("ddd",function(e,r){return r.weekdaysShortRegex(e)}),U("dddd",function(e,r){return r.weekdaysRegex(e)}),Vt(["dd","ddd","dddd"],function(e,r,u,d){var p=u._locale.weekdaysParse(e,d,u._strict);p!=null?r.d=p:Q(u).invalidWeekday=e}),Vt(["d","e","E"],function(e,r,u,d){r[d]=re(e)});function Pr(e,r){return typeof e!="string"?e:isNaN(e)?(e=r.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Ps(e,r){return typeof e=="string"?r.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ie(e,r){return e.slice(r,7).concat(e.slice(0,r))}var qo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ns="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ls="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),js=Zn,Ys=Zn,er=Zn;function tr(e,r){var u=f(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(r)?"format":"standalone"];return e===!0?ie(u,this._week.dow):e?u[e.day()]:u}function Zo(e){return e===!0?ie(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function En(e){return e===!0?ie(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ui(e,r,u){var d,p,b,E=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)b=dt([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(b,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(b,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(b,"").toLocaleLowerCase();return u?r==="dddd"?(p=xe.call(this._weekdaysParse,E),p!==-1?p:null):r==="ddd"?(p=xe.call(this._shortWeekdaysParse,E),p!==-1?p:null):(p=xe.call(this._minWeekdaysParse,E),p!==-1?p:null):r==="dddd"?(p=xe.call(this._weekdaysParse,E),p!==-1||(p=xe.call(this._shortWeekdaysParse,E),p!==-1)?p:(p=xe.call(this._minWeekdaysParse,E),p!==-1?p:null)):r==="ddd"?(p=xe.call(this._shortWeekdaysParse,E),p!==-1||(p=xe.call(this._weekdaysParse,E),p!==-1)?p:(p=xe.call(this._minWeekdaysParse,E),p!==-1?p:null)):(p=xe.call(this._minWeekdaysParse,E),p!==-1||(p=xe.call(this._weekdaysParse,E),p!==-1)?p:(p=xe.call(this._shortWeekdaysParse,E),p!==-1?p:null))}function Wi(e,r,u){var d,p,b;if(this._weekdaysParseExact)return Ui.call(this,e,r,u);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(p=dt([2e3,1]).day(d),u&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(p,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(p,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(p,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[d]||(b="^"+this.weekdays(p,"")+"|^"+this.weekdaysShort(p,"")+"|^"+this.weekdaysMin(p,""),this._weekdaysParse[d]=new RegExp(b.replace(".",""),"i")),u&&r==="dddd"&&this._fullWeekdaysParse[d].test(e))return d;if(u&&r==="ddd"&&this._shortWeekdaysParse[d].test(e))return d;if(u&&r==="dd"&&this._minWeekdaysParse[d].test(e))return d;if(!u&&this._weekdaysParse[d].test(e))return d}}function Jo(e){if(!this.isValid())return e!=null?this:NaN;var r=Qn(this,"Day");return e!=null?(e=Pr(e,this.localeData()),this.add(e-r,"d")):r}function Nr(e){if(!this.isValid())return e!=null?this:NaN;var r=(this.day()+7-this.localeData()._week.dow)%7;return e==null?r:this.add(e-r,"d")}function Bs(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var r=Ps(e,this.localeData());return this.day(this.day()%7?r:r-7)}else return this.day()||7}function Lr(e){return this._weekdaysParseExact?(S(this,"_weekdaysRegex")||Gi.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(S(this,"_weekdaysRegex")||(this._weekdaysRegex=js),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Us(e){return this._weekdaysParseExact?(S(this,"_weekdaysRegex")||Gi.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(S(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ys),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function nr(e){return this._weekdaysParseExact?(S(this,"_weekdaysRegex")||Gi.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(S(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=er),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Gi(){function e(Je,pn){return pn.length-Je.length}var r=[],u=[],d=[],p=[],b,E,H,X,le;for(b=0;b<7;b++)E=dt([2e3,1]).day(b),H=je(this.weekdaysMin(E,"")),X=je(this.weekdaysShort(E,"")),le=je(this.weekdays(E,"")),r.push(H),u.push(X),d.push(le),p.push(H),p.push(X),p.push(le);r.sort(e),u.sort(e),d.sort(e),p.sort(e),this._weekdaysRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function rr(){return this.hours()%12||12}function Qo(){return this.hours()||24}K("H",["HH",2],0,"hour"),K("h",["hh",2],0,rr),K("k",["kk",2],0,Qo),K("hmm",0,0,function(){return""+rr.apply(this)+Ne(this.minutes(),2)}),K("hmmss",0,0,function(){return""+rr.apply(this)+Ne(this.minutes(),2)+Ne(this.seconds(),2)}),K("Hmm",0,0,function(){return""+this.hours()+Ne(this.minutes(),2)}),K("Hmmss",0,0,function(){return""+this.hours()+Ne(this.minutes(),2)+Ne(this.seconds(),2)});function Ws(e,r){K(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),r)})}Ws("a",!0),Ws("A",!1);function Gs(e,r){return r._meridiemParse}U("a",Gs),U("A",Gs),U("H",ve,Jn),U("h",ve,st),U("k",ve,st),U("HH",ve,Ke),U("hh",ve,Ke),U("kk",ve,Ke),U("hmm",As),U("hmmss",Er),U("Hmm",As),U("Hmmss",Er),L(["H","HH"],Ae),L(["k","kk"],function(e,r,u){var d=re(e);r[Ae]=d===24?0:d}),L(["a","A"],function(e,r,u){u._isPm=u._locale.isPM(e),u._meridiem=e}),L(["h","hh"],function(e,r,u){r[Ae]=re(e),Q(u).bigHour=!0}),L("hmm",function(e,r,u){var d=e.length-2;r[Ae]=re(e.substr(0,d)),r[ze]=re(e.substr(d)),Q(u).bigHour=!0}),L("hmmss",function(e,r,u){var d=e.length-4,p=e.length-2;r[Ae]=re(e.substr(0,d)),r[ze]=re(e.substr(d,2)),r[bt]=re(e.substr(p)),Q(u).bigHour=!0}),L("Hmm",function(e,r,u){var d=e.length-2;r[Ae]=re(e.substr(0,d)),r[ze]=re(e.substr(d))}),L("Hmmss",function(e,r,u){var d=e.length-4,p=e.length-2;r[Ae]=re(e.substr(0,d)),r[ze]=re(e.substr(d,2)),r[bt]=re(e.substr(p))});function Ze(e){return(e+"").toLowerCase().charAt(0)==="p"}var On=/[ap]\.?m?\.?/i,Xo=Cn("Hours",!0);function ea(e,r,u){return e>11?u?"pm":"PM":u?"am":"AM"}var Hs={calendar:Yo,longDateFormat:Bo,invalidDate:Ti,ordinal:yn,dayOfMonthOrdinalParse:ks,relativeTime:_n,months:Ir,monthsShort:Xn,week:Rr,weekdays:qo,weekdaysMin:Ls,weekdaysShort:Ns,meridiemParse:On},pe={},ot={},kn;function Ks(e,r){var u,d=Math.min(e.length,r.length);for(u=0;u<d;u+=1)if(e[u]!==r[u])return u;return d}function $s(e){return e&&e.toLowerCase().replace("_","-")}function St(e){for(var r=0,u,d,p,b;r<e.length;){for(b=$s(e[r]).split("-"),u=b.length,d=$s(e[r+1]),d=d?d.split("-"):null;u>0;){if(p=Jt(b.slice(0,u).join("-")),p)return p;if(d&&d.length>=u&&Ks(b,d)>=u-1)break;u--}r++}return kn}function ir(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Jt(e){var r=null,u;if(pe[e]===void 0&&typeof Mi<"u"&&Mi&&Mi.exports&&ir(e))try{r=kn._abbr,u=gu,u("./locale/"+e),Mt(r)}catch{pe[e]=null}return pe[e]}function Mt(e,r){var u;return e&&(G(r)?u=Nt(e):u=xt(e,r),u?kn=u:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),kn._abbr}function xt(e,r){if(r!==null){var u,d=Hs;if(r.abbr=e,pe[e]!=null)ki("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=pe[e]._config;else if(r.parentLocale!=null)if(pe[r.parentLocale]!=null)d=pe[r.parentLocale]._config;else if(u=Jt(r.parentLocale),u!=null)d=u._config;else return ot[r.parentLocale]||(ot[r.parentLocale]=[]),ot[r.parentLocale].push({name:e,config:r}),null;return pe[e]=new br(Ai(d,r)),ot[e]&&ot[e].forEach(function(p){xt(p.name,p.config)}),Mt(e),pe[e]}else return delete pe[e],null}function ta(e,r){if(r!=null){var u,d,p=Hs;pe[e]!=null&&pe[e].parentLocale!=null?pe[e].set(Ai(pe[e]._config,r)):(d=Jt(e),d!=null&&(p=d._config),r=Ai(p,r),d==null&&(r.abbr=e),u=new br(r),u.parentLocale=pe[e],pe[e]=u),Mt(e)}else pe[e]!=null&&(pe[e].parentLocale!=null?(pe[e]=pe[e].parentLocale,e===Mt()&&Mt(e)):pe[e]!=null&&delete pe[e]);return pe[e]}function Nt(e){var r;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return kn;if(!f(e)){if(r=Jt(e),r)return r;e=[e]}return St(e)}function Hi(){return wr(pe)}function jr(e){var r,u=e._a;return u&&Q(e).overflow===-2&&(r=u[ht]<0||u[ht]>11?ht:u[pt]<1||u[pt]>Dn(u[N],u[ht])?pt:u[Ae]<0||u[Ae]>24||u[Ae]===24&&(u[ze]!==0||u[bt]!==0||u[Rt]!==0)?Ae:u[ze]<0||u[ze]>59?ze:u[bt]<0||u[bt]>59?bt:u[Rt]<0||u[Rt]>999?Rt:-1,Q(e)._overflowDayOfYear&&(r<N||r>pt)&&(r=pt),Q(e)._overflowWeeks&&r===-1&&(r=Ho),Q(e)._overflowWeekday&&r===-1&&(r=Ko),Q(e).overflow=r),e}var Ki=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,na=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sr=/Z|[+-]\d\d(?::?\d\d)?/,An=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],$i=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],zs=/^\/?Date\((-?\d+)/i,ra=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,or={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function qs(e){var r,u,d=e._i,p=Ki.exec(d)||na.exec(d),b,E,H,X,le=An.length,Je=$i.length;if(p){for(Q(e).iso=!0,r=0,u=le;r<u;r++)if(An[r][1].exec(p[1])){E=An[r][0],b=An[r][2]!==!1;break}if(E==null){e._isValid=!1;return}if(p[3]){for(r=0,u=Je;r<u;r++)if($i[r][1].exec(p[3])){H=(p[2]||" ")+$i[r][0];break}if(H==null){e._isValid=!1;return}}if(!b&&H!=null){e._isValid=!1;return}if(p[4])if(sr.exec(p[4]))X="Z";else{e._isValid=!1;return}e._f=E+(H||"")+(X||""),ar(e)}else e._isValid=!1}function ia(e,r,u,d,p,b){var E=[sa(e),Xn.indexOf(r),parseInt(u,10),parseInt(d,10),parseInt(p,10)];return b&&E.push(parseInt(b,10)),E}function sa(e){var r=parseInt(e,10);return r<=49?2e3+r:r<=999?1900+r:r}function Yr(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Br(e,r,u){if(e){var d=Ns.indexOf(e),p=new Date(r[0],r[1],r[2]).getDay();if(d!==p)return Q(u).weekdayMismatch=!0,u._isValid=!1,!1}return!0}function zi(e,r,u){if(e)return or[e];if(r)return 0;var d=parseInt(u,10),p=d%100,b=(d-p)/100;return b*60+p}function Zs(e){var r=ra.exec(Yr(e._i)),u;if(r){if(u=ia(r[4],r[3],r[2],r[5],r[6],r[7]),!Br(r[1],u,e))return;e._a=u,e._tzm=zi(r[8],r[9],r[10]),e._d=Mn.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Q(e).rfc2822=!0}else e._isValid=!1}function oa(e){var r=zs.exec(e._i);if(r!==null){e._d=new Date(+r[1]);return}if(qs(e),e._isValid===!1)delete e._isValid;else return;if(Zs(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:o.createFromInputFallback(e)}o.createFromInputFallback=_e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Tn(e,r,u){return e??r??u}function aa(e){var r=new Date(o.now());return e._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()]}function qi(e){var r,u,d=[],p,b,E;if(!e._d){for(p=aa(e),e._w&&e._a[pt]==null&&e._a[ht]==null&&Zi(e),e._dayOfYear!=null&&(E=Tn(e._a[N],p[N]),(e._dayOfYear>wt(E)||e._dayOfYear===0)&&(Q(e)._overflowDayOfYear=!0),u=Mn(E,0,e._dayOfYear),e._a[ht]=u.getUTCMonth(),e._a[pt]=u.getUTCDate()),r=0;r<3&&e._a[r]==null;++r)e._a[r]=d[r]=p[r];for(;r<7;r++)e._a[r]=d[r]=e._a[r]==null?r===2?1:0:e._a[r];e._a[Ae]===24&&e._a[ze]===0&&e._a[bt]===0&&e._a[Rt]===0&&(e._nextDay=!0,e._a[Ae]=0),e._d=(e._useUTC?Mn:ji).apply(null,d),b=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ae]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==b&&(Q(e).weekdayMismatch=!0)}}function Zi(e){var r,u,d,p,b,E,H,X,le;r=e._w,r.GG!=null||r.W!=null||r.E!=null?(b=1,E=4,u=Tn(r.GG,e._a[N],qe(ge(),1,4).year),d=Tn(r.W,1),p=Tn(r.E,1),(p<1||p>7)&&(X=!0)):(b=e._locale._week.dow,E=e._locale._week.doy,le=qe(ge(),b,E),u=Tn(r.gg,e._a[N],le.year),d=Tn(r.w,le.week),r.d!=null?(p=r.d,(p<0||p>6)&&(X=!0)):r.e!=null?(p=r.e+b,(r.e<0||r.e>6)&&(X=!0)):p=b),d<1||d>Dt(u,b,E)?Q(e)._overflowWeeks=!0:X!=null?Q(e)._overflowWeekday=!0:(H=Vr(u,d,p,b,E),e._a[N]=H.year,e._dayOfYear=H.dayOfYear)}o.ISO_8601=function(){},o.RFC_2822=function(){};function ar(e){if(e._f===o.ISO_8601){qs(e);return}if(e._f===o.RFC_2822){Zs(e);return}e._a=[],Q(e).empty=!0;var r=""+e._i,u,d,p,b,E,H=r.length,X=0,le,Je;for(p=Dr(e._f,e._locale).match($n)||[],Je=p.length,u=0;u<Je;u++)b=p[u],d=(r.match(Ri(b,e))||[])[0],d&&(E=r.substr(0,r.indexOf(d)),E.length>0&&Q(e).unusedInput.push(E),r=r.slice(r.indexOf(d)+d.length),X+=d.length),Kt[b]?(d?Q(e).empty=!1:Q(e).unusedTokens.push(b),nn(b,d,e)):e._strict&&!d&&Q(e).unusedTokens.push(b);Q(e).charsLeftOver=H-X,r.length>0&&Q(e).unusedInput.push(r),e._a[Ae]<=12&&Q(e).bigHour===!0&&e._a[Ae]>0&&(Q(e).bigHour=void 0),Q(e).parsedDateParts=e._a.slice(0),Q(e).meridiem=e._meridiem,e._a[Ae]=Js(e._locale,e._a[Ae],e._meridiem),le=Q(e).era,le!==null&&(e._a[N]=e._locale.erasConvertYear(le,e._a[N])),qi(e),jr(e)}function Js(e,r,u){var d;return u==null?r:e.meridiemHour!=null?e.meridiemHour(r,u):(e.isPM!=null&&(d=e.isPM(u),d&&r<12&&(r+=12),!d&&r===12&&(r=0)),r)}function ua(e){var r,u,d,p,b,E,H=!1,X=e._f.length;if(X===0){Q(e).invalidFormat=!0,e._d=new Date(NaN);return}for(p=0;p<X;p++)b=0,E=!1,r=Xt({},e),e._useUTC!=null&&(r._useUTC=e._useUTC),r._f=e._f[p],ar(r),vr(r)&&(E=!0),b+=Q(r).charsLeftOver,b+=Q(r).unusedTokens.length*10,Q(r).score=b,H?b<d&&(d=b,u=r):(d==null||b<d||E)&&(d=b,u=r,E&&(H=!0));Pe(e,u||r)}function Ur(e){if(!e._d){var r=Fi(e._i),u=r.day===void 0?r.date:r.day;e._a=me([r.year,r.month,u,r.hour,r.minute,r.second,r.millisecond],function(d){return d&&parseInt(d,10)}),qi(e)}}function Wr(e){var r=new gn(jr(Qs(e)));return r._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function Qs(e){var r=e._i,u=e._f;return e._locale=e._locale||Nt(e._l),r===null||u===void 0&&r===""?yr({nullInput:!0}):(typeof r=="string"&&(e._i=r=e._locale.preparse(r)),ft(r)?new gn(jr(r)):(Re(r)?e._d=r:f(u)?ua(e):u?ar(e):la(e),vr(e)||(e._d=null),e))}function la(e){var r=e._i;G(r)?e._d=new Date(o.now()):Re(r)?e._d=new Date(r.valueOf()):typeof r=="string"?oa(e):f(r)?(e._a=me(r.slice(0),function(u){return parseInt(u,10)}),qi(e)):g(r)?Ur(e):ue(r)?e._d=new Date(r):o.createFromInputFallback(e)}function ur(e,r,u,d,p){var b={};return(r===!0||r===!1)&&(d=r,r=void 0),(u===!0||u===!1)&&(d=u,u=void 0),(g(e)&&I(e)||f(e)&&e.length===0)&&(e=void 0),b._isAMomentObject=!0,b._useUTC=b._isUTC=p,b._l=u,b._i=e,b._f=r,b._strict=d,Wr(b)}function ge(e,r,u,d){return ur(e,r,u,d,!1)}var ca=_e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ge.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:yr()}),da=_e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ge.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:yr()});function Gr(e,r){var u,d;if(r.length===1&&f(r[0])&&(r=r[0]),!r.length)return ge();for(u=r[0],d=1;d<r.length;++d)(!r[d].isValid()||r[d][e](u))&&(u=r[d]);return u}function Ji(){var e=[].slice.call(arguments,0);return Gr("isBefore",e)}function fa(){var e=[].slice.call(arguments,0);return Gr("isAfter",e)}var ha=function(){return Date.now?Date.now():+new Date},lr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Qi(e){var r,u=!1,d,p=lr.length;for(r in e)if(S(e,r)&&!(xe.call(lr,r)!==-1&&(e[r]==null||!isNaN(e[r]))))return!1;for(d=0;d<p;++d)if(e[lr[d]]){if(u)return!1;parseFloat(e[lr[d]])!==re(e[lr[d]])&&(u=!0)}return!0}function pa(){return this._isValid}function Xi(){return mt(NaN)}function In(e){var r=Fi(e),u=r.year||0,d=r.quarter||0,p=r.month||0,b=r.week||r.isoWeek||0,E=r.day||0,H=r.hour||0,X=r.minute||0,le=r.second||0,Je=r.millisecond||0;this._isValid=Qi(r),this._milliseconds=+Je+le*1e3+X*6e4+H*1e3*60*60,this._days=+E+b*7,this._months=+p+d*3+u*12,this._data={},this._locale=Nt(),this._bubble()}function Te(e){return e instanceof In}function un(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function cr(e,r,u){var d=Math.min(e.length,r.length),p=Math.abs(e.length-r.length),b=0,E;for(E=0;E<d;E++)(u&&e[E]!==r[E]||!u&&re(e[E])!==re(r[E]))&&b++;return b+p}function es(e,r){K(e,0,0,function(){var u=this.utcOffset(),d="+";return u<0&&(u=-u,d="-"),d+Ne(~~(u/60),2)+r+Ne(~~u%60,2)})}es("Z",":"),es("ZZ",""),U("Z",qn),U("ZZ",qn),L(["Z","ZZ"],function(e,r,u){u._useUTC=!0,u._tzm=Kr(qn,e)});var Hr=/([\+\-]|\d\d)/gi;function Kr(e,r){var u=(r||"").match(e),d,p,b;return u===null?null:(d=u[u.length-1]||[],p=(d+"").match(Hr)||["-",0,0],b=+(p[1]*60)+re(p[2]),b===0?0:p[0]==="+"?b:-b)}function $r(e,r){var u,d;return r._isUTC?(u=r.clone(),d=(ft(e)||Re(e)?e.valueOf():ge(e).valueOf())-u.valueOf(),u._d.setTime(u._d.valueOf()+d),o.updateOffset(u,!1),u):ge(e).local()}function Fn(e){return-Math.round(e._d.getTimezoneOffset())}o.updateOffset=function(){};function ts(e,r,u){var d=this._offset||0,p;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Kr(qn,e),e===null)return this}else Math.abs(e)<16&&!u&&(e=e*60);return!this._isUTC&&r&&(p=Fn(this)),this._offset=e,this._isUTC=!0,p!=null&&this.add(p,"m"),d!==e&&(!r||this._changeInProgress?as(this,mt(e-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?d:Fn(this)}function ln(e,r){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,r),this):-this.utcOffset()}function ns(e){return this.utcOffset(0,e)}function rs(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Fn(this),"m")),this}function zr(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Kr(Ts,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function is(e){return this.isValid()?(e=e?ge(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Xs(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ma(){if(!G(this._isDSTShifted))return this._isDSTShifted;var e={},r;return Xt(e,this),e=Qs(e),e._a?(r=e._isUTC?dt(e._a):ge(e._a),this._isDSTShifted=this.isValid()&&cr(e._a,r.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ss(){return this.isValid()?!this._isUTC:!1}function ga(){return this.isValid()?this._isUTC:!1}function os(){return this.isValid()?this._isUTC&&this._offset===0:!1}var qr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,va=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function mt(e,r){var u=e,d=null,p,b,E;return Te(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:ue(e)||!isNaN(+e)?(u={},r?u[r]=+e:u.milliseconds=+e):(d=qr.exec(e))?(p=d[1]==="-"?-1:1,u={y:0,d:re(d[pt])*p,h:re(d[Ae])*p,m:re(d[ze])*p,s:re(d[bt])*p,ms:re(un(d[Rt]*1e3))*p}):(d=va.exec(e))?(p=d[1]==="-"?-1:1,u={y:Lt(d[2],p),M:Lt(d[3],p),w:Lt(d[4],p),d:Lt(d[5],p),h:Lt(d[6],p),m:Lt(d[7],p),s:Lt(d[8],p)}):u==null?u={}:typeof u=="object"&&("from"in u||"to"in u)&&(E=ya(ge(u.from),ge(u.to)),u={},u.ms=E.milliseconds,u.M=E.months),b=new In(u),Te(e)&&S(e,"_locale")&&(b._locale=e._locale),Te(e)&&S(e,"_isValid")&&(b._isValid=e._isValid),b}mt.fn=In.prototype,mt.invalid=Xi;function Lt(e,r){var u=e&&parseFloat(e.replace(",","."));return(isNaN(u)?0:u)*r}function Zr(e,r){var u={};return u.months=r.month()-e.month()+(r.year()-e.year())*12,e.clone().add(u.months,"M").isAfter(r)&&--u.months,u.milliseconds=+r-+e.clone().add(u.months,"M"),u}function ya(e,r){var u;return e.isValid()&&r.isValid()?(r=$r(r,e),e.isBefore(r)?u=Zr(e,r):(u=Zr(r,e),u.milliseconds=-u.milliseconds,u.months=-u.months),u):{milliseconds:0,months:0}}function eo(e,r){return function(u,d){var p,b;return d!==null&&!isNaN(+d)&&(ki(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),b=u,u=d,d=b),p=mt(u,d),as(this,p,e),this}}function as(e,r,u,d){var p=r._milliseconds,b=un(r._days),E=un(r._months);e.isValid()&&(d=d??!0,E&&Pt(e,Qn(e,"Month")+E*u),b&&Is(e,"Date",Qn(e,"Date")+b*u),p&&e._d.setTime(e._d.valueOf()+p*u),d&&o.updateOffset(e,b||E))}var _a=eo(1,"add"),to=eo(-1,"subtract");function us(e){return typeof e=="string"||e instanceof String}function ba(e){return ft(e)||Re(e)||us(e)||ue(e)||no(e)||wa(e)||e===null||e===void 0}function wa(e){var r=g(e)&&!I(e),u=!1,d=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],p,b,E=d.length;for(p=0;p<E;p+=1)b=d[p],u=u||S(e,b);return r&&u}function no(e){var r=f(e),u=!1;return r&&(u=e.filter(function(d){return!ue(d)&&us(e)}).length===0),r&&u}function Ca(e){var r=g(e)&&!I(e),u=!1,d=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],p,b;for(p=0;p<d.length;p+=1)b=d[p],u=u||S(e,b);return r&&u}function Da(e,r){var u=e.diff(r,"days",!0);return u<-6?"sameElse":u<-1?"lastWeek":u<0?"lastDay":u<1?"sameDay":u<2?"nextDay":u<7?"nextWeek":"sameElse"}function ls(e,r){arguments.length===1&&(arguments[0]?ba(arguments[0])?(e=arguments[0],r=void 0):Ca(arguments[0])&&(r=arguments[0],e=void 0):(e=void 0,r=void 0));var u=e||ge(),d=$r(u,this).startOf("day"),p=o.calendarFormat(this,d)||"sameElse",b=r&&(yt(r[p])?r[p].call(this,u):r[p]);return this.format(b||this.localeData().calendar(p,this,ge(u)))}function ro(){return new gn(this)}function io(e,r){var u=ft(e)?e:ge(e);return this.isValid()&&u.isValid()?(r=He(r)||"millisecond",r==="millisecond"?this.valueOf()>u.valueOf():u.valueOf()<this.clone().startOf(r).valueOf()):!1}function Sa(e,r){var u=ft(e)?e:ge(e);return this.isValid()&&u.isValid()?(r=He(r)||"millisecond",r==="millisecond"?this.valueOf()<u.valueOf():this.clone().endOf(r).valueOf()<u.valueOf()):!1}function Ma(e,r,u,d){var p=ft(e)?e:ge(e),b=ft(r)?r:ge(r);return this.isValid()&&p.isValid()&&b.isValid()?(d=d||"()",(d[0]==="("?this.isAfter(p,u):!this.isBefore(p,u))&&(d[1]===")"?this.isBefore(b,u):!this.isAfter(b,u))):!1}function xa(e,r){var u=ft(e)?e:ge(e),d;return this.isValid()&&u.isValid()?(r=He(r)||"millisecond",r==="millisecond"?this.valueOf()===u.valueOf():(d=u.valueOf(),this.clone().startOf(r).valueOf()<=d&&d<=this.clone().endOf(r).valueOf())):!1}function Ea(e,r){return this.isSame(e,r)||this.isAfter(e,r)}function Oa(e,r){return this.isSame(e,r)||this.isBefore(e,r)}function ka(e,r,u){var d,p,b;if(!this.isValid())return NaN;if(d=$r(e,this),!d.isValid())return NaN;switch(p=(d.utcOffset()-this.utcOffset())*6e4,r=He(r),r){case"year":b=Jr(this,d)/12;break;case"month":b=Jr(this,d);break;case"quarter":b=Jr(this,d)/3;break;case"second":b=(this-d)/1e3;break;case"minute":b=(this-d)/6e4;break;case"hour":b=(this-d)/36e5;break;case"day":b=(this-d-p)/864e5;break;case"week":b=(this-d-p)/6048e5;break;default:b=this-d}return u?b:Ye(b)}function Jr(e,r){if(e.date()<r.date())return-Jr(r,e);var u=(r.year()-e.year())*12+(r.month()-e.month()),d=e.clone().add(u,"months"),p,b;return r-d<0?(p=e.clone().add(u-1,"months"),b=(r-d)/(d-p)):(p=e.clone().add(u+1,"months"),b=(r-d)/(p-d)),-(u+b)||0}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Qr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jt(e){if(!this.isValid())return null;var r=e!==!0,u=r?this.clone().utc():this;return u.year()<0||u.year()>9999?it(u,r?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):yt(Date.prototype.toISOString)?r?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",it(u,"Z")):it(u,r?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Aa(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",r="",u,d,p,b;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",r="Z"),u="["+e+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",p="-MM-DD[T]HH:mm:ss.SSS",b=r+'[")]',this.format(u+d+p+b)}function Ta(e){e||(e=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var r=it(this,e);return this.localeData().postformat(r)}function Xr(e,r){return this.isValid()&&(ft(e)&&e.isValid()||ge(e).isValid())?mt({to:this,from:e}).locale(this.locale()).humanize(!r):this.localeData().invalidDate()}function so(e){return this.from(ge(),e)}function cn(e,r){return this.isValid()&&(ft(e)&&e.isValid()||ge(e).isValid())?mt({from:this,to:e}).locale(this.locale()).humanize(!r):this.localeData().invalidDate()}function cs(e){return this.to(ge(),e)}function Yt(e){var r;return e===void 0?this._locale._abbr:(r=Nt(e),r!=null&&(this._locale=r),this)}var Bt=_e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function ei(){return this._locale}var ti=1e3,Vn=60*ti,ni=60*Vn,oo=(365*400+97)*24*ni;function t(e,r){return(e%r+r)%r}function n(e,r,u){return e<100&&e>=0?new Date(e+400,r,u)-oo:new Date(e,r,u).valueOf()}function s(e,r,u){return e<100&&e>=0?Date.UTC(e+400,r,u)-oo:Date.UTC(e,r,u)}function l(e){var r,u;if(e=He(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(u=this._isUTC?s:n,e){case"year":r=u(this.year(),0,1);break;case"quarter":r=u(this.year(),this.month()-this.month()%3,1);break;case"month":r=u(this.year(),this.month(),1);break;case"week":r=u(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":r=u(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":r=u(this.year(),this.month(),this.date());break;case"hour":r=this._d.valueOf(),r-=t(r+(this._isUTC?0:this.utcOffset()*Vn),ni);break;case"minute":r=this._d.valueOf(),r-=t(r,Vn);break;case"second":r=this._d.valueOf(),r-=t(r,ti);break}return this._d.setTime(r),o.updateOffset(this,!0),this}function c(e){var r,u;if(e=He(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(u=this._isUTC?s:n,e){case"year":r=u(this.year()+1,0,1)-1;break;case"quarter":r=u(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":r=u(this.year(),this.month()+1,1)-1;break;case"week":r=u(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":r=u(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":r=u(this.year(),this.month(),this.date()+1)-1;break;case"hour":r=this._d.valueOf(),r+=ni-t(r+(this._isUTC?0:this.utcOffset()*Vn),ni)-1;break;case"minute":r=this._d.valueOf(),r+=Vn-t(r,Vn)-1;break;case"second":r=this._d.valueOf(),r+=ti-t(r,ti)-1;break}return this._d.setTime(r),o.updateOffset(this,!0),this}function h(){return this._d.valueOf()-(this._offset||0)*6e4}function m(){return Math.floor(this.valueOf()/1e3)}function v(){return new Date(this.valueOf())}function y(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function _(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function D(){return this.isValid()?this.toISOString():null}function w(){return vr(this)}function O(){return Pe({},Q(this))}function R(){return Q(this).overflow}function C(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}K("N",0,0,"eraAbbr"),K("NN",0,0,"eraAbbr"),K("NNN",0,0,"eraAbbr"),K("NNNN",0,0,"eraName"),K("NNNNN",0,0,"eraNarrow"),K("y",["y",1],"yo","eraYear"),K("y",["yy",2],0,"eraYear"),K("y",["yyy",3],0,"eraYear"),K("y",["yyyy",4],0,"eraYear"),U("N",$),U("NN",$),U("NNN",$),U("NNNN",ne),U("NNNNN",W),L(["N","NN","NNN","NNNN","NNNNN"],function(e,r,u,d){var p=u._locale.erasParse(e,d,u._strict);p?Q(u).era=p:Q(u).invalidEra=e}),U("y",tn),U("yy",tn),U("yyy",tn),U("yyyy",tn),U("yo",ee),L(["y","yy","yyy","yyyy"],N),L(["yo"],function(e,r,u,d){var p;u._locale._eraYearOrdinalRegex&&(p=e.match(u._locale._eraYearOrdinalRegex)),u._locale.eraYearOrdinalParse?r[N]=u._locale.eraYearOrdinalParse(e,p):r[N]=parseInt(e,10)});function M(e,r){var u,d,p,b=this._eras||Nt("en")._eras;for(u=0,d=b.length;u<d;++u){switch(typeof b[u].since){case"string":p=o(b[u].since).startOf("day"),b[u].since=p.valueOf();break}switch(typeof b[u].until){case"undefined":b[u].until=1/0;break;case"string":p=o(b[u].until).startOf("day").valueOf(),b[u].until=p.valueOf();break}}return b}function x(e,r,u){var d,p,b=this.eras(),E,H,X;for(e=e.toUpperCase(),d=0,p=b.length;d<p;++d)if(E=b[d].name.toUpperCase(),H=b[d].abbr.toUpperCase(),X=b[d].narrow.toUpperCase(),u)switch(r){case"N":case"NN":case"NNN":if(H===e)return b[d];break;case"NNNN":if(E===e)return b[d];break;case"NNNNN":if(X===e)return b[d];break}else if([E,H,X].indexOf(e)>=0)return b[d]}function F(e,r){var u=e.since<=e.until?1:-1;return r===void 0?o(e.since).year():o(e.since).year()+(r-e.offset)*u}function A(){var e,r,u,d=this.localeData().eras();for(e=0,r=d.length;e<r;++e)if(u=this.clone().startOf("day").valueOf(),d[e].since<=u&&u<=d[e].until||d[e].until<=u&&u<=d[e].since)return d[e].name;return""}function T(){var e,r,u,d=this.localeData().eras();for(e=0,r=d.length;e<r;++e)if(u=this.clone().startOf("day").valueOf(),d[e].since<=u&&u<=d[e].until||d[e].until<=u&&u<=d[e].since)return d[e].narrow;return""}function V(){var e,r,u,d=this.localeData().eras();for(e=0,r=d.length;e<r;++e)if(u=this.clone().startOf("day").valueOf(),d[e].since<=u&&u<=d[e].until||d[e].until<=u&&u<=d[e].since)return d[e].abbr;return""}function k(){var e,r,u,d,p=this.localeData().eras();for(e=0,r=p.length;e<r;++e)if(u=p[e].since<=p[e].until?1:-1,d=this.clone().startOf("day").valueOf(),p[e].since<=d&&d<=p[e].until||p[e].until<=d&&d<=p[e].since)return(this.year()-o(p[e].since).year())*u+p[e].offset;return this.year()}function j(e){return S(this,"_erasNameRegex")||Z.call(this),e?this._erasNameRegex:this._erasRegex}function B(e){return S(this,"_erasAbbrRegex")||Z.call(this),e?this._erasAbbrRegex:this._erasRegex}function Y(e){return S(this,"_erasNarrowRegex")||Z.call(this),e?this._erasNarrowRegex:this._erasRegex}function $(e,r){return r.erasAbbrRegex(e)}function ne(e,r){return r.erasNameRegex(e)}function W(e,r){return r.erasNarrowRegex(e)}function ee(e,r){return r._eraYearOrdinalRegex||tn}function Z(){var e=[],r=[],u=[],d=[],p,b,E,H,X,le=this.eras();for(p=0,b=le.length;p<b;++p)E=je(le[p].name),H=je(le[p].abbr),X=je(le[p].narrow),r.push(E),e.push(H),u.push(X),d.push(E),d.push(H),d.push(X);this._erasRegex=new RegExp("^("+d.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+u.join("|")+")","i")}K(0,["gg",2],0,function(){return this.weekYear()%100}),K(0,["GG",2],0,function(){return this.isoWeekYear()%100});function se(e,r){K(0,[e,e.length],0,r)}se("gggg","weekYear"),se("ggggg","weekYear"),se("GGGG","isoWeekYear"),se("GGGGG","isoWeekYear"),U("G",wn),U("g",wn),U("GG",ve,Ke),U("gg",ve,Ke),U("GGGG",Or,Vi),U("gggg",Or,Vi),U("GGGGG",zt,xr),U("ggggg",zt,xr),Vt(["gggg","ggggg","GGGG","GGGGG"],function(e,r,u,d){r[d.substr(0,2)]=re(e)}),Vt(["gg","GG"],function(e,r,u,d){r[d]=o.parseTwoDigitYear(e)});function q(e){return Ut.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Me(e){return Ut.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Le(){return Dt(this.year(),1,4)}function Et(){return Dt(this.isoWeekYear(),1,4)}function We(){var e=this.localeData()._week;return Dt(this.year(),e.dow,e.doy)}function at(){var e=this.localeData()._week;return Dt(this.weekYear(),e.dow,e.doy)}function Ut(e,r,u,d,p){var b;return e==null?qe(this,d,p).year:(b=Dt(e,d,p),r>b&&(r=b),Ot.call(this,e,r,u,d,p))}function Ot(e,r,u,d,p){var b=Vr(e,r,u,d,p),E=Mn(b.year,0,b.dayOfYear);return this.year(E.getUTCFullYear()),this.month(E.getUTCMonth()),this.date(E.getUTCDate()),this}K("Q",0,"Qo","quarter"),U("Q",bn),L("Q",function(e,r){r[ht]=(re(e)-1)*3});function dr(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}K("D",["DD",2],"Do","date"),U("D",ve,st),U("DD",ve,Ke),U("Do",function(e,r){return e?r._dayOfMonthOrdinalParse||r._ordinalParse:r._dayOfMonthOrdinalParseLenient}),L(["D","DD"],pt),L("Do",function(e,r){r[pt]=re(e.match(ve)[0])});var ut=Cn("Date",!0);K("DDD",["DDDD",3],"DDDo","dayOfYear"),U("DDD",$e),U("DDDD",$t),L(["DDD","DDDD"],function(e,r,u){u._dayOfYear=re(e)});function ri(e){var r=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?r:this.add(e-r,"d")}K("m",["mm",2],0,"minute"),U("m",ve,Jn),U("mm",ve,Ke),L(["m","mm"],ze);var Ia=Cn("Minutes",!1);K("s",["ss",2],0,"second"),U("s",ve,Jn),U("ss",ve,Ke),L(["s","ss"],bt);var ic=Cn("Seconds",!1);K("S",0,0,function(){return~~(this.millisecond()/100)}),K(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),K(0,["SSS",3],0,"millisecond"),K(0,["SSSS",4],0,function(){return this.millisecond()*10}),K(0,["SSSSS",5],0,function(){return this.millisecond()*100}),K(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),K(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),K(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),K(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),U("S",$e,bn),U("SS",$e,Ke),U("SSS",$e,$t);var Rn,lu;for(Rn="SSSS";Rn.length<=9;Rn+="S")U(Rn,tn);function sc(e,r){r[Rt]=re(("0."+e)*1e3)}for(Rn="S";Rn.length<=9;Rn+="S")L(Rn,sc);lu=Cn("Milliseconds",!1),K("z",0,0,"zoneAbbr"),K("zz",0,0,"zoneName");function oc(){return this._isUTC?"UTC":""}function ac(){return this._isUTC?"Coordinated Universal Time":""}var P=gn.prototype;P.add=_a,P.calendar=ls,P.clone=ro,P.diff=ka,P.endOf=c,P.format=Ta,P.from=Xr,P.fromNow=so,P.to=cn,P.toNow=cs,P.get=Tr,P.invalidAt=R,P.isAfter=io,P.isBefore=Sa,P.isBetween=Ma,P.isSame=xa,P.isSameOrAfter=Ea,P.isSameOrBefore=Oa,P.isValid=w,P.lang=Bt,P.locale=Yt,P.localeData=ei,P.max=da,P.min=ca,P.parsingFlags=O,P.set=be,P.startOf=l,P.subtract=to,P.toArray=y,P.toObject=_,P.toDate=v,P.toISOString=jt,P.inspect=Aa,typeof Symbol<"u"&&Symbol.for!=null&&(P[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),P.toJSON=D,P.toString=Qr,P.unix=m,P.valueOf=h,P.creationData=C,P.eraName=A,P.eraNarrow=T,P.eraAbbr=V,P.eraYear=k,P.year=sn,P.isLeapYear=Pi,P.weekYear=q,P.isoWeekYear=Me,P.quarter=P.quarters=dr,P.month=Ni,P.daysInMonth=on,P.week=P.weeks=an,P.isoWeek=P.isoWeeks=Rs,P.weeksInYear=We,P.weeksInWeekYear=at,P.isoWeeksInYear=Le,P.isoWeeksInISOWeekYear=Et,P.date=ut,P.day=P.days=Jo,P.weekday=Nr,P.isoWeekday=Bs,P.dayOfYear=ri,P.hour=P.hours=Xo,P.minute=P.minutes=Ia,P.second=P.seconds=ic,P.millisecond=P.milliseconds=lu,P.utcOffset=ts,P.utc=ns,P.local=rs,P.parseZone=zr,P.hasAlignedHourOffset=is,P.isDST=Xs,P.isLocal=ss,P.isUtcOffset=ga,P.isUtc=os,P.isUTC=os,P.zoneAbbr=oc,P.zoneName=ac,P.dates=_e("dates accessor is deprecated. Use date instead.",ut),P.months=_e("months accessor is deprecated. Use month instead",Ni),P.years=_e("years accessor is deprecated. Use year instead",sn),P.zone=_e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ln),P.isDSTShifted=_e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ma);function uc(e){return ge(e*1e3)}function lc(){return ge.apply(null,arguments).parseZone()}function cu(e){return e}var de=br.prototype;de.calendar=Kn,de.longDateFormat=Os,de.invalidDate=Uo,de.ordinal=Sr,de.preparse=cu,de.postformat=cu,de.relativeTime=Ii,de.pastFuture=Wo,de.set=Es,de.eras=M,de.erasParse=x,de.erasConvertYear=F,de.erasAbbrRegex=B,de.erasNameRegex=j,de.erasNarrowRegex=Y,de.months=Zt,de.monthsShort=Fr,de.monthsParse=zo,de.monthsRegex=Li,de.monthsShortRegex=Vs,de.week=xn,de.firstDayOfYear=Bi,de.firstDayOfWeek=Yi,de.weekdays=tr,de.weekdaysMin=En,de.weekdaysShort=Zo,de.weekdaysParse=Wi,de.weekdaysRegex=Lr,de.weekdaysShortRegex=Us,de.weekdaysMinRegex=nr,de.isPM=Ze,de.meridiem=ea;function ao(e,r,u,d){var p=Nt(),b=dt().set(d,r);return p[u](b,e)}function du(e,r,u){if(ue(e)&&(r=e,e=void 0),e=e||"",r!=null)return ao(e,r,u,"month");var d,p=[];for(d=0;d<12;d++)p[d]=ao(e,d,u,"month");return p}function Fa(e,r,u,d){typeof e=="boolean"?(ue(r)&&(u=r,r=void 0),r=r||""):(r=e,u=r,e=!1,ue(r)&&(u=r,r=void 0),r=r||"");var p=Nt(),b=e?p._week.dow:0,E,H=[];if(u!=null)return ao(r,(u+b)%7,d,"day");for(E=0;E<7;E++)H[E]=ao(r,(E+b)%7,d,"day");return H}function cc(e,r){return du(e,r,"months")}function dc(e,r){return du(e,r,"monthsShort")}function fc(e,r,u){return Fa(e,r,u,"weekdays")}function hc(e,r,u){return Fa(e,r,u,"weekdaysShort")}function pc(e,r,u){return Fa(e,r,u,"weekdaysMin")}Mt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var r=e%10,u=re(e%100/10)===1?"th":r===1?"st":r===2?"nd":r===3?"rd":"th";return e+u}}),o.lang=_e("moment.lang is deprecated. Use moment.locale instead.",Mt),o.langData=_e("moment.langData is deprecated. Use moment.localeData instead.",Nt);var dn=Math.abs;function mc(){var e=this._data;return this._milliseconds=dn(this._milliseconds),this._days=dn(this._days),this._months=dn(this._months),e.milliseconds=dn(e.milliseconds),e.seconds=dn(e.seconds),e.minutes=dn(e.minutes),e.hours=dn(e.hours),e.months=dn(e.months),e.years=dn(e.years),this}function fu(e,r,u,d){var p=mt(r,u);return e._milliseconds+=d*p._milliseconds,e._days+=d*p._days,e._months+=d*p._months,e._bubble()}function gc(e,r){return fu(this,e,r,1)}function vc(e,r){return fu(this,e,r,-1)}function hu(e){return e<0?Math.floor(e):Math.ceil(e)}function yc(){var e=this._milliseconds,r=this._days,u=this._months,d=this._data,p,b,E,H,X;return e>=0&&r>=0&&u>=0||e<=0&&r<=0&&u<=0||(e+=hu(Va(u)+r)*864e5,r=0,u=0),d.milliseconds=e%1e3,p=Ye(e/1e3),d.seconds=p%60,b=Ye(p/60),d.minutes=b%60,E=Ye(b/60),d.hours=E%24,r+=Ye(E/24),X=Ye(pu(r)),u+=X,r-=hu(Va(X)),H=Ye(u/12),u%=12,d.days=r,d.months=u,d.years=H,this}function pu(e){return e*4800/146097}function Va(e){return e*146097/4800}function _c(e){if(!this.isValid())return NaN;var r,u,d=this._milliseconds;if(e=He(e),e==="month"||e==="quarter"||e==="year")switch(r=this._days+d/864e5,u=this._months+pu(r),e){case"month":return u;case"quarter":return u/3;case"year":return u/12}else switch(r=this._days+Math.round(Va(this._months)),e){case"week":return r/7+d/6048e5;case"day":return r+d/864e5;case"hour":return r*24+d/36e5;case"minute":return r*1440+d/6e4;case"second":return r*86400+d/1e3;case"millisecond":return Math.floor(r*864e5)+d;default:throw new Error("Unknown unit "+e)}}function fn(e){return function(){return this.as(e)}}var mu=fn("ms"),bc=fn("s"),wc=fn("m"),Cc=fn("h"),Dc=fn("d"),Sc=fn("w"),Mc=fn("M"),xc=fn("Q"),Ec=fn("y"),Oc=mu;function kc(){return mt(this)}function Ac(e){return e=He(e),this.isValid()?this[e+"s"]():NaN}function fr(e){return function(){return this.isValid()?this._data[e]:NaN}}var Tc=fr("milliseconds"),Ic=fr("seconds"),Fc=fr("minutes"),Vc=fr("hours"),Rc=fr("days"),Pc=fr("months"),Nc=fr("years");function Lc(){return Ye(this.days()/7)}var hn=Math.round,ii={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function jc(e,r,u,d,p){return p.relativeTime(r||1,!!u,e,d)}function Yc(e,r,u,d){var p=mt(e).abs(),b=hn(p.as("s")),E=hn(p.as("m")),H=hn(p.as("h")),X=hn(p.as("d")),le=hn(p.as("M")),Je=hn(p.as("w")),pn=hn(p.as("y")),Pn=b<=u.ss&&["s",b]||b<u.s&&["ss",b]||E<=1&&["m"]||E<u.m&&["mm",E]||H<=1&&["h"]||H<u.h&&["hh",H]||X<=1&&["d"]||X<u.d&&["dd",X];return u.w!=null&&(Pn=Pn||Je<=1&&["w"]||Je<u.w&&["ww",Je]),Pn=Pn||le<=1&&["M"]||le<u.M&&["MM",le]||pn<=1&&["y"]||["yy",pn],Pn[2]=r,Pn[3]=+e>0,Pn[4]=d,jc.apply(null,Pn)}function Bc(e){return e===void 0?hn:typeof e=="function"?(hn=e,!0):!1}function Uc(e,r){return ii[e]===void 0?!1:r===void 0?ii[e]:(ii[e]=r,e==="s"&&(ii.ss=r-1),!0)}function Wc(e,r){if(!this.isValid())return this.localeData().invalidDate();var u=!1,d=ii,p,b;return typeof e=="object"&&(r=e,e=!1),typeof e=="boolean"&&(u=e),typeof r=="object"&&(d=Object.assign({},ii,r),r.s!=null&&r.ss==null&&(d.ss=r.s-1)),p=this.localeData(),b=Yc(this,!u,d,p),u&&(b=p.pastFuture(+this,b)),p.postformat(b)}var Ra=Math.abs;function si(e){return(e>0)-(e<0)||+e}function uo(){if(!this.isValid())return this.localeData().invalidDate();var e=Ra(this._milliseconds)/1e3,r=Ra(this._days),u=Ra(this._months),d,p,b,E,H=this.asSeconds(),X,le,Je,pn;return H?(d=Ye(e/60),p=Ye(d/60),e%=60,d%=60,b=Ye(u/12),u%=12,E=e?e.toFixed(3).replace(/\.?0+$/,""):"",X=H<0?"-":"",le=si(this._months)!==si(H)?"-":"",Je=si(this._days)!==si(H)?"-":"",pn=si(this._milliseconds)!==si(H)?"-":"",X+"P"+(b?le+b+"Y":"")+(u?le+u+"M":"")+(r?Je+r+"D":"")+(p||d||e?"T":"")+(p?pn+p+"H":"")+(d?pn+d+"M":"")+(e?pn+E+"S":"")):"P0D"}var ce=In.prototype;ce.isValid=pa,ce.abs=mc,ce.add=gc,ce.subtract=vc,ce.as=_c,ce.asMilliseconds=mu,ce.asSeconds=bc,ce.asMinutes=wc,ce.asHours=Cc,ce.asDays=Dc,ce.asWeeks=Sc,ce.asMonths=Mc,ce.asQuarters=xc,ce.asYears=Ec,ce.valueOf=Oc,ce._bubble=yc,ce.clone=kc,ce.get=Ac,ce.milliseconds=Tc,ce.seconds=Ic,ce.minutes=Fc,ce.hours=Vc,ce.days=Rc,ce.weeks=Lc,ce.months=Pc,ce.years=Nc,ce.humanize=Wc,ce.toISOString=uo,ce.toString=uo,ce.toJSON=uo,ce.locale=Yt,ce.localeData=ei,ce.toIsoString=_e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uo),ce.lang=Bt,K("X",0,0,"unix"),K("x",0,0,"valueOf"),U("x",wn),U("X",Go),L("X",function(e,r,u){u._d=new Date(parseFloat(e)*1e3)}),L("x",function(e,r,u){u._d=new Date(re(e))});return o.version="2.30.1",i(ge),o.fn=P,o.min=Ji,o.max=fa,o.now=ha,o.utc=dt,o.unix=uc,o.months=cc,o.isDate=Re,o.locale=Mt,o.invalid=yr,o.duration=mt,o.isMoment=ft,o.weekdays=fc,o.parseZone=lc,o.localeData=Nt,o.isDuration=Te,o.monthsShort=dc,o.weekdaysMin=pc,o.defineLocale=xt,o.updateLocale=ta,o.locales=Hi,o.weekdaysShort=hc,o.normalizeUnits=He,o.relativeTimeRounding=Bc,o.relativeTimeThreshold=Uc,o.calendarFormat=Da,o.prototype=P,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o})});var jl=yu((ou,au)=>{"use strict";(function(a,o){typeof ou=="object"&&typeof au<"u"?au.exports=o():typeof define=="function"&&define.amd?define(o):(a=typeof globalThis<"u"?globalThis:a||self,a.Dexie=o())})(ou,function(){"use strict";var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(t,n)};function o(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");a(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var i=function(){return i=Object.assign||function(n){for(var s,l=1,c=arguments.length;l<c;l++){s=arguments[l];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(n[h]=s[h])}return n},i.apply(this,arguments)};function f(t,n,s){if(s||arguments.length===2)for(var l=0,c=n.length,h;l<c;l++)(h||!(l in n))&&(h||(h=Array.prototype.slice.call(n,0,l)),h[l]=n[l]);return t.concat(h||Array.prototype.slice.call(n))}var g=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,S=Object.keys,I=Array.isArray;typeof Promise<"u"&&!g.Promise&&(g.Promise=Promise);function G(t,n){return typeof n!="object"||S(n).forEach(function(s){t[s]=n[s]}),t}var ue=Object.getPrototypeOf,Re={}.hasOwnProperty;function me(t,n){return Re.call(t,n)}function Pe(t,n){typeof n=="function"&&(n=n(ue(t))),(typeof Reflect>"u"?S:Reflect.ownKeys)(n).forEach(function(s){Ht(t,s,n[s])})}var dt=Object.defineProperty;function Ht(t,n,s,l){dt(t,n,G(s&&me(s,"get")&&typeof s.get=="function"?{get:s.get,set:s.set,configurable:!0}:{value:s,configurable:!0,writable:!0},l))}function Q(t){return{from:function(n){return t.prototype=Object.create(n.prototype),Ht(t.prototype,"constructor",t),{extend:Pe.bind(null,t.prototype)}}}}var Oi=Object.getOwnPropertyDescriptor;function vr(t,n){var s=Oi(t,n),l;return s||(l=ue(t))&&vr(l,n)}var yr=[].slice;function Hn(t,n,s){return yr.call(t,n,s)}function _r(t,n){return n(t)}function Xt(t){if(!t)throw new Error("Assertion Failed")}function gn(t){g.setImmediate?setImmediate(t):setTimeout(t,0)}function ft(t,n){return t.reduce(function(s,l,c){var h=n(l,c);return h&&(s[h[0]]=h[1]),s},{})}function vt(t,n){if(typeof n=="string"&&me(t,n))return t[n];if(!n)return t;if(typeof n!="string"){for(var s=[],l=0,c=n.length;l<c;++l){var h=vt(t,n[l]);s.push(h)}return s}var m=n.indexOf(".");if(m!==-1){var v=t[n.substr(0,m)];return v==null?void 0:vt(v,n.substr(m+1))}}function _e(t,n,s){if(!(!t||n===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof n!="string"&&"length"in n){Xt(typeof s!="string"&&"length"in s);for(var l=0,c=n.length;l<c;++l)_e(t,n[l],s[l])}else{var h=n.indexOf(".");if(h!==-1){var m=n.substr(0,h),v=n.substr(h+1);if(v==="")s===void 0?I(t)&&!isNaN(parseInt(m))?t.splice(m,1):delete t[m]:t[m]=s;else{var y=t[m];(!y||!me(t,m))&&(y=t[m]={}),_e(y,v,s)}}else s===void 0?I(t)&&!isNaN(parseInt(n))?t.splice(n,1):delete t[n]:t[n]=s}}function xs(t,n){typeof n=="string"?_e(t,n,void 0):"length"in n&&[].map.call(n,function(s){_e(t,s,void 0)})}function ki(t){var n={};for(var s in t)me(t,s)&&(n[s]=t[s]);return n}var yt=[].concat;function Es(t){return yt.apply([],t)}var Ai="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Es([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(n){return n+t+"Array"})}))).filter(function(t){return g[t]}),br=new Set(Ai.map(function(t){return g[t]}));function wr(t){var n={};for(var s in t)if(me(t,s)){var l=t[s];n[s]=!l||typeof l!="object"||br.has(l.constructor)?l:wr(l)}return n}function Yo(t){for(var n in t)if(me(t,n))return!1;return!0}var Kn=null;function Ne(t){Kn=new WeakMap;var n=$n(t);return Kn=null,n}function $n(t){if(!t||typeof t!="object")return t;var n=Kn.get(t);if(n)return n;if(I(t)){n=[],Kn.set(t,n);for(var s=0,l=t.length;s<l;++s)n.push($n(t[s]))}else if(br.has(t.constructor))n=t;else{var c=ue(t);n=c===Object.prototype?{}:Object.create(c),Kn.set(t,n);for(var h in t)me(t,h)&&(n[h]=$n(t[h]))}return n}var Cr={}.toString;function zn(t){return Cr.call(t).slice(8,-1)}var Kt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",K=typeof Kt=="symbol"?function(t){var n;return t!=null&&(n=t[Kt])&&n.apply(t)}:function(){return null};function en(t,n){var s=t.indexOf(n);return s>=0&&t.splice(s,1),s>=0}var vn={};function it(t){var n,s,l,c;if(arguments.length===1){if(I(t))return t.slice();if(this===vn&&typeof t=="string")return[t];if(c=K(t)){for(s=[];l=c.next(),!l.done;)s.push(l.value);return s}if(t==null)return[t];if(n=t.length,typeof n=="number"){for(s=new Array(n);n--;)s[n]=t[n];return s}return[t]}for(n=arguments.length,s=new Array(n);n--;)s[n]=arguments[n];return s}var Dr=typeof Symbol<"u"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Bo=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Os=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ti=Bo.concat(Os),Uo={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function yn(t,n){this.name=t,this.message=n}Q(yn).from(Error).extend({toString:function(){return this.name+": "+this.message}});function ks(t,n){return t+". Errors: "+Object.keys(n).map(function(s){return n[s].toString()}).filter(function(s,l,c){return c.indexOf(s)===l}).join(`
`)}function Sr(t,n,s,l){this.failures=n,this.failedKeys=l,this.successCount=s,this.message=ks(t,n)}Q(Sr).from(yn);function _n(t,n){this.name="BulkError",this.failures=Object.keys(n).map(function(s){return n[s]}),this.failuresByPos=n,this.message=ks(t,this.failures)}Q(_n).from(yn);var Ii=Ti.reduce(function(t,n){return t[n]=n+"Error",t},{}),Wo=yn,z=Ti.reduce(function(t,n){var s=n+"Error";function l(c,h){this.name=s,c?typeof c=="string"?(this.message="".concat(c).concat(h?`
 `+h:""),this.inner=h||null):typeof c=="object"&&(this.message="".concat(c.name," ").concat(c.message),this.inner=c):(this.message=Uo[n]||s,this.inner=null)}return Q(l).from(Wo),t[n]=l,t},{});z.Syntax=SyntaxError,z.Type=TypeError,z.Range=RangeError;var He=Os.reduce(function(t,n){return t[n+"Error"]=z[n],t},{});function Fi(t,n){if(!t||t instanceof yn||t instanceof TypeError||t instanceof SyntaxError||!t.name||!He[t.name])return t;var s=new He[t.name](n||t.message,t);return"stack"in t&&Ht(s,"stack",{get:function(){return this.inner.stack}}),s}var Mr=Ti.reduce(function(t,n){return["Syntax","Type","Range"].indexOf(n)===-1&&(t[n+"Error"]=z[n]),t},{});Mr.ModifyError=Sr,Mr.DexieError=yn,Mr.BulkError=_n;function he(){}function bn(t){return t}function Ke(t,n){return t==null||t===bn?n:function(s){return n(t(s))}}function $t(t,n){return function(){t.apply(this,arguments),n.apply(this,arguments)}}function Vi(t,n){return t===he?n:function(){var s=t.apply(this,arguments);s!==void 0&&(arguments[0]=s);var l=this.onsuccess,c=this.onerror;this.onsuccess=null,this.onerror=null;var h=n.apply(this,arguments);return l&&(this.onsuccess=this.onsuccess?$t(l,this.onsuccess):l),c&&(this.onerror=this.onerror?$t(c,this.onerror):c),h!==void 0?h:s}}function xr(t,n){return t===he?n:function(){t.apply(this,arguments);var s=this.onsuccess,l=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),s&&(this.onsuccess=this.onsuccess?$t(s,this.onsuccess):s),l&&(this.onerror=this.onerror?$t(l,this.onerror):l)}}function ve(t,n){return t===he?n:function(s){var l=t.apply(this,arguments);G(s,l);var c=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var m=n.apply(this,arguments);return c&&(this.onsuccess=this.onsuccess?$t(c,this.onsuccess):c),h&&(this.onerror=this.onerror?$t(h,this.onerror):h),l===void 0?m===void 0?void 0:m:G(l,m)}}function As(t,n){return t===he?n:function(){return n.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function Er(t,n){return t===he?n:function(){var s=t.apply(this,arguments);if(s&&typeof s.then=="function"){for(var l=this,c=arguments.length,h=new Array(c);c--;)h[c]=arguments[c];return s.then(function(){return n.apply(l,h)})}return n.apply(this,arguments)}}var $e=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Or(t,n){$e=t}var zt={},tn=100,wn=typeof Promise>"u"?[]:function(){var t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,ue(t),t];var n=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[n,ue(n),t]}(),Ts=wn[0],qn=wn[1],Go=wn[2],Zn=qn&&qn.then,st=Ts&&Ts.constructor,Jn=!!Go;function kr(){queueMicrotask(Ko)}var U=function(t,n){Vt.push([t,n]),Ar&&(kr(),Ar=!1)},Ri=!0,Ar=!0,je=[],Ye=[],re=bn,_t={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:he,pgp:!1,env:{},finalize:he},L=_t,Vt=[],nn=0,rn=[];function N(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var n=this._PSD=L;if(typeof t!="function"){if(t!==zt)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ze(this,this._value);return}this._state=null,this._value=null,++n.ref,Ae(this,t)}var ht={get:function(){var t=L,n=Xn;function s(l,c){var h=this,m=!t.global&&(t!==L||n!==Xn),v=m&&!Zt(),y=new N(function(_,D){Rt(h,new pt(Vs(l,t,m,v),Vs(c,t,m,v),_,D,t))});return this._consoleTask&&(y._consoleTask=this._consoleTask),y}return s.prototype=zt,s},set:function(t){Ht(this,"then",t&&t.prototype===zt?ht:{get:function(){return t},set:ht.set})}};Pe(N.prototype,{then:ht,_then:function(t,n){Rt(this,new pt(null,null,t,n,L))},catch:function(t){if(arguments.length===1)return this.then(null,t);var n=arguments[0],s=arguments[1];return typeof n=="function"?this.then(null,function(l){return l instanceof n?s(l):Tr(l)}):this.then(null,function(l){return l&&l.name===n?s(l):Tr(l)})},finally:function(t){return this.then(function(n){return N.resolve(t()).then(function(){return n})},function(n){return N.resolve(t()).then(function(){return Tr(n)})})},timeout:function(t,n){var s=this;return t<1/0?new N(function(l,c){var h=setTimeout(function(){return c(new z.Timeout(n))},t);s.then(l,c).finally(clearTimeout.bind(null,h))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Ht(N.prototype,Symbol.toStringTag,"Dexie.Promise"),_t.env=Ni();function pt(t,n,s,l,c){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof n=="function"?n:null,this.resolve=s,this.reject=l,this.psd=c}Pe(N,{all:function(){var t=it.apply(null,arguments).map(Fr);return new N(function(n,s){t.length===0&&n([]);var l=t.length;t.forEach(function(c,h){return N.resolve(c).then(function(m){t[h]=m,--l||n(t)},s)})})},resolve:function(t){if(t instanceof N)return t;if(t&&typeof t.then=="function")return new N(function(s,l){t.then(s,l)});var n=new N(zt,!0,t);return n},reject:Tr,race:function(){var t=it.apply(null,arguments).map(Fr);return new N(function(n,s){t.map(function(l){return N.resolve(l).then(n,s)})})},PSD:{get:function(){return L},set:function(t){return L=t}},totalEchoes:{get:function(){return Xn}},newPSD:qt,usePSD:on,scheduler:{get:function(){return U},set:function(t){U=t}},rejectionMapper:{get:function(){return re},set:function(t){re=t}},follow:function(t,n){return new N(function(s,l){return qt(function(c,h){var m=L;m.unhandleds=[],m.onunhandled=h,m.finalize=$t(function(){var v=this;Cn(function(){v.unhandleds.length===0?c():h(v.unhandleds[0])})},m.finalize),t()},n,s,l)})}}),st&&(st.allSettled&&Ht(N,"allSettled",function(){var t=it.apply(null,arguments).map(Fr);return new N(function(n){t.length===0&&n([]);var s=t.length,l=new Array(s);t.forEach(function(c,h){return N.resolve(c).then(function(m){return l[h]={status:"fulfilled",value:m}},function(m){return l[h]={status:"rejected",reason:m}}).then(function(){return--s||n(l)})})})}),st.any&&typeof AggregateError<"u"&&Ht(N,"any",function(){var t=it.apply(null,arguments).map(Fr);return new N(function(n,s){t.length===0&&s(new AggregateError([]));var l=t.length,c=new Array(l);t.forEach(function(h,m){return N.resolve(h).then(function(v){return n(v)},function(v){c[m]=v,--l||s(new AggregateError(c))})})})}),st.withResolvers&&(N.withResolvers=st.withResolvers));function Ae(t,n){try{n(function(s){if(t._state===null){if(s===t)throw new TypeError("A promise cannot be resolved with itself.");var l=t._lib&&wt();s&&typeof s.then=="function"?Ae(t,function(c,h){s instanceof N?s._then(c,h):s.then(c,h)}):(t._state=!0,t._value=s,bt(t)),l&&sn()}},ze.bind(null,t))}catch(s){ze(t,s)}}function ze(t,n){if(Ye.push(n),t._state===null){var s=t._lib&&wt();n=re(n),t._state=!1,t._value=n,Qn(t),bt(t),s&&sn()}}function bt(t){var n=t._listeners;t._listeners=[];for(var s=0,l=n.length;s<l;++s)Rt(t,n[s]);var c=t._PSD;--c.ref||c.finalize(),nn===0&&(++nn,U(function(){--nn===0&&Pi()},[]))}function Rt(t,n){if(t._state===null){t._listeners.push(n);return}var s=t._state?n.onFulfilled:n.onRejected;if(s===null)return(t._state?n.resolve:n.reject)(t._value);++n.psd.ref,++nn,U(Ho,[s,t,n])}function Ho(t,n,s){try{var l,c=n._value;!n._state&&Ye.length&&(Ye=[]),l=$e&&n._consoleTask?n._consoleTask.run(function(){return t(c)}):t(c),!n._state&&Ye.indexOf(c)===-1&&Is(n),s.resolve(l)}catch(h){s.reject(h)}finally{--nn===0&&Pi(),--s.psd.ref||s.psd.finalize()}}function Ko(){on(_t,function(){wt()&&sn()})}function wt(){var t=Ri;return Ri=!1,Ar=!1,t}function sn(){var t,n,s;do for(;Vt.length>0;)for(t=Vt,Vt=[],s=t.length,n=0;n<s;++n){var l=t[n];l[0].apply(null,l[1])}while(Vt.length>0);Ri=!0,Ar=!0}function Pi(){var t=je;je=[],t.forEach(function(l){l._PSD.onunhandled.call(null,l._value,l)});for(var n=rn.slice(0),s=n.length;s;)n[--s]()}function Cn(t){function n(){t(),rn.splice(rn.indexOf(n),1)}rn.push(n),++nn,U(function(){--nn===0&&Pi()},[])}function Qn(t){je.some(function(n){return n._value===t._value})||je.push(t)}function Is(t){for(var n=je.length;n;)if(je[--n]._value===t._value){je.splice(n,1);return}}function Tr(t){return new N(zt,!1,t)}function be(t,n){var s=L;return function(){var l=wt(),c=L;try{return Pt(s,!0),t.apply(this,arguments)}catch(h){n&&n(h)}finally{Pt(c,!1),l&&sn()}}}var Fe={awaits:0,echoes:0,id:0},xe=0,Dn=[],Ir=0,Xn=0,Fs=0;function qt(t,n,s,l){var c=L,h=Object.create(c);h.parent=c,h.ref=0,h.global=!1,h.id=++Fs,_t.env,h.env=Jn?{Promise:N,PromiseProp:{value:N,configurable:!0,writable:!0},all:N.all,race:N.race,allSettled:N.allSettled,any:N.any,resolve:N.resolve,reject:N.reject}:{},n&&G(h,n),++c.ref,h.finalize=function(){--this.parent.ref||this.parent.finalize()};var m=on(h,t,s,l);return h.ref===0&&h.finalize(),m}function Sn(){return Fe.id||(Fe.id=++xe),++Fe.awaits,Fe.echoes+=tn,Fe.id}function Zt(){return Fe.awaits?(--Fe.awaits===0&&(Fe.id=0),Fe.echoes=Fe.awaits*tn,!0):!1}(""+Zn).indexOf("[native code]")===-1&&(Sn=Zt=he);function Fr(t){return Fe.echoes&&t&&t.constructor===st?(Sn(),t.then(function(n){return Zt(),n},function(n){return Zt(),Se(n)})):t}function $o(t){++Xn,(!Fe.echoes||--Fe.echoes===0)&&(Fe.echoes=Fe.awaits=Fe.id=0),Dn.push(L),Pt(t,!0)}function zo(){var t=Dn[Dn.length-1];Dn.pop(),Pt(t,!1)}function Pt(t,n){var s=L;if((n?Fe.echoes&&(!Ir++||t!==L):Ir&&(!--Ir||t!==L))&&queueMicrotask(n?$o.bind(null,t):zo),t!==L&&(L=t,s===_t&&(_t.env=Ni()),Jn)){var l=_t.env.Promise,c=t.env;(s.global||t.global)&&(Object.defineProperty(g,"Promise",c.PromiseProp),l.all=c.all,l.race=c.race,l.resolve=c.resolve,l.reject=c.reject,c.allSettled&&(l.allSettled=c.allSettled),c.any&&(l.any=c.any))}}function Ni(){var t=g.Promise;return Jn?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(g,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject}:{}}function on(t,n,s,l,c){var h=L;try{return Pt(t,!0),n(s,l,c)}finally{Pt(h,!1)}}function Vs(t,n,s,l){return typeof t!="function"?t:function(){var c=L;s&&Sn(),Pt(n,!0);try{return t.apply(this,arguments)}finally{Pt(c,!1),l&&queueMicrotask(Zt)}}}function Li(t){Promise===st&&Fe.echoes===0?Ir===0?t():enqueueNativeMicroTask(t):setTimeout(t,0)}var Se=N.reject;function ji(t,n,s,l){if(!t.idbdb||!t._state.openComplete&&!L.letThrough&&!t._vip){if(t._state.openComplete)return Se(new z.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return Se(new z.DatabaseClosed);t.open().catch(he)}return t._state.dbReadyPromise.then(function(){return ji(t,n,s,l)})}else{var c=t._createTransaction(n,s,t._dbSchema);try{c.create(),t._state.PR1398_maxLoop=3}catch(h){return h.name===Ii.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return ji(t,n,s,l)})):Se(h)}return c._promise(n,function(h,m){return qt(function(){return L.trans=c,l(h,m,c)})}).then(function(h){if(n==="readwrite")try{c.idbtrans.commit()}catch{}return n==="readonly"?h:c._completion.then(function(){return h})})}}var Mn="4.0.11",Ct="\uFFFF",Vr=-1/0,qe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Dt="String expected.",xn=[],Rr="__dbnames",Yi="readonly",Bi="readwrite";function an(t,n){return t?n?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:t:n}var Rs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Pr(t){return typeof t=="string"&&!/\./.test(t)?function(n){return n[t]===void 0&&t in n&&(n=Ne(n),delete n[t]),n}:function(n){return n}}function Ps(){throw z.Type()}function ie(t,n){try{var s=Ls(t),l=Ls(n);if(s!==l)return s==="Array"?1:l==="Array"?-1:s==="binary"?1:l==="binary"?-1:s==="string"?1:l==="string"?-1:s==="Date"?1:l!=="Date"?NaN:-1;switch(s){case"number":case"Date":case"string":return t>n?1:t<n?-1:0;case"binary":return Ns(js(t),js(n));case"Array":return qo(t,n)}}catch{}return NaN}function qo(t,n){for(var s=t.length,l=n.length,c=s<l?s:l,h=0;h<c;++h){var m=ie(t[h],n[h]);if(m!==0)return m}return s===l?0:s<l?-1:1}function Ns(t,n){for(var s=t.length,l=n.length,c=s<l?s:l,h=0;h<c;++h)if(t[h]!==n[h])return t[h]<n[h]?-1:1;return s===l?0:s<l?-1:1}function Ls(t){var n=typeof t;if(n!=="object")return n;if(ArrayBuffer.isView(t))return"binary";var s=zn(t);return s==="ArrayBuffer"?"binary":s}function js(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var Ys=function(){function t(){}return t.prototype._trans=function(n,s,l){var c=this._tx||L.trans,h=this.name,m=$e&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function v(D,w,O){if(!O.schema[h])throw new z.NotFound("Table "+h+" not part of transaction");return s(O.idbtrans,O)}var y=wt();try{var _=c&&c.db._novip===this.db._novip?c===L.trans?c._promise(n,v,l):qt(function(){return c._promise(n,v,l)},{trans:c,transless:L.transless||L}):ji(this.db,n,[this.name],v);return m&&(_._consoleTask=m,_=_.catch(function(D){return console.trace(D),Se(D)})),_}finally{y&&sn()}},t.prototype.get=function(n,s){var l=this;return n&&n.constructor===Object?this.where(n).first(s):n==null?Se(new z.Type("Invalid argument to Table.get()")):this._trans("readonly",function(c){return l.core.get({trans:c,key:n}).then(function(h){return l.hook.reading.fire(h)})}).then(s)},t.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(I(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var s=S(n);if(s.length===1)return this.where(s[0]).equals(n[s[0]]);var l=this.schema.indexes.concat(this.schema.primKey).filter(function(D){if(D.compound&&s.every(function(O){return D.keyPath.indexOf(O)>=0})){for(var w=0;w<s.length;++w)if(s.indexOf(D.keyPath[w])===-1)return!1;return!0}return!1}).sort(function(D,w){return D.keyPath.length-w.keyPath.length})[0];if(l&&this.db._maxKey!==Ct){var c=l.keyPath.slice(0,s.length);return this.where(c).equals(c.map(function(D){return n[D]}))}!l&&$e&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(s.join("+"),"]"));var h=this.schema.idxByName;function m(D,w){return ie(D,w)===0}var v=s.reduce(function(D,w){var O=D[0],R=D[1],C=h[w],M=n[w];return[O||C,O||!C?an(R,C&&C.multi?function(x){var F=vt(x,w);return I(F)&&F.some(function(A){return m(M,A)})}:function(x){return m(M,vt(x,w))}):R]},[null,null]),y=v[0],_=v[1];return y?this.where(y.name).equals(n[y.keyPath]).filter(_):l?this.filter(_):this.where(s).equals("")},t.prototype.filter=function(n){return this.toCollection().and(n)},t.prototype.count=function(n){return this.toCollection().count(n)},t.prototype.offset=function(n){return this.toCollection().offset(n)},t.prototype.limit=function(n){return this.toCollection().limit(n)},t.prototype.each=function(n){return this.toCollection().each(n)},t.prototype.toArray=function(n){return this.toCollection().toArray(n)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,I(n)?"[".concat(n.join("+"),"]"):n))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(n){var s=this,l=s.db,c=s.name;this.schema.mappedClass=n,n.prototype instanceof Ps&&(n=function(y){o(_,y);function _(){return y!==null&&y.apply(this,arguments)||this}return Object.defineProperty(_.prototype,"db",{get:function(){return l},enumerable:!1,configurable:!0}),_.prototype.table=function(){return c},_}(n));for(var h=new Set,m=n.prototype;m;m=ue(m))Object.getOwnPropertyNames(m).forEach(function(y){return h.add(y)});var v=function(y){if(!y)return y;var _=Object.create(n.prototype);for(var D in y)if(!h.has(D))try{_[D]=y[D]}catch{}return _};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=v,this.hook("reading",v),n},t.prototype.defineClass=function(){function n(s){G(this,s)}return this.mapToClass(n)},t.prototype.add=function(n,s){var l=this,c=this.schema.primKey,h=c.auto,m=c.keyPath,v=n;return m&&h&&(v=Pr(m)(n)),this._trans("readwrite",function(y){return l.core.mutate({trans:y,type:"add",keys:s!=null?[s]:null,values:[v]})}).then(function(y){return y.numFailures?N.reject(y.failures[0]):y.lastResult}).then(function(y){if(m)try{_e(n,m,y)}catch{}return y})},t.prototype.update=function(n,s){if(typeof n=="object"&&!I(n)){var l=vt(n,this.schema.primKey.keyPath);return l===void 0?Se(new z.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(s)}else return this.where(":id").equals(n).modify(s)},t.prototype.put=function(n,s){var l=this,c=this.schema.primKey,h=c.auto,m=c.keyPath,v=n;return m&&h&&(v=Pr(m)(n)),this._trans("readwrite",function(y){return l.core.mutate({trans:y,type:"put",values:[v],keys:s!=null?[s]:null})}).then(function(y){return y.numFailures?N.reject(y.failures[0]):y.lastResult}).then(function(y){if(m)try{_e(n,m,y)}catch{}return y})},t.prototype.delete=function(n){var s=this;return this._trans("readwrite",function(l){return s.core.mutate({trans:l,type:"delete",keys:[n]})}).then(function(l){return l.numFailures?N.reject(l.failures[0]):void 0})},t.prototype.clear=function(){var n=this;return this._trans("readwrite",function(s){return n.core.mutate({trans:s,type:"deleteRange",range:Rs})}).then(function(s){return s.numFailures?N.reject(s.failures[0]):void 0})},t.prototype.bulkGet=function(n){var s=this;return this._trans("readonly",function(l){return s.core.getMany({keys:n,trans:l}).then(function(c){return c.map(function(h){return s.hook.reading.fire(h)})})})},t.prototype.bulkAdd=function(n,s,l){var c=this,h=Array.isArray(s)?s:void 0;l=l||(h?void 0:s);var m=l?l.allKeys:void 0;return this._trans("readwrite",function(v){var y=c.schema.primKey,_=y.auto,D=y.keyPath;if(D&&h)throw new z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==n.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");var w=n.length,O=D&&_?n.map(Pr(D)):n;return c.core.mutate({trans:v,type:"add",keys:h,values:O,wantResults:m}).then(function(R){var C=R.numFailures,M=R.results,x=R.lastResult,F=R.failures,A=m?M:x;if(C===0)return A;throw new _n("".concat(c.name,".bulkAdd(): ").concat(C," of ").concat(w," operations failed"),F)})})},t.prototype.bulkPut=function(n,s,l){var c=this,h=Array.isArray(s)?s:void 0;l=l||(h?void 0:s);var m=l?l.allKeys:void 0;return this._trans("readwrite",function(v){var y=c.schema.primKey,_=y.auto,D=y.keyPath;if(D&&h)throw new z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==n.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");var w=n.length,O=D&&_?n.map(Pr(D)):n;return c.core.mutate({trans:v,type:"put",keys:h,values:O,wantResults:m}).then(function(R){var C=R.numFailures,M=R.results,x=R.lastResult,F=R.failures,A=m?M:x;if(C===0)return A;throw new _n("".concat(c.name,".bulkPut(): ").concat(C," of ").concat(w," operations failed"),F)})})},t.prototype.bulkUpdate=function(n){var s=this,l=this.core,c=n.map(function(v){return v.key}),h=n.map(function(v){return v.changes}),m=[];return this._trans("readwrite",function(v){return l.getMany({trans:v,keys:c,cache:"clone"}).then(function(y){var _=[],D=[];n.forEach(function(O,R){var C=O.key,M=O.changes,x=y[R];if(x){for(var F=0,A=Object.keys(M);F<A.length;F++){var T=A[F],V=M[T];if(T===s.schema.primKey.keyPath){if(ie(V,C)!==0)throw new z.Constraint("Cannot update primary key in bulkUpdate()")}else _e(x,T,V)}m.push(R),_.push(C),D.push(x)}});var w=_.length;return l.mutate({trans:v,type:"put",keys:_,values:D,updates:{keys:c,changeSpecs:h}}).then(function(O){var R=O.numFailures,C=O.failures;if(R===0)return w;for(var M=0,x=Object.keys(C);M<x.length;M++){var F=x[M],A=m[Number(F)];if(A!=null){var T=C[F];delete C[F],C[A]=T}}throw new _n("".concat(s.name,".bulkUpdate(): ").concat(R," of ").concat(w," operations failed"),C)})})})},t.prototype.bulkDelete=function(n){var s=this,l=n.length;return this._trans("readwrite",function(c){return s.core.mutate({trans:c,type:"delete",keys:n})}).then(function(c){var h=c.numFailures,m=c.lastResult,v=c.failures;if(h===0)return m;throw new _n("".concat(s.name,".bulkDelete(): ").concat(h," of ").concat(l," operations failed"),v)})},t}();function er(t){var n={},s=function(v,y){if(y){for(var _=arguments.length,D=new Array(_-1);--_;)D[_-1]=arguments[_];return n[v].subscribe.apply(null,D),t}else if(typeof v=="string")return n[v]};s.addEventType=h;for(var l=1,c=arguments.length;l<c;++l)h(arguments[l]);return s;function h(v,y,_){if(typeof v=="object")return m(v);y||(y=As),_||(_=he);var D={subscribers:[],fire:_,subscribe:function(w){D.subscribers.indexOf(w)===-1&&(D.subscribers.push(w),D.fire=y(D.fire,w))},unsubscribe:function(w){D.subscribers=D.subscribers.filter(function(O){return O!==w}),D.fire=D.subscribers.reduce(y,_)}};return n[v]=s[v]=D,D}function m(v){S(v).forEach(function(y){var _=v[y];if(I(_))h(y,v[y][0],v[y][1]);else if(_==="asap")var D=h(y,bn,function(){for(var O=arguments.length,R=new Array(O);O--;)R[O]=arguments[O];D.subscribers.forEach(function(C){gn(function(){C.apply(null,R)})})});else throw new z.InvalidArgument("Invalid event config")})}}function tr(t,n){return Q(n).from({prototype:t}),n}function Zo(t){return tr(Ys.prototype,function(s,l,c){this.db=t,this._tx=c,this.name=s,this.schema=l,this.hook=t._allTables[s]?t._allTables[s].hook:er(null,{creating:[Vi,he],reading:[Ke,bn],updating:[ve,he],deleting:[xr,he]})})}function En(t,n){return!(t.filter||t.algorithm||t.or)&&(n?t.justLimit:!t.replayFilter)}function Ui(t,n){t.filter=an(t.filter,n)}function Wi(t,n,s){var l=t.replayFilter;t.replayFilter=l?function(){return an(l(),n())}:n,t.justLimit=s&&!l}function Jo(t,n){t.isMatch=an(t.isMatch,n)}function Nr(t,n){if(t.isPrimKey)return n.primaryKey;var s=n.getIndexByKeyPath(t.index);if(!s)throw new z.Schema("KeyPath "+t.index+" on object store "+n.name+" is not indexed");return s}function Bs(t,n,s){var l=Nr(t,n.schema);return n.openCursor({trans:s,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:l,range:t.range}})}function Lr(t,n,s,l){var c=t.replayFilter?an(t.filter,t.replayFilter()):t.filter;if(t.or){var h={},m=function(v,y,_){if(!c||c(y,_,function(O){return y.stop(O)},function(O){return y.fail(O)})){var D=y.primaryKey,w=""+D;w==="[object ArrayBuffer]"&&(w=""+new Uint8Array(D)),me(h,w)||(h[w]=!0,n(v,y,_))}};return Promise.all([t.or._iterate(m,s),Us(Bs(t,l,s),t.algorithm,m,!t.keysOnly&&t.valueMapper)])}else return Us(Bs(t,l,s),an(t.algorithm,c),n,!t.keysOnly&&t.valueMapper)}function Us(t,n,s,l){var c=l?function(m,v,y){return s(l(m),v,y)}:s,h=be(c);return t.then(function(m){if(m)return m.start(function(){var v=function(){return m.continue()};(!n||n(m,function(y){return v=y},function(y){m.stop(y),v=he},function(y){m.fail(y),v=he}))&&h(m.value,m,function(y){return v=y}),v()})})}var nr=function(){function t(n){this["@@propmod"]=n}return t.prototype.execute=function(n){var s,l=this["@@propmod"];if(l.add!==void 0){var c=l.add;if(I(c))return f(f([],I(n)?n:[],!0),c,!0).sort();if(typeof c=="number")return(Number(n)||0)+c;if(typeof c=="bigint")try{return BigInt(n)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(l.remove!==void 0){var h=l.remove;if(I(h))return I(n)?n.filter(function(v){return!h.includes(v)}).sort():[];if(typeof h=="number")return Number(n)-h;if(typeof h=="bigint")try{return BigInt(n)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}var m=(s=l.replacePrefix)===null||s===void 0?void 0:s[0];return m&&typeof n=="string"&&n.startsWith(m)?l.replacePrefix[1]+n.substring(m.length):n},t}(),Gi=function(){function t(){}return t.prototype._read=function(n,s){var l=this._ctx;return l.error?l.table._trans(null,Se.bind(null,l.error)):l.table._trans("readonly",n).then(s)},t.prototype._write=function(n){var s=this._ctx;return s.error?s.table._trans(null,Se.bind(null,s.error)):s.table._trans("readwrite",n,"locked")},t.prototype._addAlgorithm=function(n){var s=this._ctx;s.algorithm=an(s.algorithm,n)},t.prototype._iterate=function(n,s){return Lr(this._ctx,n,s,this._ctx.table.core)},t.prototype.clone=function(n){var s=Object.create(this.constructor.prototype),l=Object.create(this._ctx);return n&&G(l,n),s._ctx=l,s},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(n){var s=this._ctx;return this._read(function(l){return Lr(s,n,l,s.table.core)})},t.prototype.count=function(n){var s=this;return this._read(function(l){var c=s._ctx,h=c.table.core;if(En(c,!0))return h.count({trans:l,query:{index:Nr(c,h.schema),range:c.range}}).then(function(v){return Math.min(v,c.limit)});var m=0;return Lr(c,function(){return++m,!1},l,h).then(function(){return m})}).then(n)},t.prototype.sortBy=function(n,s){var l=n.split(".").reverse(),c=l[0],h=l.length-1;function m(_,D){return D?m(_[l[D]],D-1):_[c]}var v=this._ctx.dir==="next"?1:-1;function y(_,D){var w=m(_,h),O=m(D,h);return ie(w,O)*v}return this.toArray(function(_){return _.sort(y)}).then(s)},t.prototype.toArray=function(n){var s=this;return this._read(function(l){var c=s._ctx;if(c.dir==="next"&&En(c,!0)&&c.limit>0){var h=c.valueMapper,m=Nr(c,c.table.core.schema);return c.table.core.query({trans:l,limit:c.limit,values:!0,query:{index:m,range:c.range}}).then(function(y){var _=y.result;return h?_.map(h):_})}else{var v=[];return Lr(c,function(y){return v.push(y)},l,c.table.core).then(function(){return v})}},n)},t.prototype.offset=function(n){var s=this._ctx;return n<=0?this:(s.offset+=n,En(s)?Wi(s,function(){var l=n;return function(c,h){return l===0?!0:l===1?(--l,!1):(h(function(){c.advance(l),l=0}),!1)}}):Wi(s,function(){var l=n;return function(){return--l<0}}),this)},t.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),Wi(this._ctx,function(){var s=n;return function(l,c,h){return--s<=0&&c(h),s>=0}},!0),this},t.prototype.until=function(n,s){return Ui(this._ctx,function(l,c,h){return n(l.value)?(c(h),s):!0}),this},t.prototype.first=function(n){return this.limit(1).toArray(function(s){return s[0]}).then(n)},t.prototype.last=function(n){return this.reverse().first(n)},t.prototype.filter=function(n){return Ui(this._ctx,function(s){return n(s.value)}),Jo(this._ctx,n),this},t.prototype.and=function(n){return this.filter(n)},t.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(n){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(l,c){n(c.key,c)})},t.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},t.prototype.eachPrimaryKey=function(n){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(l,c){n(c.primaryKey,c)})},t.prototype.keys=function(n){var s=this._ctx;s.keysOnly=!s.isMatch;var l=[];return this.each(function(c,h){l.push(h.key)}).then(function(){return l}).then(n)},t.prototype.primaryKeys=function(n){var s=this._ctx;if(s.dir==="next"&&En(s,!0)&&s.limit>0)return this._read(function(c){var h=Nr(s,s.table.core.schema);return s.table.core.query({trans:c,values:!1,limit:s.limit,query:{index:h,range:s.range}})}).then(function(c){var h=c.result;return h}).then(n);s.keysOnly=!s.isMatch;var l=[];return this.each(function(c,h){l.push(h.primaryKey)}).then(function(){return l}).then(n)},t.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},t.prototype.firstKey=function(n){return this.limit(1).keys(function(s){return s[0]}).then(n)},t.prototype.lastKey=function(n){return this.reverse().firstKey(n)},t.prototype.distinct=function(){var n=this._ctx,s=n.index&&n.table.schema.idxByName[n.index];if(!s||!s.multi)return this;var l={};return Ui(this._ctx,function(c){var h=c.primaryKey.toString(),m=me(l,h);return l[h]=!0,!m}),this},t.prototype.modify=function(n){var s=this,l=this._ctx;return this._write(function(c){var h;if(typeof n=="function")h=n;else{var m=S(n),v=m.length;h=function(A){for(var T=!1,V=0;V<v;++V){var k=m[V],j=n[k],B=vt(A,k);j instanceof nr?(_e(A,k,j.execute(B)),T=!0):B!==j&&(_e(A,k,j),T=!0)}return T}}var y=l.table.core,_=y.schema.primaryKey,D=_.outbound,w=_.extractKey,O=200,R=s.db._options.modifyChunkSize;R&&(typeof R=="object"?O=R[y.name]||R["*"]||200:O=R);var C=[],M=0,x=[],F=function(A,T){var V=T.failures,k=T.numFailures;M+=A-k;for(var j=0,B=S(V);j<B.length;j++){var Y=B[j];C.push(V[Y])}};return s.clone().primaryKeys().then(function(A){var T=En(l)&&l.limit===1/0&&(typeof n!="function"||n===rr)&&{index:l.index,range:l.range},V=function(k){var j=Math.min(O,A.length-k);return y.getMany({trans:c,keys:A.slice(k,k+j),cache:"immutable"}).then(function(B){for(var Y=[],$=[],ne=D?[]:null,W=[],ee=0;ee<j;++ee){var Z=B[ee],se={value:Ne(Z),primKey:A[k+ee]};h.call(se,se.value,se)!==!1&&(se.value==null?W.push(A[k+ee]):!D&&ie(w(Z),w(se.value))!==0?(W.push(A[k+ee]),Y.push(se.value)):($.push(se.value),D&&ne.push(A[k+ee])))}return Promise.resolve(Y.length>0&&y.mutate({trans:c,type:"add",values:Y}).then(function(q){for(var Me in q.failures)W.splice(parseInt(Me),1);F(Y.length,q)})).then(function(){return($.length>0||T&&typeof n=="object")&&y.mutate({trans:c,type:"put",keys:ne,values:$,criteria:T,changeSpec:typeof n!="function"&&n,isAdditionalChunk:k>0}).then(function(q){return F($.length,q)})}).then(function(){return(W.length>0||T&&n===rr)&&y.mutate({trans:c,type:"delete",keys:W,criteria:T,isAdditionalChunk:k>0}).then(function(q){return F(W.length,q)})}).then(function(){return A.length>k+j&&V(k+O)})})};return V(0).then(function(){if(C.length>0)throw new Sr("Error modifying one or more objects",C,M,x);return A.length})})})},t.prototype.delete=function(){var n=this._ctx,s=n.range;return En(n)&&(n.isPrimKey||s.type===3)?this._write(function(l){var c=n.table.core.schema.primaryKey,h=s;return n.table.core.count({trans:l,query:{index:c,range:h}}).then(function(m){return n.table.core.mutate({trans:l,type:"deleteRange",range:h}).then(function(v){var y=v.failures;v.lastResult,v.results;var _=v.numFailures;if(_)throw new Sr("Could not delete some values",Object.keys(y).map(function(D){return y[D]}),m-_);return m-_})})}):this.modify(rr)},t}(),rr=function(t,n){return n.value=null};function Qo(t){return tr(Gi.prototype,function(s,l){this.db=t;var c=Rs,h=null;if(l)try{c=l()}catch(_){h=_}var m=s._ctx,v=m.table,y=v.hook.reading.fire;this._ctx={table:v,index:m.index,isPrimKey:!m.index||v.schema.primKey.keyPath&&m.index===v.schema.primKey.name,range:c,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:h,or:m.or,valueMapper:y!==bn?y:null}})}function Ws(t,n){return t<n?-1:t===n?0:1}function Gs(t,n){return t>n?-1:t===n?0:1}function Ze(t,n,s){var l=t instanceof Ks?new t.Collection(t):t;return l._ctx.error=s?new s(n):new TypeError(n),l}function On(t){return new t.Collection(t,function(){return kn("")}).limit(0)}function Xo(t){return t==="next"?function(n){return n.toUpperCase()}:function(n){return n.toLowerCase()}}function ea(t){return t==="next"?function(n){return n.toLowerCase()}:function(n){return n.toUpperCase()}}function Hs(t,n,s,l,c,h){for(var m=Math.min(t.length,l.length),v=-1,y=0;y<m;++y){var _=n[y];if(_!==l[y])return c(t[y],s[y])<0?t.substr(0,y)+s[y]+s.substr(y+1):c(t[y],l[y])<0?t.substr(0,y)+l[y]+s.substr(y+1):v>=0?t.substr(0,v)+n[v]+s.substr(v+1):null;c(t[y],_)<0&&(v=y)}return m<l.length&&h==="next"?t+s.substr(t.length):m<t.length&&h==="prev"?t.substr(0,s.length):v<0?null:t.substr(0,v)+l[v]+s.substr(v+1)}function pe(t,n,s,l){var c,h,m,v,y,_,D,w=s.length;if(!s.every(function(M){return typeof M=="string"}))return Ze(t,Dt);function O(M){c=Xo(M),h=ea(M),m=M==="next"?Ws:Gs;var x=s.map(function(F){return{lower:h(F),upper:c(F)}}).sort(function(F,A){return m(F.lower,A.lower)});v=x.map(function(F){return F.upper}),y=x.map(function(F){return F.lower}),_=M,D=M==="next"?"":l}O("next");var R=new t.Collection(t,function(){return ot(v[0],y[w-1]+l)});R._ondirectionchange=function(M){O(M)};var C=0;return R._addAlgorithm(function(M,x,F){var A=M.key;if(typeof A!="string")return!1;var T=h(A);if(n(T,y,C))return!0;for(var V=null,k=C;k<w;++k){var j=Hs(A,T,v[k],y[k],m,_);j===null&&V===null?C=k+1:(V===null||m(V,j)>0)&&(V=j)}return x(V!==null?function(){M.continue(V+D)}:F),!1}),R}function ot(t,n,s,l){return{type:2,lower:t,upper:n,lowerOpen:s,upperOpen:l}}function kn(t){return{type:1,lower:t,upper:t}}var Ks=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(n,s,l,c){l=l!==!1,c=c===!0;try{return this._cmp(n,s)>0||this._cmp(n,s)===0&&(l||c)&&!(l&&c)?On(this):new this.Collection(this,function(){return ot(n,s,!l,!c)})}catch{return Ze(this,qe)}},t.prototype.equals=function(n){return n==null?Ze(this,qe):new this.Collection(this,function(){return kn(n)})},t.prototype.above=function(n){return n==null?Ze(this,qe):new this.Collection(this,function(){return ot(n,void 0,!0)})},t.prototype.aboveOrEqual=function(n){return n==null?Ze(this,qe):new this.Collection(this,function(){return ot(n,void 0,!1)})},t.prototype.below=function(n){return n==null?Ze(this,qe):new this.Collection(this,function(){return ot(void 0,n,!1,!0)})},t.prototype.belowOrEqual=function(n){return n==null?Ze(this,qe):new this.Collection(this,function(){return ot(void 0,n)})},t.prototype.startsWith=function(n){return typeof n!="string"?Ze(this,Dt):this.between(n,n+Ct,!0,!0)},t.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):pe(this,function(s,l){return s.indexOf(l[0])===0},[n],Ct)},t.prototype.equalsIgnoreCase=function(n){return pe(this,function(s,l){return s===l[0]},[n],"")},t.prototype.anyOfIgnoreCase=function(){var n=it.apply(vn,arguments);return n.length===0?On(this):pe(this,function(s,l){return l.indexOf(s)!==-1},n,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var n=it.apply(vn,arguments);return n.length===0?On(this):pe(this,function(s,l){return l.some(function(c){return s.indexOf(c)===0})},n,Ct)},t.prototype.anyOf=function(){var n=this,s=it.apply(vn,arguments),l=this._cmp;try{s.sort(l)}catch{return Ze(this,qe)}if(s.length===0)return On(this);var c=new this.Collection(this,function(){return ot(s[0],s[s.length-1])});c._ondirectionchange=function(m){l=m==="next"?n._ascending:n._descending,s.sort(l)};var h=0;return c._addAlgorithm(function(m,v,y){for(var _=m.key;l(_,s[h])>0;)if(++h,h===s.length)return v(y),!1;return l(_,s[h])===0?!0:(v(function(){m.continue(s[h])}),!1)}),c},t.prototype.notEqual=function(n){return this.inAnyRange([[Vr,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var n=it.apply(vn,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return Ze(this,qe)}var s=n.reduce(function(l,c){return l?l.concat([[l[l.length-1][1],c]]):[[Vr,c]]},null);return s.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(s,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(n,s){var l=this,c=this._cmp,h=this._ascending,m=this._descending,v=this._min,y=this._max;if(n.length===0)return On(this);if(!n.every(function(k){return k[0]!==void 0&&k[1]!==void 0&&h(k[0],k[1])<=0}))return Ze(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",z.InvalidArgument);var _=!s||s.includeLowers!==!1,D=s&&s.includeUppers===!0;function w(k,j){for(var B=0,Y=k.length;B<Y;++B){var $=k[B];if(c(j[0],$[1])<0&&c(j[1],$[0])>0){$[0]=v($[0],j[0]),$[1]=y($[1],j[1]);break}}return B===Y&&k.push(j),k}var O=h;function R(k,j){return O(k[0],j[0])}var C;try{C=n.reduce(w,[]),C.sort(R)}catch{return Ze(this,qe)}var M=0,x=D?function(k){return h(k,C[M][1])>0}:function(k){return h(k,C[M][1])>=0},F=_?function(k){return m(k,C[M][0])>0}:function(k){return m(k,C[M][0])>=0};function A(k){return!x(k)&&!F(k)}var T=x,V=new this.Collection(this,function(){return ot(C[0][0],C[C.length-1][1],!_,!D)});return V._ondirectionchange=function(k){k==="next"?(T=x,O=h):(T=F,O=m),C.sort(R)},V._addAlgorithm(function(k,j,B){for(var Y=k.key;T(Y);)if(++M,M===C.length)return j(B),!1;return A(Y)?!0:(l._cmp(Y,C[M][1])===0||l._cmp(Y,C[M][0])===0||j(function(){O===h?k.continue(C[M][0]):k.continue(C[M][1])}),!1)}),V},t.prototype.startsWithAnyOf=function(){var n=it.apply(vn,arguments);return n.every(function(s){return typeof s=="string"})?n.length===0?On(this):this.inAnyRange(n.map(function(s){return[s,s+Ct]})):Ze(this,"startsWithAnyOf() only works with strings")},t}();function $s(t){return tr(Ks.prototype,function(s,l,c){if(this.db=t,this._ctx={table:s,index:l===":id"?null:l,or:c},this._cmp=this._ascending=ie,this._descending=function(h,m){return ie(m,h)},this._max=function(h,m){return ie(h,m)>0?h:m},this._min=function(h,m){return ie(h,m)<0?h:m},this._IDBKeyRange=t._deps.IDBKeyRange,!this._IDBKeyRange)throw new z.MissingAPI})}function St(t){return be(function(n){return ir(n),t(n.target.error),!1})}function ir(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var Jt="storagemutated",Mt="x-storagemutated-1",xt=er(null,Jt),ta=function(){function t(){}return t.prototype._lock=function(){return Xt(!L.global),++this._reculock,this._reculock===1&&!L.global&&(L.lockOwnerFor=this),this},t.prototype._unlock=function(){if(Xt(!L.global),--this._reculock===0)for(L.global||(L.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var n=this._blockedFuncs.shift();try{on(n[1],n[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&L.lockOwnerFor!==this},t.prototype.create=function(n){var s=this;if(!this.mode)return this;var l=this.db.idbdb,c=this.db._state.dbOpenError;if(Xt(!this.idbtrans),!n&&!l)switch(c&&c.name){case"DatabaseClosedError":throw new z.DatabaseClosed(c);case"MissingAPIError":throw new z.MissingAPI(c.message,c);default:throw new z.OpenFailed(c)}if(!this.active)throw new z.TransactionInactive;return Xt(this._completion._state===null),n=this.idbtrans=n||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):l.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),n.onerror=be(function(h){ir(h),s._reject(n.error)}),n.onabort=be(function(h){ir(h),s.active&&s._reject(new z.Abort(n.error)),s.active=!1,s.on("abort").fire(h)}),n.oncomplete=be(function(){s.active=!1,s._resolve(),"mutatedParts"in n&&xt.storagemutated.fire(n.mutatedParts)}),this},t.prototype._promise=function(n,s,l){var c=this;if(n==="readwrite"&&this.mode!=="readwrite")return Se(new z.ReadOnly("Transaction is readonly"));if(!this.active)return Se(new z.TransactionInactive);if(this._locked())return new N(function(m,v){c._blockedFuncs.push([function(){c._promise(n,s,l).then(m,v)},L])});if(l)return qt(function(){var m=new N(function(v,y){c._lock();var _=s(v,y,c);_&&_.then&&_.then(v,y)});return m.finally(function(){return c._unlock()}),m._lib=!0,m});var h=new N(function(m,v){var y=s(m,v,c);y&&y.then&&y.then(m,v)});return h._lib=!0,h},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(n){var s=this._root(),l=N.resolve(n);if(s._waitingFor)s._waitingFor=s._waitingFor.then(function(){return l});else{s._waitingFor=l,s._waitingQueue=[];var c=s.idbtrans.objectStore(s.storeNames[0]);(function m(){for(++s._spinCount;s._waitingQueue.length;)s._waitingQueue.shift()();s._waitingFor&&(c.get(-1/0).onsuccess=m)})()}var h=s._waitingFor;return new N(function(m,v){l.then(function(y){return s._waitingQueue.push(be(m.bind(null,y)))},function(y){return s._waitingQueue.push(be(v.bind(null,y)))}).finally(function(){s._waitingFor===h&&(s._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new z.Abort))},t.prototype.table=function(n){var s=this._memoizedTables||(this._memoizedTables={});if(me(s,n))return s[n];var l=this.schema[n];if(!l)throw new z.NotFound("Table "+n+" not part of transaction");var c=new this.db.Table(n,l,this);return c.core=this.db.core.table(n),s[n]=c,c},t}();function Nt(t){return tr(ta.prototype,function(s,l,c,h,m){var v=this;this.db=t,this.mode=s,this.storeNames=l,this.schema=c,this.chromeTransactionDurability=h,this.idbtrans=null,this.on=er(this,"complete","error","abort"),this.parent=m||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new N(function(y,_){v._resolve=y,v._reject=_}),this._completion.then(function(){v.active=!1,v.on.complete.fire()},function(y){var _=v.active;return v.active=!1,v.on.error.fire(y),v.parent?v.parent._reject(y):_&&v.idbtrans&&v.idbtrans.abort(),Se(y)})})}function Hi(t,n,s,l,c,h,m){return{name:t,keyPath:n,unique:s,multi:l,auto:c,compound:h,src:(s&&!m?"&":"")+(l?"*":"")+(c?"++":"")+jr(n)}}function jr(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Ki(t,n,s){return{name:t,primKey:n,indexes:s,mappedClass:null,idxByName:ft(s,function(l){return[l.name,l]})}}function na(t){return t.length===1?t[0]:t}var sr=function(t){try{return t.only([[]]),sr=function(){return[[]]},[[]]}catch{return sr=function(){return Ct},Ct}};function An(t){return t==null?function(){}:typeof t=="string"?$i(t):function(n){return vt(n,t)}}function $i(t){var n=t.split(".");return n.length===1?function(s){return s[t]}:function(s){return vt(s,t)}}function zs(t){return[].slice.call(t)}var ra=0;function or(t){return t==null?":id":typeof t=="string"?t:"[".concat(t.join("+"),"]")}function qs(t,n,s){function l(w,O){var R=zs(w.objectStoreNames);return{schema:{name:w.name,tables:R.map(function(C){return O.objectStore(C)}).map(function(C){var M=C.keyPath,x=C.autoIncrement,F=I(M),A=M==null,T={},V={name:C.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:A,compound:F,keyPath:M,autoIncrement:x,unique:!0,extractKey:An(M)},indexes:zs(C.indexNames).map(function(k){return C.index(k)}).map(function(k){var j=k.name,B=k.unique,Y=k.multiEntry,$=k.keyPath,ne=I($),W={name:j,compound:ne,keyPath:$,unique:B,multiEntry:Y,extractKey:An($)};return T[or($)]=W,W}),getIndexByKeyPath:function(k){return T[or(k)]}};return T[":id"]=V.primaryKey,M!=null&&(T[or(M)]=V.primaryKey),V})},hasGetAll:R.length>0&&"getAll"in O.objectStore(R[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function c(w){if(w.type===3)return null;if(w.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var O=w.lower,R=w.upper,C=w.lowerOpen,M=w.upperOpen,x=O===void 0?R===void 0?null:n.upperBound(R,!!M):R===void 0?n.lowerBound(O,!!C):n.bound(O,R,!!C,!!M);return x}function h(w){var O=w.name;function R(x){var F=x.trans,A=x.type,T=x.keys,V=x.values,k=x.range;return new Promise(function(j,B){j=be(j);var Y=F.objectStore(O),$=Y.keyPath==null,ne=A==="put"||A==="add";if(!ne&&A!=="delete"&&A!=="deleteRange")throw new Error("Invalid operation type: "+A);var W=(T||V||{length:1}).length;if(T&&V&&T.length!==V.length)throw new Error("Given keys array must have same length as given values array.");if(W===0)return j({numFailures:0,failures:{},results:[],lastResult:void 0});var ee,Z=[],se=[],q=0,Me=function(Ot){++q,ir(Ot)};if(A==="deleteRange"){if(k.type===4)return j({numFailures:q,failures:se,results:[],lastResult:void 0});k.type===3?Z.push(ee=Y.clear()):Z.push(ee=Y.delete(c(k)))}else{var Le=ne?$?[V,T]:[V,null]:[T,null],Et=Le[0],We=Le[1];if(ne)for(var at=0;at<W;++at)Z.push(ee=We&&We[at]!==void 0?Y[A](Et[at],We[at]):Y[A](Et[at])),ee.onerror=Me;else for(var at=0;at<W;++at)Z.push(ee=Y[A](Et[at])),ee.onerror=Me}var Ut=function(Ot){var dr=Ot.target.result;Z.forEach(function(ut,ri){return ut.error!=null&&(se[ri]=ut.error)}),j({numFailures:q,failures:se,results:A==="delete"?T:Z.map(function(ut){return ut.result}),lastResult:dr})};ee.onerror=function(Ot){Me(Ot),Ut(Ot)},ee.onsuccess=Ut})}function C(x){var F=x.trans,A=x.values,T=x.query,V=x.reverse,k=x.unique;return new Promise(function(j,B){j=be(j);var Y=T.index,$=T.range,ne=F.objectStore(O),W=Y.isPrimaryKey?ne:ne.index(Y.name),ee=V?k?"prevunique":"prev":k?"nextunique":"next",Z=A||!("openKeyCursor"in W)?W.openCursor(c($),ee):W.openKeyCursor(c($),ee);Z.onerror=St(B),Z.onsuccess=be(function(se){var q=Z.result;if(!q){j(null);return}q.___id=++ra,q.done=!1;var Me=q.continue.bind(q),Le=q.continuePrimaryKey;Le&&(Le=Le.bind(q));var Et=q.advance.bind(q),We=function(){throw new Error("Cursor not started")},at=function(){throw new Error("Cursor not stopped")};q.trans=F,q.stop=q.continue=q.continuePrimaryKey=q.advance=We,q.fail=be(B),q.next=function(){var Ut=this,Ot=1;return this.start(function(){return Ot--?Ut.continue():Ut.stop()}).then(function(){return Ut})},q.start=function(Ut){var Ot=new Promise(function(ut,ri){ut=be(ut),Z.onerror=St(ri),q.fail=ri,q.stop=function(Ia){q.stop=q.continue=q.continuePrimaryKey=q.advance=at,ut(Ia)}}),dr=function(){if(Z.result)try{Ut()}catch(ut){q.fail(ut)}else q.done=!0,q.start=function(){throw new Error("Cursor behind last entry")},q.stop()};return Z.onsuccess=be(function(ut){Z.onsuccess=dr,dr()}),q.continue=Me,q.continuePrimaryKey=Le,q.advance=Et,dr(),Ot},j(q)},B)})}function M(x){return function(F){return new Promise(function(A,T){A=be(A);var V=F.trans,k=F.values,j=F.limit,B=F.query,Y=j===1/0?void 0:j,$=B.index,ne=B.range,W=V.objectStore(O),ee=$.isPrimaryKey?W:W.index($.name),Z=c(ne);if(j===0)return A({result:[]});if(x){var se=k?ee.getAll(Z,Y):ee.getAllKeys(Z,Y);se.onsuccess=function(Et){return A({result:Et.target.result})},se.onerror=St(T)}else{var q=0,Me=k||!("openKeyCursor"in ee)?ee.openCursor(Z):ee.openKeyCursor(Z),Le=[];Me.onsuccess=function(Et){var We=Me.result;if(!We)return A({result:Le});if(Le.push(k?We.value:We.primaryKey),++q===j)return A({result:Le});We.continue()},Me.onerror=St(T)}})}}return{name:O,schema:w,mutate:R,getMany:function(x){var F=x.trans,A=x.keys;return new Promise(function(T,V){T=be(T);for(var k=F.objectStore(O),j=A.length,B=new Array(j),Y=0,$=0,ne,W=function(q){var Me=q.target;(B[Me._pos]=Me.result)!=null,++$===Y&&T(B)},ee=St(V),Z=0;Z<j;++Z){var se=A[Z];se!=null&&(ne=k.get(A[Z]),ne._pos=Z,ne.onsuccess=W,ne.onerror=ee,++Y)}Y===0&&T(B)})},get:function(x){var F=x.trans,A=x.key;return new Promise(function(T,V){T=be(T);var k=F.objectStore(O),j=k.get(A);j.onsuccess=function(B){return T(B.target.result)},j.onerror=St(V)})},query:M(y),openCursor:C,count:function(x){var F=x.query,A=x.trans,T=F.index,V=F.range;return new Promise(function(k,j){var B=A.objectStore(O),Y=T.isPrimaryKey?B:B.index(T.name),$=c(V),ne=$?Y.count($):Y.count();ne.onsuccess=be(function(W){return k(W.target.result)}),ne.onerror=St(j)})}}}var m=l(t,s),v=m.schema,y=m.hasGetAll,_=v.tables.map(function(w){return h(w)}),D={};return _.forEach(function(w){return D[w.name]=w}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(w){var O=D[w];if(!O)throw new Error("Table '".concat(w,"' not found"));return D[w]},MIN_KEY:-1/0,MAX_KEY:sr(n),schema:v}}function ia(t,n){return n.reduce(function(s,l){var c=l.create;return i(i({},s),c(s))},t)}function sa(t,n,s,l){var c=s.IDBKeyRange;s.indexedDB;var h=ia(qs(n,c,l),t.dbcore);return{dbcore:h}}function Yr(t,n){var s=n.db,l=sa(t._middlewares,s,t._deps,n);t.core=l.dbcore,t.tables.forEach(function(c){var h=c.name;t.core.schema.tables.some(function(m){return m.name===h})&&(c.core=t.core.table(h),t[h]instanceof t.Table&&(t[h].core=c.core))})}function Br(t,n,s,l){s.forEach(function(c){var h=l[c];n.forEach(function(m){var v=vr(m,c);(!v||"value"in v&&v.value===void 0)&&(m===t.Transaction.prototype||m instanceof t.Transaction?Ht(m,c,{get:function(){return this.table(c)},set:function(y){dt(this,c,{value:y,writable:!0,configurable:!0,enumerable:!0})}}):m[c]=new t.Table(c,h))})})}function zi(t,n){n.forEach(function(s){for(var l in s)s[l]instanceof t.Table&&delete s[l]})}function Zs(t,n){return t._cfg.version-n._cfg.version}function oa(t,n,s,l){var c=t._dbSchema;s.objectStoreNames.contains("$meta")&&!c.$meta&&(c.$meta=Ki("$meta",ge("")[0],[]),t._storeNames.push("$meta"));var h=t._createTransaction("readwrite",t._storeNames,c);h.create(s),h._completion.catch(l);var m=h._reject.bind(h),v=L.transless||L;qt(function(){if(L.trans=h,L.transless=v,n===0)S(c).forEach(function(y){ar(s,y,c[y].primKey,c[y].indexes)}),Yr(t,s),N.follow(function(){return t.on.populate.fire(h)}).catch(m);else return Yr(t,s),aa(t,h,n).then(function(y){return qi(t,y,h,s)}).catch(m)})}function Tn(t,n){Js(t._dbSchema,n),n.db.version%10===0&&!n.objectStoreNames.contains("$meta")&&n.db.createObjectStore("$meta").add(Math.ceil(n.db.version/10-1),"version");var s=Wr(t,t.idbdb,n);ur(t,t._dbSchema,n);for(var l=Zi(s,t._dbSchema),c=function(_){if(_.change.length||_.recreate)return console.warn("Unable to patch indexes of table ".concat(_.name," because it has changes on the type of index or primary key.")),{value:void 0};var D=n.objectStore(_.name);_.add.forEach(function(w){$e&&console.debug("Dexie upgrade patch: Creating missing index ".concat(_.name,".").concat(w.src)),Ur(D,w)})},h=0,m=l.change;h<m.length;h++){var v=m[h],y=c(v);if(typeof y=="object")return y.value}}function aa(t,n,s){return n.storeNames.includes("$meta")?n.table("$meta").get("version").then(function(l){return l??s}):N.resolve(s)}function qi(t,n,s,l){var c=[],h=t._versions,m=t._dbSchema=Wr(t,t.idbdb,l),v=h.filter(function(_){return _._cfg.version>=n});if(v.length===0)return N.resolve();v.forEach(function(_){c.push(function(){var D=m,w=_._cfg.dbschema;ur(t,D,l),ur(t,w,l),m=t._dbSchema=w;var O=Zi(D,w);O.add.forEach(function(A){ar(l,A[0],A[1].primKey,A[1].indexes)}),O.change.forEach(function(A){if(A.recreate)throw new z.Upgrade("Not yet support for changing primary key");var T=l.objectStore(A.name);A.add.forEach(function(V){return Ur(T,V)}),A.change.forEach(function(V){T.deleteIndex(V.name),Ur(T,V)}),A.del.forEach(function(V){return T.deleteIndex(V)})});var R=_._cfg.contentUpgrade;if(R&&_._cfg.version>n){Yr(t,l),s._memoizedTables={};var C=ki(w);O.del.forEach(function(A){C[A]=D[A]}),zi(t,[t.Transaction.prototype]),Br(t,[t.Transaction.prototype],S(C),C),s.schema=C;var M=Dr(R);M&&Sn();var x,F=N.follow(function(){if(x=R(s),x&&M){var A=Zt.bind(null,null);x.then(A,A)}});return x&&typeof x.then=="function"?N.resolve(x):F.then(function(){return x})}}),c.push(function(D){var w=_._cfg.dbschema;ua(w,D),zi(t,[t.Transaction.prototype]),Br(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),s.schema=t._dbSchema}),c.push(function(D){t.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(t.idbdb.version/10)===_._cfg.version?(t.idbdb.deleteObjectStore("$meta"),delete t._dbSchema.$meta,t._storeNames=t._storeNames.filter(function(w){return w!=="$meta"})):D.objectStore("$meta").put(_._cfg.version,"version"))})});function y(){return c.length?N.resolve(c.shift()(s.idbtrans)).then(y):N.resolve()}return y().then(function(){Js(m,l)})}function Zi(t,n){var s={del:[],add:[],change:[]},l;for(l in t)n[l]||s.del.push(l);for(l in n){var c=t[l],h=n[l];if(!c)s.add.push([l,h]);else{var m={name:l,def:h,recreate:!1,del:[],add:[],change:[]};if(""+(c.primKey.keyPath||"")!=""+(h.primKey.keyPath||"")||c.primKey.auto!==h.primKey.auto)m.recreate=!0,s.change.push(m);else{var v=c.idxByName,y=h.idxByName,_=void 0;for(_ in v)y[_]||m.del.push(_);for(_ in y){var D=v[_],w=y[_];D?D.src!==w.src&&m.change.push(w):m.add.push(w)}(m.del.length>0||m.add.length>0||m.change.length>0)&&s.change.push(m)}}}return s}function ar(t,n,s,l){var c=t.db.createObjectStore(n,s.keyPath?{keyPath:s.keyPath,autoIncrement:s.auto}:{autoIncrement:s.auto});return l.forEach(function(h){return Ur(c,h)}),c}function Js(t,n){S(t).forEach(function(s){n.db.objectStoreNames.contains(s)||($e&&console.debug("Dexie: Creating missing table",s),ar(n,s,t[s].primKey,t[s].indexes))})}function ua(t,n){[].slice.call(n.db.objectStoreNames).forEach(function(s){return t[s]==null&&n.db.deleteObjectStore(s)})}function Ur(t,n){t.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function Wr(t,n,s){var l={},c=Hn(n.objectStoreNames,0);return c.forEach(function(h){for(var m=s.objectStore(h),v=m.keyPath,y=Hi(jr(v),v||"",!0,!1,!!m.autoIncrement,v&&typeof v!="string",!0),_=[],D=0;D<m.indexNames.length;++D){var w=m.index(m.indexNames[D]);v=w.keyPath;var O=Hi(w.name,v,!!w.unique,!!w.multiEntry,!1,v&&typeof v!="string",!1);_.push(O)}l[h]=Ki(h,y,_)}),l}function Qs(t,n,s){t.verno=n.version/10;var l=t._dbSchema=Wr(t,n,s);t._storeNames=Hn(n.objectStoreNames,0),Br(t,[t._allTables],S(l),l)}function la(t,n){var s=Wr(t,t.idbdb,n),l=Zi(s,t._dbSchema);return!(l.add.length||l.change.some(function(c){return c.add.length||c.change.length}))}function ur(t,n,s){for(var l=s.db.objectStoreNames,c=0;c<l.length;++c){var h=l[c],m=s.objectStore(h);t._hasGetAll="getAll"in m;for(var v=0;v<m.indexNames.length;++v){var y=m.indexNames[v],_=m.index(y).keyPath,D=typeof _=="string"?_:"["+Hn(_).join("+")+"]";if(n[h]){var w=n[h].idxByName[D];w&&(w.name=y,delete n[h].idxByName[D],n[h].idxByName[y]=w)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&g.WorkerGlobalScope&&g instanceof g.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function ge(t){return t.split(",").map(function(n,s){n=n.trim();var l=n.replace(/([&*]|\+\+)/g,""),c=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Hi(l,c||null,/\&/.test(n),/\*/.test(n),/\+\+/.test(n),I(c),s===0)})}var ca=function(){function t(){}return t.prototype._parseStoresSpec=function(n,s){S(n).forEach(function(l){if(n[l]!==null){var c=ge(n[l]),h=c.shift();if(h.unique=!0,h.multi)throw new z.Schema("Primary key cannot be multi-valued");c.forEach(function(m){if(m.auto)throw new z.Schema("Only primary key can be marked as autoIncrement (++)");if(!m.keyPath)throw new z.Schema("Index must have a name and cannot be an empty string")}),s[l]=Ki(l,h,c)}})},t.prototype.stores=function(n){var s=this.db;this._cfg.storesSource=this._cfg.storesSource?G(this._cfg.storesSource,n):n;var l=s._versions,c={},h={};return l.forEach(function(m){G(c,m._cfg.storesSource),h=m._cfg.dbschema={},m._parseStoresSpec(c,h)}),s._dbSchema=h,zi(s,[s._allTables,s,s.Transaction.prototype]),Br(s,[s._allTables,s,s.Transaction.prototype,this._cfg.tables],S(h),h),s._storeNames=S(h),this},t.prototype.upgrade=function(n){return this._cfg.contentUpgrade=Er(this._cfg.contentUpgrade||he,n),this},t}();function da(t){return tr(ca.prototype,function(s){this.db=t,this._cfg={version:s,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Gr(t,n){var s=t._dbNamesDB;return s||(s=t._dbNamesDB=new jt(Rr,{addons:[],indexedDB:t,IDBKeyRange:n}),s.version(1).stores({dbnames:"name"})),s.table("dbnames")}function Ji(t){return t&&typeof t.databases=="function"}function fa(t){var n=t.indexedDB,s=t.IDBKeyRange;return Ji(n)?Promise.resolve(n.databases()).then(function(l){return l.map(function(c){return c.name}).filter(function(c){return c!==Rr})}):Gr(n,s).toCollection().primaryKeys()}function ha(t,n){var s=t.indexedDB,l=t.IDBKeyRange;!Ji(s)&&n!==Rr&&Gr(s,l).put({name:n}).catch(he)}function lr(t,n){var s=t.indexedDB,l=t.IDBKeyRange;!Ji(s)&&n!==Rr&&Gr(s,l).delete(n).catch(he)}function Qi(t){return qt(function(){return L.letThrough=!0,t()})}function pa(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var n;return new Promise(function(s){var l=function(){return indexedDB.databases().finally(s)};n=setInterval(l,100),l()}).finally(function(){return clearInterval(n)})}var Xi;function In(t){return!("from"in t)}var Te=function(t,n){if(this)G(this,arguments.length?{d:1,from:t,to:arguments.length>1?n:t}:{d:0});else{var s=new Te;return t&&"d"in t&&G(s,t),s}};Pe(Te.prototype,(Xi={add:function(t){return cr(this,t),this},addKey:function(t){return un(this,t,t),this},addKeys:function(t){var n=this;return t.forEach(function(s){return un(n,s,s)}),this},hasKey:function(t){var n=Hr(this).next(t).value;return n&&ie(n.from,t)<=0&&ie(n.to,t)>=0}},Xi[Kt]=function(){return Hr(this)},Xi));function un(t,n,s){var l=ie(n,s);if(!isNaN(l)){if(l>0)throw RangeError();if(In(t))return G(t,{from:n,to:s,d:1});var c=t.l,h=t.r;if(ie(s,t.from)<0)return c?un(c,n,s):t.l={from:n,to:s,d:1,l:null,r:null},Kr(t);if(ie(n,t.to)>0)return h?un(h,n,s):t.r={from:n,to:s,d:1,l:null,r:null},Kr(t);ie(n,t.from)<0&&(t.from=n,t.l=null,t.d=h?h.d+1:1),ie(s,t.to)>0&&(t.to=s,t.r=null,t.d=t.l?t.l.d+1:1);var m=!t.r;c&&!t.l&&cr(t,c),h&&m&&cr(t,h)}}function cr(t,n){function s(l,c){var h=c.from,m=c.to,v=c.l,y=c.r;un(l,h,m),v&&s(l,v),y&&s(l,y)}In(n)||s(t,n)}function es(t,n){var s=Hr(n),l=s.next();if(l.done)return!1;for(var c=l.value,h=Hr(t),m=h.next(c.from),v=m.value;!l.done&&!m.done;){if(ie(v.from,c.to)<=0&&ie(v.to,c.from)>=0)return!0;ie(c.from,v.from)<0?c=(l=s.next(v.from)).value:v=(m=h.next(c.from)).value}return!1}function Hr(t){var n=In(t)?null:{s:0,n:t};return{next:function(s){for(var l=arguments.length>0;n;)switch(n.s){case 0:if(n.s=1,l)for(;n.n.l&&ie(s,n.n.from)<0;)n={up:n,n:n.n.l,s:1};else for(;n.n.l;)n={up:n,n:n.n.l,s:1};case 1:if(n.s=2,!l||ie(s,n.n.to)<=0)return{value:n.n,done:!1};case 2:if(n.n.r){n.s=3,n={up:n,n:n.n.r,s:0};continue}case 3:n=n.up}return{done:!0}}}}function Kr(t){var n,s,l=(((n=t.r)===null||n===void 0?void 0:n.d)||0)-(((s=t.l)===null||s===void 0?void 0:s.d)||0),c=l>1?"r":l<-1?"l":"";if(c){var h=c==="r"?"l":"r",m=i({},t),v=t[c];t.from=v.from,t.to=v.to,t[c]=v[c],m[c]=v[h],t[h]=m,m.d=$r(m)}t.d=$r(t)}function $r(t){var n=t.r,s=t.l;return(n?s?Math.max(n.d,s.d):n.d:s?s.d:0)+1}function Fn(t,n){return S(n).forEach(function(s){t[s]?cr(t[s],n[s]):t[s]=wr(n[s])}),t}function ts(t,n){return t.all||n.all||Object.keys(t).some(function(s){return n[s]&&es(n[s],t[s])})}var ln={},ns={},rs=!1;function zr(t,n){Fn(ns,t),rs||(rs=!0,setTimeout(function(){rs=!1;var s=ns;ns={},is(s,!1)},0))}function is(t,n){n===void 0&&(n=!1);var s=new Set;if(t.all)for(var l=0,c=Object.values(ln);l<c.length;l++){var h=c[l];Xs(h,t,s,n)}else for(var m in t){var v=/^idb\:\/\/(.*)\/(.*)\//.exec(m);if(v){var y=v[1],_=v[2],h=ln["idb://".concat(y,"/").concat(_)];h&&Xs(h,t,s,n)}}s.forEach(function(D){return D()})}function Xs(t,n,s,l){for(var c=[],h=0,m=Object.entries(t.queries.query);h<m.length;h++){for(var v=m[h],y=v[0],_=v[1],D=[],w=0,O=_;w<O.length;w++){var R=O[w];ts(n,R.obsSet)?R.subscribers.forEach(function(F){return s.add(F)}):l&&D.push(R)}l&&c.push([y,D])}if(l)for(var C=0,M=c;C<M.length;C++){var x=M[C],y=x[0],D=x[1];t.queries.query[y]=D}}function ma(t){var n=t._state,s=t._deps.indexedDB;if(n.isBeingOpened||t.idbdb)return n.dbReadyPromise.then(function(){return n.dbOpenError?Se(n.dbOpenError):t});n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;var l=n.openCanceller,c=Math.round(t.verno*10),h=!1;function m(){if(n.openCanceller!==l)throw new z.DatabaseClosed("db.open() was cancelled")}var v=n.dbReadyResolve,y=null,_=!1,D=function(){return new N(function(w,O){if(m(),!s)throw new z.MissingAPI;var R=t.name,C=n.autoSchema||!c?s.open(R):s.open(R,c);if(!C)throw new z.MissingAPI;C.onerror=St(O),C.onblocked=be(t._fireOnBlocked),C.onupgradeneeded=be(function(M){if(y=C.transaction,n.autoSchema&&!t._options.allowEmptyDB){C.onerror=ir,y.abort(),C.result.close();var x=s.deleteDatabase(R);x.onsuccess=x.onerror=be(function(){O(new z.NoSuchDatabase("Database ".concat(R," doesnt exist")))})}else{y.onerror=St(O);var F=M.oldVersion>Math.pow(2,62)?0:M.oldVersion;_=F<1,t.idbdb=C.result,h&&Tn(t,y),oa(t,F/10,y,O)}},O),C.onsuccess=be(function(){y=null;var M=t.idbdb=C.result,x=Hn(M.objectStoreNames);if(x.length>0)try{var F=M.transaction(na(x),"readonly");if(n.autoSchema)Qs(t,M,F);else if(ur(t,t._dbSchema,F),!la(t,F)&&!h)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),M.close(),c=M.version+1,h=!0,w(D());Yr(t,F)}catch{}xn.push(t),M.onversionchange=be(function(A){n.vcFired=!0,t.on("versionchange").fire(A)}),M.onclose=be(function(A){t.on("close").fire(A)}),_&&ha(t._deps,R),w()},O)}).catch(function(w){switch(w?.name){case"UnknownError":if(n.PR1398_maxLoop>0)return n.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),D();break;case"VersionError":if(c>0)return c=0,D();break}return N.reject(w)})};return N.race([l,(typeof navigator>"u"?N.resolve():pa()).then(D)]).then(function(){return m(),n.onReadyBeingFired=[],N.resolve(Qi(function(){return t.on.ready.fire(t.vip)})).then(function w(){if(n.onReadyBeingFired.length>0){var O=n.onReadyBeingFired.reduce(Er,he);return n.onReadyBeingFired=[],N.resolve(Qi(function(){return O(t.vip)})).then(w)}})}).finally(function(){n.openCanceller===l&&(n.onReadyBeingFired=null,n.isBeingOpened=!1)}).catch(function(w){n.dbOpenError=w;try{y&&y.abort()}catch{}return l===n.openCanceller&&t._close(),Se(w)}).finally(function(){n.openComplete=!0,v()}).then(function(){if(_){var w={};t.tables.forEach(function(O){O.schema.indexes.forEach(function(R){R.name&&(w["idb://".concat(t.name,"/").concat(O.name,"/").concat(R.name)]=new Te(-1/0,[[[]]]))}),w["idb://".concat(t.name,"/").concat(O.name,"/")]=w["idb://".concat(t.name,"/").concat(O.name,"/:dels")]=new Te(-1/0,[[[]]])}),xt(Jt).fire(w),is(w,!0)}return t})}function ss(t){var n=function(m){return t.next(m)},s=function(m){return t.throw(m)},l=h(n),c=h(s);function h(m){return function(v){var y=m(v),_=y.value;return y.done?_:!_||typeof _.then!="function"?I(_)?Promise.all(_).then(l,c):l(_):_.then(l,c)}}return h(n)()}function ga(t,n,s){var l=arguments.length;if(l<2)throw new z.InvalidArgument("Too few arguments");for(var c=new Array(l-1);--l;)c[l-1]=arguments[l];s=c.pop();var h=Es(c);return[t,h,s]}function os(t,n,s,l,c){return N.resolve().then(function(){var h=L.transless||L,m=t._createTransaction(n,s,t._dbSchema,l);m.explicit=!0;var v={trans:m,transless:h};if(l)m.idbtrans=l.idbtrans;else try{m.create(),m.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(w){return w.name===Ii.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return os(t,n,s,null,c)})):Se(w)}var y=Dr(c);y&&Sn();var _,D=N.follow(function(){if(_=c.call(m,m),_)if(y){var w=Zt.bind(null,null);_.then(w,w)}else typeof _.next=="function"&&typeof _.throw=="function"&&(_=ss(_))},v);return(_&&typeof _.then=="function"?N.resolve(_).then(function(w){return m.active?w:Se(new z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):D.then(function(){return _})).then(function(w){return l&&m._resolve(),m._completion.then(function(){return w})}).catch(function(w){return m._reject(w),Se(w)})})}function qr(t,n,s){for(var l=I(t)?t.slice():[t],c=0;c<s;++c)l.push(n);return l}function va(t){return i(i({},t),{table:function(n){var s=t.table(n),l=s.schema,c={},h=[];function m(M,x,F){var A=or(M),T=c[A]=c[A]||[],V=M==null?0:typeof M=="string"?1:M.length,k=x>0,j=i(i({},F),{name:k?"".concat(A,"(virtual-from:").concat(F.name,")"):F.name,lowLevelIndex:F,isVirtual:k,keyTail:x,keyLength:V,extractKey:An(M),unique:!k&&F.unique});if(T.push(j),j.isPrimaryKey||h.push(j),V>1){var B=V===2?M[0]:M.slice(0,V-1);m(B,x+1,F)}return T.sort(function(Y,$){return Y.keyTail-$.keyTail}),j}var v=m(l.primaryKey.keyPath,0,l.primaryKey);c[":id"]=[v];for(var y=0,_=l.indexes;y<_.length;y++){var D=_[y];m(D.keyPath,0,D)}function w(M){var x=c[or(M)];return x&&x[0]}function O(M,x){return{type:M.type===1?2:M.type,lower:qr(M.lower,M.lowerOpen?t.MAX_KEY:t.MIN_KEY,x),lowerOpen:!0,upper:qr(M.upper,M.upperOpen?t.MIN_KEY:t.MAX_KEY,x),upperOpen:!0}}function R(M){var x=M.query.index;return x.isVirtual?i(i({},M),{query:{index:x.lowLevelIndex,range:O(M.query.range,x.keyTail)}}):M}var C=i(i({},s),{schema:i(i({},l),{primaryKey:v,indexes:h,getIndexByKeyPath:w}),count:function(M){return s.count(R(M))},query:function(M){return s.query(R(M))},openCursor:function(M){var x=M.query.index,F=x.keyTail,A=x.isVirtual,T=x.keyLength;if(!A)return s.openCursor(M);function V(k){function j(Y){Y!=null?k.continue(qr(Y,M.reverse?t.MAX_KEY:t.MIN_KEY,F)):M.unique?k.continue(k.key.slice(0,T).concat(M.reverse?t.MIN_KEY:t.MAX_KEY,F)):k.continue()}var B=Object.create(k,{continue:{value:j},continuePrimaryKey:{value:function(Y,$){k.continuePrimaryKey(qr(Y,t.MAX_KEY,F),$)}},primaryKey:{get:function(){return k.primaryKey}},key:{get:function(){var Y=k.key;return T===1?Y[0]:Y.slice(0,T)}},value:{get:function(){return k.value}}});return B}return s.openCursor(R(M)).then(function(k){return k&&V(k)})}});return C}})}var mt={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:va};function Lt(t,n,s,l){return s=s||{},l=l||"",S(t).forEach(function(c){if(!me(n,c))s[l+c]=void 0;else{var h=t[c],m=n[c];if(typeof h=="object"&&typeof m=="object"&&h&&m){var v=zn(h),y=zn(m);v!==y?s[l+c]=n[c]:v==="Object"?Lt(h,m,s,l+c+"."):h!==m&&(s[l+c]=n[c])}else h!==m&&(s[l+c]=n[c])}}),S(n).forEach(function(c){me(t,c)||(s[l+c]=n[c])}),s}function Zr(t,n){return n.type==="delete"?n.keys:n.keys||n.values.map(t.extractKey)}var ya={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return i(i({},t),{table:function(n){var s=t.table(n),l=s.schema.primaryKey,c=i(i({},s),{mutate:function(h){var m=L.trans,v=m.table(n).hook,y=v.deleting,_=v.creating,D=v.updating;switch(h.type){case"add":if(_.fire===he)break;return m._promise("readwrite",function(){return w(h)},!0);case"put":if(_.fire===he&&D.fire===he)break;return m._promise("readwrite",function(){return w(h)},!0);case"delete":if(y.fire===he)break;return m._promise("readwrite",function(){return w(h)},!0);case"deleteRange":if(y.fire===he)break;return m._promise("readwrite",function(){return O(h)},!0)}return s.mutate(h);function w(C){var M=L.trans,x=C.keys||Zr(l,C);if(!x)throw new Error("Keys missing");return C=C.type==="add"||C.type==="put"?i(i({},C),{keys:x}):i({},C),C.type!=="delete"&&(C.values=f([],C.values,!0)),C.keys&&(C.keys=f([],C.keys,!0)),eo(s,C,x).then(function(F){var A=x.map(function(T,V){var k=F[V],j={onerror:null,onsuccess:null};if(C.type==="delete")y.fire.call(j,T,k,M);else if(C.type==="add"||k===void 0){var B=_.fire.call(j,T,C.values[V],M);T==null&&B!=null&&(T=B,C.keys[V]=T,l.outbound||_e(C.values[V],l.keyPath,T))}else{var Y=Lt(k,C.values[V]),$=D.fire.call(j,Y,T,k,M);if($){var ne=C.values[V];Object.keys($).forEach(function(W){me(ne,W)?ne[W]=$[W]:_e(ne,W,$[W])})}}return j});return s.mutate(C).then(function(T){for(var V=T.failures,k=T.results,j=T.numFailures,B=T.lastResult,Y=0;Y<x.length;++Y){var $=k?k[Y]:x[Y],ne=A[Y];$==null?ne.onerror&&ne.onerror(V[Y]):ne.onsuccess&&ne.onsuccess(C.type==="put"&&F[Y]?C.values[Y]:$)}return{failures:V,results:k,numFailures:j,lastResult:B}}).catch(function(T){return A.forEach(function(V){return V.onerror&&V.onerror(T)}),Promise.reject(T)})})}function O(C){return R(C.trans,C.range,1e4)}function R(C,M,x){return s.query({trans:C,values:!1,query:{index:l,range:M},limit:x}).then(function(F){var A=F.result;return w({type:"delete",keys:A,trans:C}).then(function(T){return T.numFailures>0?Promise.reject(T.failures[0]):A.length<x?{failures:[],numFailures:0,lastResult:void 0}:R(C,i(i({},M),{lower:A[A.length-1],lowerOpen:!0}),x)})})}}});return c}})}};function eo(t,n,s){return n.type==="add"?Promise.resolve([]):t.getMany({trans:n.trans,keys:s,cache:"immutable"})}function as(t,n,s){try{if(!n||n.keys.length<t.length)return null;for(var l=[],c=0,h=0;c<n.keys.length&&h<t.length;++c)ie(n.keys[c],t[h])===0&&(l.push(s?Ne(n.values[c]):n.values[c]),++h);return l.length===t.length?l:null}catch{return null}}var _a={stack:"dbcore",level:-1,create:function(t){return{table:function(n){var s=t.table(n);return i(i({},s),{getMany:function(l){if(!l.cache)return s.getMany(l);var c=as(l.keys,l.trans._cache,l.cache==="clone");return c?N.resolve(c):s.getMany(l).then(function(h){return l.trans._cache={keys:l.keys,values:l.cache==="clone"?Ne(h):h},h})},mutate:function(l){return l.type!=="add"&&(l.trans._cache=null),s.mutate(l)}})}}}};function to(t,n){return t.trans.mode==="readonly"&&!!t.subscr&&!t.trans.explicit&&t.trans.db._options.cache!=="disabled"&&!n.schema.primaryKey.outbound}function us(t,n){switch(t){case"query":return n.values&&!n.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var ba={stack:"dbcore",level:0,name:"Observability",create:function(t){var n=t.schema.name,s=new Te(t.MIN_KEY,t.MAX_KEY);return i(i({},t),{transaction:function(l,c,h){if(L.subscr&&c!=="readonly")throw new z.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(L.querier));return t.transaction(l,c,h)},table:function(l){var c=t.table(l),h=c.schema,m=h.primaryKey,v=h.indexes,y=m.extractKey,_=m.outbound,D=m.autoIncrement&&v.filter(function(C){return C.compound&&C.keyPath.includes(m.keyPath)}),w=i(i({},c),{mutate:function(C){var M,x,F=C.trans,A=C.mutatedParts||(C.mutatedParts={}),T=function(Z){var se="idb://".concat(n,"/").concat(l,"/").concat(Z);return A[se]||(A[se]=new Te)},V=T(""),k=T(":dels"),j=C.type,B=C.type==="deleteRange"?[C.range]:C.type==="delete"?[C.keys]:C.values.length<50?[Zr(m,C).filter(function(Z){return Z}),C.values]:[],Y=B[0],$=B[1],ne=C.trans._cache;if(I(Y)){V.addKeys(Y);var W=j==="delete"||Y.length===$.length?as(Y,ne):null;W||k.addKeys(Y),(W||$)&&wa(T,h,W,$)}else if(Y){var ee={from:(M=Y.lower)!==null&&M!==void 0?M:t.MIN_KEY,to:(x=Y.upper)!==null&&x!==void 0?x:t.MAX_KEY};k.add(ee),V.add(ee)}else V.add(s),k.add(s),h.indexes.forEach(function(Z){return T(Z.name).add(s)});return c.mutate(C).then(function(Z){return Y&&(C.type==="add"||C.type==="put")&&(V.addKeys(Z.results),D&&D.forEach(function(se){for(var q=C.values.map(function(We){return se.extractKey(We)}),Me=se.keyPath.findIndex(function(We){return We===m.keyPath}),Le=0,Et=Z.results.length;Le<Et;++Le)q[Le][Me]=Z.results[Le];T(se.name).addKeys(q)})),F.mutatedParts=Fn(F.mutatedParts||{},A),Z})}}),O=function(C){var M,x,F=C.query,A=F.index,T=F.range;return[A,new Te((M=T.lower)!==null&&M!==void 0?M:t.MIN_KEY,(x=T.upper)!==null&&x!==void 0?x:t.MAX_KEY)]},R={get:function(C){return[m,new Te(C.key)]},getMany:function(C){return[m,new Te().addKeys(C.keys)]},count:O,query:O,openCursor:O};return S(R).forEach(function(C){w[C]=function(M){var x=L.subscr,F=!!x,A=to(L,c)&&us(C,M),T=A?M.obsSet={}:x;if(F){var V=function(W){var ee="idb://".concat(n,"/").concat(l,"/").concat(W);return T[ee]||(T[ee]=new Te)},k=V(""),j=V(":dels"),B=R[C](M),Y=B[0],$=B[1];if(C==="query"&&Y.isPrimaryKey&&!M.values?j.add($):V(Y.name||"").add($),!Y.isPrimaryKey)if(C==="count")j.add(s);else{var ne=C==="query"&&_&&M.values&&c.query(i(i({},M),{values:!1}));return c[C].apply(this,arguments).then(function(W){if(C==="query"){if(_&&M.values)return ne.then(function(q){var Me=q.result;return k.addKeys(Me),W});var ee=M.values?W.result.map(y):W.result;M.values?k.addKeys(ee):j.addKeys(ee)}else if(C==="openCursor"){var Z=W,se=M.values;return Z&&Object.create(Z,{key:{get:function(){return j.addKey(Z.primaryKey),Z.key}},primaryKey:{get:function(){var q=Z.primaryKey;return j.addKey(q),q}},value:{get:function(){return se&&k.addKey(Z.primaryKey),Z.value}}})}return W})}}return c[C].apply(this,arguments)}}),w}})}};function wa(t,n,s,l){function c(h){var m=t(h.name||"");function v(_){return _!=null?h.extractKey(_):null}var y=function(_){return h.multiEntry&&I(_)?_.forEach(function(D){return m.addKey(D)}):m.addKey(_)};(s||l).forEach(function(_,D){var w=s&&v(s[D]),O=l&&v(l[D]);ie(w,O)!==0&&(w!=null&&y(w),O!=null&&y(O))})}n.indexes.forEach(c)}function no(t,n,s){if(s.numFailures===0)return n;if(n.type==="deleteRange")return null;var l=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;if(s.numFailures===l)return null;var c=i({},n);return I(c.keys)&&(c.keys=c.keys.filter(function(h,m){return!(m in s.failures)})),"values"in c&&I(c.values)&&(c.values=c.values.filter(function(h,m){return!(m in s.failures)})),c}function Ca(t,n){return n.lower===void 0?!0:n.lowerOpen?ie(t,n.lower)>0:ie(t,n.lower)>=0}function Da(t,n){return n.upper===void 0?!0:n.upperOpen?ie(t,n.upper)<0:ie(t,n.upper)<=0}function ls(t,n){return Ca(t,n)&&Da(t,n)}function ro(t,n,s,l,c,h){if(!s||s.length===0)return t;var m=n.query.index,v=m.multiEntry,y=n.query.range,_=l.schema.primaryKey,D=_.extractKey,w=m.extractKey,O=(m.lowLevelIndex||m).extractKey,R=s.reduce(function(C,M){var x=C,F=[];if(M.type==="add"||M.type==="put")for(var A=new Te,T=M.values.length-1;T>=0;--T){var V=M.values[T],k=D(V);if(!A.hasKey(k)){var j=w(V);(v&&I(j)?j.some(function(W){return ls(W,y)}):ls(j,y))&&(A.addKey(k),F.push(V))}}switch(M.type){case"add":{var B=new Te().addKeys(n.values?C.map(function(W){return D(W)}):C);x=C.concat(n.values?F.filter(function(W){var ee=D(W);return B.hasKey(ee)?!1:(B.addKey(ee),!0)}):F.map(function(W){return D(W)}).filter(function(W){return B.hasKey(W)?!1:(B.addKey(W),!0)}));break}case"put":{var Y=new Te().addKeys(M.values.map(function(W){return D(W)}));x=C.filter(function(W){return!Y.hasKey(n.values?D(W):W)}).concat(n.values?F:F.map(function(W){return D(W)}));break}case"delete":var $=new Te().addKeys(M.keys);x=C.filter(function(W){return!$.hasKey(n.values?D(W):W)});break;case"deleteRange":var ne=M.range;x=C.filter(function(W){return!ls(D(W),ne)});break}return x},t);return R===t?t:(R.sort(function(C,M){return ie(O(C),O(M))||ie(D(C),D(M))}),n.limit&&n.limit<1/0&&(R.length>n.limit?R.length=n.limit:t.length===n.limit&&R.length<n.limit&&(c.dirty=!0)),h?Object.freeze(R):R)}function io(t,n){return ie(t.lower,n.lower)===0&&ie(t.upper,n.upper)===0&&!!t.lowerOpen==!!n.lowerOpen&&!!t.upperOpen==!!n.upperOpen}function Sa(t,n,s,l){if(t===void 0)return n!==void 0?-1:0;if(n===void 0)return 1;var c=ie(t,n);if(c===0){if(s&&l)return 0;if(s)return 1;if(l)return-1}return c}function Ma(t,n,s,l){if(t===void 0)return n!==void 0?1:0;if(n===void 0)return-1;var c=ie(t,n);if(c===0){if(s&&l)return 0;if(s)return-1;if(l)return 1}return c}function xa(t,n){return Sa(t.lower,n.lower,t.lowerOpen,n.lowerOpen)<=0&&Ma(t.upper,n.upper,t.upperOpen,n.upperOpen)>=0}function Ea(t,n,s,l){var c=ln["idb://".concat(t,"/").concat(n)];if(!c)return[];var h=c.queries[s];if(!h)return[null,!1,c,null];var m=l.query?l.query.index.name:null,v=h[m||""];if(!v)return[null,!1,c,null];switch(s){case"query":var y=v.find(function(w){return w.req.limit===l.limit&&w.req.values===l.values&&io(w.req.query.range,l.query.range)});if(y)return[y,!0,c,v];var _=v.find(function(w){var O="limit"in w.req?w.req.limit:1/0;return O>=l.limit&&(l.values?w.req.values:!0)&&xa(w.req.query.range,l.query.range)});return[_,!1,c,v];case"count":var D=v.find(function(w){return io(w.req.query.range,l.query.range)});return[D,!!D,c,v]}}function Oa(t,n,s,l){t.subscribers.add(s),l.addEventListener("abort",function(){t.subscribers.delete(s),t.subscribers.size===0&&ka(t,n)})}function ka(t,n){setTimeout(function(){t.subscribers.size===0&&en(n,t)},3e3)}var Jr={stack:"dbcore",level:0,name:"Cache",create:function(t){var n=t.schema.name,s=i(i({},t),{transaction:function(l,c,h){var m=t.transaction(l,c,h);if(c==="readwrite"){var v=new AbortController,y=v.signal,_=function(D){return function(){if(v.abort(),c==="readwrite"){for(var w=new Set,O=0,R=l;O<R.length;O++){var C=R[O],M=ln["idb://".concat(n,"/").concat(C)];if(M){var x=t.table(C),F=M.optimisticOps.filter(function(se){return se.trans===m});if(m._explicit&&D&&m.mutatedParts)for(var A=0,T=Object.values(M.queries.query);A<T.length;A++)for(var V=T[A],k=0,j=V.slice();k<j.length;k++){var B=j[k];ts(B.obsSet,m.mutatedParts)&&(en(V,B),B.subscribers.forEach(function(se){return w.add(se)}))}else if(F.length>0){M.optimisticOps=M.optimisticOps.filter(function(se){return se.trans!==m});for(var Y=0,$=Object.values(M.queries.query);Y<$.length;Y++)for(var V=$[Y],ne=0,W=V.slice();ne<W.length;ne++){var B=W[ne];if(B.res!=null&&m.mutatedParts)if(D&&!B.dirty){var ee=Object.isFrozen(B.res),Z=ro(B.res,B.req,F,x,B,ee);B.dirty?(en(V,B),B.subscribers.forEach(function(Me){return w.add(Me)})):Z!==B.res&&(B.res=Z,B.promise=N.resolve({result:Z}))}else B.dirty&&en(V,B),B.subscribers.forEach(function(Me){return w.add(Me)})}}}}w.forEach(function(se){return se()})}}};m.addEventListener("abort",_(!1),{signal:y}),m.addEventListener("error",_(!1),{signal:y}),m.addEventListener("complete",_(!0),{signal:y})}return m},table:function(l){var c=t.table(l),h=c.schema.primaryKey,m=i(i({},c),{mutate:function(v){var y=L.trans;if(h.outbound||y.db._options.cache==="disabled"||y.explicit||y.idbtrans.mode!=="readwrite")return c.mutate(v);var _=ln["idb://".concat(n,"/").concat(l)];if(!_)return c.mutate(v);var D=c.mutate(v);return(v.type==="add"||v.type==="put")&&(v.values.length>=50||Zr(h,v).some(function(w){return w==null}))?D.then(function(w){var O=i(i({},v),{values:v.values.map(function(C,M){var x;if(w.failures[M])return C;var F=!((x=h.keyPath)===null||x===void 0)&&x.includes(".")?Ne(C):i({},C);return _e(F,h.keyPath,w.results[M]),F})}),R=no(_,O,w);_.optimisticOps.push(R),queueMicrotask(function(){return v.mutatedParts&&zr(v.mutatedParts)})}):(_.optimisticOps.push(v),v.mutatedParts&&zr(v.mutatedParts),D.then(function(w){if(w.numFailures>0){en(_.optimisticOps,v);var O=no(_,v,w);O&&_.optimisticOps.push(O),v.mutatedParts&&zr(v.mutatedParts)}}),D.catch(function(){en(_.optimisticOps,v),v.mutatedParts&&zr(v.mutatedParts)})),D},query:function(v){var y;if(!to(L,c)||!us("query",v))return c.query(v);var _=((y=L.trans)===null||y===void 0?void 0:y.db._options.cache)==="immutable",D=L,w=D.requery,O=D.signal,R=Ea(n,l,"query",v),C=R[0],M=R[1],x=R[2],F=R[3];if(C&&M)C.obsSet=v.obsSet;else{var A=c.query(v).then(function(T){var V=T.result;if(C&&(C.res=V),_){for(var k=0,j=V.length;k<j;++k)Object.freeze(V[k]);Object.freeze(V)}else T.result=Ne(V);return T}).catch(function(T){return F&&C&&en(F,C),Promise.reject(T)});C={obsSet:v.obsSet,promise:A,subscribers:new Set,type:"query",req:v,dirty:!1},F?F.push(C):(F=[C],x||(x=ln["idb://".concat(n,"/").concat(l)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),x.queries.query[v.query.index.name||""]=F)}return Oa(C,F,w,O),C.promise.then(function(T){return{result:ro(T.result,v,x?.optimisticOps,c,C,_)}})}});return m}});return s}};function Qr(t,n){return new Proxy(t,{get:function(s,l,c){return l==="db"?n:Reflect.get(s,l,c)}})}var jt=function(){function t(n,s){var l=this;this._middlewares={},this.verno=0;var c=t.dependencies;this._options=s=i({addons:t.addons,autoOpen:!0,indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange,cache:"cloned"},s),this._deps={indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange};var h=s.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var m={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:he,dbReadyPromise:null,cancelOpen:he,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:s.autoOpen};m.dbReadyPromise=new N(function(y){m.dbReadyResolve=y}),m.openCanceller=new N(function(y,_){m.cancelOpen=_}),this._state=m,this.name=n,this.on=er(this,"populate","blocked","versionchange","close",{ready:[Er,he]}),this.on.ready.subscribe=_r(this.on.ready.subscribe,function(y){return function(_,D){t.vip(function(){var w=l._state;if(w.openComplete)w.dbOpenError||N.resolve().then(_),D&&y(_);else if(w.onReadyBeingFired)w.onReadyBeingFired.push(_),D&&y(_);else{y(_);var O=l;D||y(function R(){O.on.ready.unsubscribe(_),O.on.ready.unsubscribe(R)})}})}}),this.Collection=Qo(this),this.Table=Zo(this),this.Transaction=Nt(this),this.Version=da(this),this.WhereClause=$s(this),this.on("versionchange",function(y){y.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(l.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(l.name,"'. Closing db now to resume the delete request.")),l.close({disableAutoOpen:!1})}),this.on("blocked",function(y){!y.newVersion||y.newVersion<y.oldVersion?console.warn("Dexie.delete('".concat(l.name,"') was blocked")):console.warn("Upgrade '".concat(l.name,"' blocked by other connection holding version ").concat(y.oldVersion/10))}),this._maxKey=sr(s.IDBKeyRange),this._createTransaction=function(y,_,D,w){return new l.Transaction(y,_,D,l._options.chromeTransactionDurability,w)},this._fireOnBlocked=function(y){l.on("blocked").fire(y),xn.filter(function(_){return _.name===l.name&&_!==l&&!_._state.vcFired}).map(function(_){return _.on("versionchange").fire(y)})},this.use(_a),this.use(Jr),this.use(ba),this.use(mt),this.use(ya);var v=new Proxy(this,{get:function(y,_,D){if(_==="_vip")return!0;if(_==="table")return function(O){return Qr(l.table(O),v)};var w=Reflect.get(y,_,D);return w instanceof Ys?Qr(w,v):_==="tables"?w.map(function(O){return Qr(O,v)}):_==="_createTransaction"?function(){var O=w.apply(this,arguments);return Qr(O,v)}:w}});this.vip=v,h.forEach(function(y){return y(l)})}return t.prototype.version=function(n){if(isNaN(n)||n<.1)throw new z.Type("Given version is not a positive number");if(n=Math.round(n*10)/10,this.idbdb||this._state.isBeingOpened)throw new z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var s=this._versions,l=s.filter(function(c){return c._cfg.version===n})[0];return l||(l=new this.Version(n),s.push(l),s.sort(Zs),l.stores({}),this._state.autoSchema=!1,l)},t.prototype._whenReady=function(n){var s=this;return this.idbdb&&(this._state.openComplete||L.letThrough||this._vip)?n():new N(function(l,c){if(s._state.openComplete)return c(new z.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen){c(new z.DatabaseClosed);return}s.open().catch(he)}s._state.dbReadyPromise.then(l,c)}).then(n)},t.prototype.use=function(n){var s=n.stack,l=n.create,c=n.level,h=n.name;h&&this.unuse({stack:s,name:h});var m=this._middlewares[s]||(this._middlewares[s]=[]);return m.push({stack:s,create:l,level:c??10,name:h}),m.sort(function(v,y){return v.level-y.level}),this},t.prototype.unuse=function(n){var s=n.stack,l=n.name,c=n.create;return s&&this._middlewares[s]&&(this._middlewares[s]=this._middlewares[s].filter(function(h){return c?h.create!==c:l?h.name!==l:!1})),this},t.prototype.open=function(){var n=this;return on(_t,function(){return ma(n)})},t.prototype._close=function(){var n=this._state,s=xn.indexOf(this);if(s>=0&&xn.splice(s,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new N(function(l){n.dbReadyResolve=l}),n.openCanceller=new N(function(l,c){n.cancelOpen=c}))},t.prototype.close=function(n){var s=n===void 0?{disableAutoOpen:!0}:n,l=s.disableAutoOpen,c=this._state;l?(c.isBeingOpened&&c.cancelOpen(new z.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new z.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},t.prototype.delete=function(n){var s=this;n===void 0&&(n={disableAutoOpen:!0});var l=arguments.length>0&&typeof arguments[0]!="object",c=this._state;return new N(function(h,m){var v=function(){s.close(n);var y=s._deps.indexedDB.deleteDatabase(s.name);y.onsuccess=be(function(){lr(s._deps,s.name),h()}),y.onerror=St(m),y.onblocked=s._fireOnBlocked};if(l)throw new z.InvalidArgument("Invalid closeOptions argument to db.delete()");c.isBeingOpened?c.dbReadyPromise.then(v):v()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var n=this;return S(this._allTables).map(function(s){return n._allTables[s]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var n=ga.apply(this,arguments);return this._transaction.apply(this,n)},t.prototype._transaction=function(n,s,l){var c=this,h=L.trans;(!h||h.db!==this||n.indexOf("!")!==-1)&&(h=null);var m=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");var v,y;try{if(y=s.map(function(D){var w=D instanceof c.Table?D.name:D;if(typeof w!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return w}),n=="r"||n===Yi)v=Yi;else if(n=="rw"||n==Bi)v=Bi;else throw new z.InvalidArgument("Invalid transaction mode: "+n);if(h){if(h.mode===Yi&&v===Bi)if(m)h=null;else throw new z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h&&y.forEach(function(D){if(h&&h.storeNames.indexOf(D)===-1)if(m)h=null;else throw new z.SubTransaction("Table "+D+" not included in parent transaction.")}),m&&h&&!h.active&&(h=null)}}catch(D){return h?h._promise(null,function(w,O){O(D)}):Se(D)}var _=os.bind(null,this,v,y,h,l);return h?h._promise(v,_,"lock"):L.trans?on(L.transless,function(){return c._whenReady(_)}):this._whenReady(_)},t.prototype.table=function(n){if(!me(this._allTables,n))throw new z.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},t}(),Aa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ta=function(){function t(n){this._subscribe=n}return t.prototype.subscribe=function(n,s,l){return this._subscribe(!n||typeof n=="function"?{next:n,error:s,complete:l}:n)},t.prototype[Aa]=function(){return this},t}(),Xr;try{Xr={indexedDB:g.indexedDB||g.mozIndexedDB||g.webkitIndexedDB||g.msIndexedDB,IDBKeyRange:g.IDBKeyRange||g.webkitIDBKeyRange}}catch{Xr={indexedDB:null,IDBKeyRange:null}}function so(t){var n=!1,s,l=new Ta(function(c){var h=Dr(t);function m(F){var A=wt();try{h&&Sn();var T=qt(t,F);return h&&(T=T.finally(Zt)),T}finally{A&&sn()}}var v=!1,y,_={},D={},w={get closed(){return v},unsubscribe:function(){v||(v=!0,y&&y.abort(),O&&xt.storagemutated.unsubscribe(M))}};c.start&&c.start(w);var O=!1,R=function(){return Li(x)};function C(){return ts(D,_)}var M=function(F){Fn(_,F),C()&&R()},x=function(){if(!(v||!Xr.indexedDB)){_={};var F={};y&&y.abort(),y=new AbortController;var A={subscr:F,signal:y.signal,requery:R,querier:t,trans:null},T=m(A);Promise.resolve(T).then(function(V){n=!0,s=V,!(v||A.signal.aborted)&&(_={},D=F,!Yo(D)&&!O&&(xt(Jt,M),O=!0),Li(function(){return!v&&c.next&&c.next(V)}))},function(V){n=!1,["DatabaseClosedError","AbortError"].includes(V?.name)||v||Li(function(){v||c.error&&c.error(V)})})}};return setTimeout(R,0),w});return l.hasValue=function(){return n},l.getValue=function(){return s},l}var cn=jt;Pe(cn,i(i({},Mr),{delete:function(t){var n=new cn(t,{addons:[]});return n.delete()},exists:function(t){return new cn(t,{addons:[]}).open().then(function(n){return n.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return fa(cn.dependencies).then(t)}catch{return Se(new z.MissingAPI)}},defineClass:function(){function t(n){G(this,n)}return t},ignoreTransaction:function(t){return L.trans?on(L.transless,t):t()},vip:Qi,async:function(t){return function(){try{var n=ss(t.apply(this,arguments));return!n||typeof n.then!="function"?N.resolve(n):n}catch(s){return Se(s)}}},spawn:function(t,n,s){try{var l=ss(t.apply(s,n||[]));return!l||typeof l.then!="function"?N.resolve(l):l}catch(c){return Se(c)}},currentTransaction:{get:function(){return L.trans||null}},waitFor:function(t,n){var s=N.resolve(typeof t=="function"?cn.ignoreTransaction(t):t).timeout(n||6e4);return L.trans?L.trans.waitFor(s):s},Promise:N,debug:{get:function(){return $e},set:function(t){Or(t)}},derive:Q,extend:G,props:Pe,override:_r,Events:er,on:xt,liveQuery:so,extendObservabilitySet:Fn,getByKeyPath:vt,setByKeyPath:_e,delByKeyPath:xs,shallowClone:ki,deepClone:Ne,getObjectDiff:Lt,cmp:ie,asap:gn,minKey:Vr,addons:[],connections:xn,errnames:Ii,dependencies:Xr,cache:ln,semVer:Mn,version:Mn.split(".").map(function(t){return parseInt(t)}).reduce(function(t,n,s){return t+n/Math.pow(10,s*2)})})),cn.maxKey=sr(cn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(xt(Jt,function(t){if(!Yt){var n;n=new CustomEvent(Mt,{detail:t}),Yt=!0,dispatchEvent(n),Yt=!1}}),addEventListener(Mt,function(t){var n=t.detail;Yt||cs(n)}));function cs(t){var n=Yt;try{Yt=!0,xt.storagemutated.fire(t),is(t,!0)}finally{Yt=n}}var Yt=!1,Bt,ei=function(){};typeof BroadcastChannel<"u"&&(ei=function(){Bt=new BroadcastChannel(Mt),Bt.onmessage=function(t){return t.data&&cs(t.data)}},ei(),typeof Bt.unref=="function"&&Bt.unref(),xt(Jt,function(t){Yt||Bt.postMessage(t)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(t){if(!jt.disableBfCache&&t.persisted){$e&&console.debug("Dexie: handling persisted pagehide"),Bt?.close();for(var n=0,s=xn;n<s.length;n++){var l=s[n];l.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(t){!jt.disableBfCache&&t.persisted&&($e&&console.debug("Dexie: handling persisted pageshow"),ei(),cs({all:new Te(-1/0,[[]])}))}));function ti(t){return new nr({add:t})}function Vn(t){return new nr({remove:t})}function ni(t,n){return new nr({replacePrefix:[t,n]})}N.rejectionMapper=Fi,Or($e);var oo=Object.freeze({__proto__:null,Dexie:jt,liveQuery:so,Entity:Ps,cmp:ie,PropModification:nr,replacePrefix:ni,add:ti,remove:Vn,default:jt,RangeSet:Te,mergeRanges:cr,rangesOverlap:es});return i(jt,oo,{default:jt}),jt})});var _s="Service workers are disabled or not supported by this browser";function Gc(a){return ds(()=>wu(new Error(a)))}var fi=class{constructor(o){if(this.serviceWorker=o,!o)this.worker=this.events=this.registration=Gc(_s);else{let f=Na(o,"controllerchange").pipe(Wt(()=>o.controller)),g=ds(()=>Ln(o.controller)),S=Cu(g,f);this.worker=S.pipe(fs(me=>!!me)),this.registration=this.worker.pipe(hs(()=>o.getRegistration()));let Re=Na(o,"message").pipe(Wt(me=>me.data)).pipe(fs(me=>me&&me.type)).pipe(Mu());Re.connect(),this.events=Re}}postMessage(o,i){return this.worker.pipe(hr(1),xu(f=>{f.postMessage(ye({action:o},i))})).toPromise().then(()=>{})}postMessageWithOperation(o,i,f){let g=this.waitForOperationCompleted(f),S=this.postMessage(o,i);return Promise.all([S,g]).then(([,I])=>I)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(o){let i;return typeof o=="string"?i=f=>f.type===o:i=f=>o.includes(f.type),this.events.pipe(fs(i))}nextEventOfType(o){return this.eventsOfType(o).pipe(hr(1))}waitForOperationCompleted(o){return this.eventsOfType("OPERATION_COMPLETED").pipe(fs(i=>i.nonce===o),hr(1),Wt(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Hc=(()=>{class a{get isEnabled(){return this.sw.isEnabled}constructor(i){if(this.sw=i,this.pushManager=null,this.subscriptionChanges=new lo,!i.isEnabled){this.messages=oi,this.notificationClicks=oi,this.subscription=oi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(Wt(g=>g.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Wt(g=>g.data)),this.pushManager=this.sw.registration.pipe(Wt(g=>g.pushManager));let f=this.pushManager.pipe(hs(g=>g.getSubscription()));this.subscription=La(f,this.subscriptionChanges)}requestSubscription(i){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(_s));let f={userVisibleOnly:!0},g=this.decodeBase64(i.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),S=new Uint8Array(new ArrayBuffer(g.length));for(let I=0;I<g.length;I++)S[I]=g.charCodeAt(I);return f.applicationServerKey=S,this.pushManager.pipe(hs(I=>I.subscribe(f)),hr(1)).toPromise().then(I=>(this.subscriptionChanges.next(I),I))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(_s));let i=f=>{if(f===null)throw new Error("Not subscribed to push notifications.");return f.unsubscribe().then(g=>{if(!g)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(hr(1),hs(i)).toPromise()}decodeBase64(i){return atob(i)}static{this.\u0275fac=function(f){return new(f||a)(Qe(fi))}}static{this.\u0275prov=Ee({token:a,factory:a.\u0275fac})}}return a})(),Kc=(()=>{class a{get isEnabled(){return this.sw.isEnabled}constructor(i){if(this.sw=i,!i.isEnabled){this.versionUpdates=oi,this.unrecoverable=oi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_s));let i=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:i},i)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_s));let i=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:i},i)}static{this.\u0275fac=function(f){return new(f||a)(Qe(fi))}}static{this.\u0275prov=Ee({token:a,factory:a.\u0275fac})}}return a})();var Gu=new Oe("");function $c(a,o,i,f){return()=>{if(!(Ga(f)&&"serviceWorker"in navigator&&i.enabled!==!1))return;let g=a.get(Ou),S=a.get(Ba);g.runOutsideAngular(()=>{let G=navigator.serviceWorker,ue=()=>G.controller?.postMessage({action:"INITIALIZE"});G.addEventListener("controllerchange",ue),S.onDestroy(()=>{G.removeEventListener("controllerchange",ue)})});let I;if(typeof i.registrationStrategy=="function")I=i.registrationStrategy();else{let[G,...ue]=(i.registrationStrategy||"registerWhenStable:30000").split(":");switch(G){case"registerImmediately":I=Ln(null);break;case"registerWithDelay":I=Hu(+ue[0]||0);break;case"registerWhenStable":let Re=co(a.get(Ba).whenStable());I=ue[0]?La(Re,Hu(+ue[0])):Re;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${i.registrationStrategy}`)}}g.runOutsideAngular(()=>I.pipe(hr(1)).subscribe(()=>navigator.serviceWorker.register(o,{scope:i.scope}).catch(G=>console.error("Service worker registration failed with:",G))))}}function Hu(a){return Ln(null).pipe(Su(a))}function zc(a,o){return new fi(Ga(o)&&a.enabled!==!1?navigator.serviceWorker:void 0)}var ys=class{};function Ku(a,o={}){return mn([Hc,Kc,{provide:Gu,useValue:a},{provide:ys,useValue:o},{provide:fi,useFactory:zc,deps:[ys,ja]},{provide:Ya,useFactory:$c,deps:[kt,Gu,ys,ja],multi:!0}])}var Ha=new Oe("JWT_OPTIONS"),zu=(()=>{class a{constructor(i=null){this.tokenGetter=i&&i.tokenGetter||function(){}}urlBase64Decode(i){let f=i.replace(/-/g,"+").replace(/_/g,"/");switch(f.length%4){case 0:break;case 2:{f+="==";break}case 3:{f+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(f)}b64decode(i){let f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g="";if(i=String(i).replace(/=+$/,""),i.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let S=0,I,G,ue=0;G=i.charAt(ue++);~G&&(I=S%4?I*64+G:G,S++%4)?g+=String.fromCharCode(255&I>>(-2*S&6)):0)G=f.indexOf(G);return g}b64DecodeUnicode(i){return decodeURIComponent(Array.prototype.map.call(this.b64decode(i),f=>"%"+("00"+f.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(i=this.tokenGetter()){return i instanceof Promise?i.then(f=>this._decodeToken(f)):this._decodeToken(i)}_decodeToken(i){if(!i||i==="")return null;let f=i.split(".");if(f.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let g=this.urlBase64Decode(f[1]);if(!g)throw new Error("Cannot decode the token.");return JSON.parse(g)}getTokenExpirationDate(i=this.tokenGetter()){return i instanceof Promise?i.then(f=>this._getTokenExpirationDate(f)):this._getTokenExpirationDate(i)}_getTokenExpirationDate(i){let f;if(f=this.decodeToken(i),!f||!f.hasOwnProperty("exp"))return null;let g=new Date(0);return g.setUTCSeconds(f.exp),g}isTokenExpired(i=this.tokenGetter(),f){return i instanceof Promise?i.then(g=>this._isTokenExpired(g,f)):this._isTokenExpired(i,f)}_isTokenExpired(i,f){if(!i||i==="")return!0;let g=this.getTokenExpirationDate(i);return f=f||0,g===null?!1:!(g.valueOf()>new Date().valueOf()+f*1e3)}getAuthScheme(i,f){return typeof i=="function"?i(f):i}}return a.\u0275fac=function(i){return new(i||a)(Qe(Ha))},a.\u0275prov=Ee({token:a,factory:a.\u0275fac}),a})(),$u=a=>a instanceof Promise?ds(()=>a):Ln(a),qc=(()=>{class a{constructor(i,f,g){this.jwtHelper=f,this.document=g,this.standardPorts=["80","443"],this.tokenGetter=i.tokenGetter,this.headerName=i.headerName||"Authorization",this.authScheme=i.authScheme||i.authScheme===""?i.authScheme:"Bearer ",this.allowedDomains=i.allowedDomains||[],this.disallowedRoutes=i.disallowedRoutes||[],this.throwNoTokenError=i.throwNoTokenError||!1,this.skipWhenExpired=i.skipWhenExpired}isAllowedDomain(i){let f=new URL(i.url,this.document.location.origin);if(f.host===this.document.location.host)return!0;let g=`${f.hostname}${f.port&&!this.standardPorts.includes(f.port)?":"+f.port:""}`;return this.allowedDomains.findIndex(S=>typeof S=="string"?S===g:S instanceof RegExp?S.test(g):!1)>-1}isDisallowedRoute(i){let f=new URL(i.url,this.document.location.origin);return this.disallowedRoutes.findIndex(g=>{if(typeof g=="string"){let S=new URL(g,this.document.location.origin);return S.hostname===f.hostname&&S.pathname===f.pathname}return g instanceof RegExp?g.test(i.url):!1})>-1}handleInterception(i,f,g){let S=this.jwtHelper.getAuthScheme(this.authScheme,f);if(!i&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let I=Ln(!1);return this.skipWhenExpired&&(I=i?$u(this.jwtHelper.isTokenExpired(i)):Ln(!0)),i?I.pipe(Wt(G=>G&&this.skipWhenExpired?f.clone():f.clone({setHeaders:{[this.headerName]:`${S}${i}`}})),Pa(G=>g.handle(G))):g.handle(f)}intercept(i,f){if(!this.isAllowedDomain(i)||this.isDisallowedRoute(i))return f.handle(i);let g=this.tokenGetter(i);return $u(g).pipe(Pa(S=>this.handleInterception(S,i,f)))}}return a.\u0275fac=function(i){return new(i||a)(Qe(Ha),Qe(zu),Qe(Pu))},a.\u0275prov=Ee({token:a,factory:a.\u0275fac}),a})(),qu=(()=>{class a{constructor(i){if(i)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(i){return{ngModule:a,providers:[{provide:Lu,useClass:qc,multi:!0},i.jwtOptionsProvider||{provide:Ha,useValue:i.config},zu]}}}return a.\u0275fac=function(i){return new(i||a)(Qe(a,12))},a.\u0275mod=Yn({type:a}),a.\u0275inj=jn({}),a})();var Zc=new Oe("TRANSLOCO_LOADER");function Ka(a,o){return a&&(Object.prototype.hasOwnProperty.call(a,o)?a[o]:o.split(".").reduce((i,f)=>i?.[f],a))}function Jc(a,o,i){a=ye({},a);let f=o.split("."),g=f.length-1;return f.reduce((S,I,G)=>(G===g?S[I]=i:S[I]=Array.isArray(S[I])?S[I].slice():ye({},S[I]),S&&S[I]),a),a}function Qc(a){return typeof a=="string"}function Xc(a){return!!a&&typeof a=="object"&&!Array.isArray(a)}function ed(a){return a==null}function Zu(a){return ed(a)===!1}var bs=new Oe("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>hi}),hi={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"],scopes:{keepCasing:!1}};function td(a={}){return gt(ye(ye({},hi),a),{missingHandler:ye(ye({},hi.missingHandler),a.missingHandler),flatten:ye(ye({},hi.flatten),a.flatten),scopes:ye(ye({},hi.scopes),a.scopes)})}var nd=new Oe("TRANSLOCO_TRANSPILER"),rd=(()=>{class a{config=Ie(bs,{optional:!0})??hi;get interpolationMatcher(){return id(this.config)}transpile({value:i,params:f={},translation:g,key:S}){if(Qc(i)){let I,G=i;for(;(I=this.interpolationMatcher.exec(G))!==null;){let[ue,Re]=I;G=G.replace(ue,()=>{let me=Re.trim(),Pe=Ka(f,me);return Zu(Pe)?Pe:Zu(g[me])?this.transpile({params:f,translation:g,key:S,value:g[me]}):""})}return G}else f&&(Xc(i)?i=this.handleObject({value:i,params:f,translation:g,key:S}):Array.isArray(i)&&(i=this.handleArray({value:i,params:f,translation:g,key:S})));return i}handleObject({value:i,params:f={},translation:g,key:S}){let I=i;return Object.keys(f).forEach(G=>{let ue=this.transpile({value:Ka(I,G),params:Ka(f,G),translation:g,key:S});I=Jc(I,G,ue)}),I}handleArray(g){var S=g,{value:i}=S,f=vu(S,["value"]);return i.map(I=>this.transpile(ye({value:I},f)))}static \u0275fac=function(f){return new(f||a)};static \u0275prov=Ee({token:a,factory:a.\u0275fac})}return a})();function id(a){let[o,i]=a.interpolation;return new RegExp(`${o}([^${o}${i}]*?)${i}`,"g")}var sd=new Oe("TRANSLOCO_MISSING_HANDLER"),od=(()=>{class a{handle(i,f){if(f.missingHandler.logMissingKey&&!f.prodMode){let g=`Missing translation for '${i}'`;console.warn(`%c ${g}`,"font-size: 12px; color: red")}return i}static \u0275fac=function(f){return new(f||a)};static \u0275prov=Ee({token:a,factory:a.\u0275fac})}return a})(),ad=new Oe("TRANSLOCO_INTERCEPTOR"),ud=(()=>{class a{preSaveTranslation(i){return i}preSaveTranslationKey(i,f){return f}static \u0275fac=function(f){return new(f||a)};static \u0275prov=Ee({token:a,factory:a.\u0275fac})}return a})(),ld=new Oe("TRANSLOCO_FALLBACK_STRATEGY"),cd=(()=>{class a{userConfig;constructor(i){this.userConfig=i}getNextLangs(){let i=this.userConfig.fallbackLang;if(!i)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(i)?i:[i]}static \u0275fac=function(f){return new(f||a)(Qe(bs))};static \u0275prov=Ee({token:a,factory:a.\u0275fac})}return a})();var Kf=new Oe("TRANSLOCO_LANG"),$f=new Oe("TRANSLOCO_LOADING_TEMPLATE"),zf=new Oe("TRANSLOCO_SCOPE");function Ju(a){let o=[hd(rd),md(od),gd(ud),pd(cd)];return a.config&&o.push(dd(a.config)),a.loader&&o.push(fd(a.loader)),o}function dd(a){return mn([{provide:bs,useValue:td(a)}])}function fd(a){return mn([{provide:Zc,useClass:a}])}function hd(a){return mn([{provide:nd,useClass:a,deps:[bs]}])}function pd(a){return mn([{provide:ld,useClass:a,deps:[bs]}])}function md(a){return mn([{provide:sd,useClass:a}])}function gd(a){return mn([{provide:ad,useClass:a}])}var qf=new Oe("TRANSLOCO_TEST_LANGS - Available testing languages"),Zf=new Oe("TRANSLOCO_TEST_OPTIONS - Testing options");var Do={production:!0,apiUrl:"http://localhost:3000/"};var Qu=(()=>{class a{router=Ie(Un);goToLogin(){this.router.navigate(["login/sign"])}static \u0275fac=function(f){return new(f||a)};static \u0275cmp=Ce({type:a,selectors:[["app-confirmation"]],standalone:!0,features:[De],decls:7,vars:0,consts:[[1,"min-h-screen","bg-gradient-to-r","from-blue-500","to-purple-600","flex","flex-col","justify-center","items-center","text-white","p-4"],[1,"text-3xl","font-bold","mb-6"],[1,"text-lg","mb-8"],[1,"bg-white","text-blue-600","font-semibold","py-2","px-6","rounded-lg","shadow-lg","hover:bg-blue-50","transition","duration-300",3,"click"]],template:function(f,g){f&1&&(J(0,"div",0)(1,"h2",1),fe(2,"Cadastro Conclu\xEDdo!"),te(),J(3,"p",2),fe(4," Cadastro conclu\xEDdo com sucesso! Agora, acesse sua conta para gerenciar seu animal. "),te(),J(5,"button",3),we("click",function(){return g.goToLogin()}),fe(6," Fazer Login "),te()())}})}return a})();var ul=(()=>{class a{constructor(i,f){this._renderer=i,this._elementRef=f,this.onChange=g=>{},this.onTouched=()=>{}}setProperty(i,f){this._renderer.setProperty(this._elementRef.nativeElement,i,f)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static{this.\u0275fac=function(f){return new(f||a)(ae(li),ae(ui))}}static{this.\u0275dir=Xe({type:a})}}return a})(),Xa=(()=>{class a extends ul{static{this.\u0275fac=(()=>{let i;return function(g){return(i||(i=ms(a)))(g||a)}})()}static{this.\u0275dir=Xe({type:a,features:[Qt]})}}return a})(),nt=new Oe("");var vd={provide:nt,useExisting:Be(()=>vi),multi:!0};function yd(){let a=Wa()?Wa().getUserAgent():"";return/android (\d+)/.test(a.toLowerCase())}var _d=new Oe(""),vi=(()=>{class a extends ul{constructor(i,f,g){super(i,f),this._compositionMode=g,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!yd())}writeValue(i){let f=i??"";this.setProperty("value",f)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static{this.\u0275fac=function(f){return new(f||a)(ae(li),ae(ui),ae(_d,8))}}static{this.\u0275dir=Xe({type:a,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(f,g){f&1&&we("input",function(I){return g._handleInput(I.target.value)})("blur",function(){return g.onTouched()})("compositionstart",function(){return g._compositionStart()})("compositionend",function(I){return g._compositionEnd(I.target.value)})},features:[Ue([vd]),Qt]})}}return a})();function Wn(a){return a==null||(typeof a=="string"||Array.isArray(a))&&a.length===0}function ll(a){return a!=null&&typeof a.length=="number"}var eu=new Oe(""),tu=new Oe(""),bd=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ct=class{static min(o){return wd(o)}static max(o){return Cd(o)}static required(o){return Dd(o)}static requiredTrue(o){return Sd(o)}static email(o){return Md(o)}static minLength(o){return xd(o)}static maxLength(o){return Ed(o)}static pattern(o){return Od(o)}static nullValidator(o){return cl(o)}static compose(o){return gl(o)}static composeAsync(o){return yl(o)}};function wd(a){return o=>{if(Wn(o.value)||Wn(a))return null;let i=parseFloat(o.value);return!isNaN(i)&&i<a?{min:{min:a,actual:o.value}}:null}}function Cd(a){return o=>{if(Wn(o.value)||Wn(a))return null;let i=parseFloat(o.value);return!isNaN(i)&&i>a?{max:{max:a,actual:o.value}}:null}}function Dd(a){return Wn(a.value)?{required:!0}:null}function Sd(a){return a.value===!0?null:{required:!0}}function Md(a){return Wn(a.value)||bd.test(a.value)?null:{email:!0}}function xd(a){return o=>Wn(o.value)||!ll(o.value)?null:o.value.length<a?{minlength:{requiredLength:a,actualLength:o.value.length}}:null}function Ed(a){return o=>ll(o.value)&&o.value.length>a?{maxlength:{requiredLength:a,actualLength:o.value.length}}:null}function Od(a){if(!a)return cl;let o,i;return typeof a=="string"?(i="",a.charAt(0)!=="^"&&(i+="^"),i+=a,a.charAt(a.length-1)!=="$"&&(i+="$"),o=new RegExp(i)):(i=a.toString(),o=a),f=>{if(Wn(f.value))return null;let g=f.value;return o.test(g)?null:{pattern:{requiredPattern:i,actualValue:g}}}}function cl(a){return null}function dl(a){return a!=null}function fl(a){return Fu(a)?co(a):a}function hl(a){let o={};return a.forEach(i=>{o=i!=null?ye(ye({},o),i):o}),Object.keys(o).length===0?null:o}function pl(a,o){return o.map(i=>i(a))}function kd(a){return!a.validate}function ml(a){return a.map(o=>kd(o)?o:i=>o.validate(i))}function gl(a){if(!a)return null;let o=a.filter(dl);return o.length==0?null:function(i){return hl(pl(i,o))}}function vl(a){return a!=null?gl(ml(a)):null}function yl(a){if(!a)return null;let o=a.filter(dl);return o.length==0?null:function(i){let f=pl(i,o).map(fl);return Du(f).pipe(Wt(hl))}}function _l(a){return a!=null?yl(ml(a)):null}function Xu(a,o){return a===null?[o]:Array.isArray(a)?[...a,o]:[a,o]}function bl(a){return a._rawValidators}function wl(a){return a._rawAsyncValidators}function $a(a){return a?Array.isArray(a)?a:[a]:[]}function Mo(a,o){return Array.isArray(a)?a.includes(o):a===o}function el(a,o){let i=$a(o);return $a(a).forEach(g=>{Mo(i,g)||i.push(g)}),i}function tl(a,o){return $a(o).filter(i=>!Mo(a,i))}var xo=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(o){this._rawValidators=o||[],this._composedValidatorFn=vl(this._rawValidators)}_setAsyncValidators(o){this._rawAsyncValidators=o||[],this._composedAsyncValidatorFn=_l(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(o){this._onDestroyCallbacks.push(o)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(o=>o()),this._onDestroyCallbacks=[]}reset(o=void 0){this.control&&this.control.reset(o)}hasError(o,i){return this.control?this.control.hasError(o,i):!1}getError(o,i){return this.control?this.control.getError(o,i):null}},pr=class extends xo{get formDirective(){return null}get path(){return null}},tt=class extends xo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Eo=class{constructor(o){this._cd=o}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Ad={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},wh=gt(ye({},Ad),{"[class.ng-submitted]":"isSubmitted"}),Ft=(()=>{class a extends Eo{constructor(i){super(i)}static{this.\u0275fac=function(f){return new(f||a)(ae(tt,2))}}static{this.\u0275dir=Xe({type:a,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(f,g){f&2&&gs("ng-untouched",g.isUntouched)("ng-touched",g.isTouched)("ng-pristine",g.isPristine)("ng-dirty",g.isDirty)("ng-valid",g.isValid)("ng-invalid",g.isInvalid)("ng-pending",g.isPending)},features:[Qt]})}}return a})(),yi=(()=>{class a extends Eo{constructor(i){super(i)}static{this.\u0275fac=function(f){return new(f||a)(ae(pr,10))}}static{this.\u0275dir=Xe({type:a,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(f,g){f&2&&gs("ng-untouched",g.isUntouched)("ng-touched",g.isTouched)("ng-pristine",g.isPristine)("ng-dirty",g.isDirty)("ng-valid",g.isValid)("ng-invalid",g.isInvalid)("ng-pending",g.isPending)("ng-submitted",g.isSubmitted)},features:[Qt]})}}return a})();var ws="VALID",So="INVALID",pi="PENDING",Cs="DISABLED",Gn=class{},Oo=class extends Gn{constructor(o,i){super(),this.value=o,this.source=i}},Ds=class extends Gn{constructor(o,i){super(),this.pristine=o,this.source=i}},Ss=class extends Gn{constructor(o,i){super(),this.touched=o,this.source=i}},mi=class extends Gn{constructor(o,i){super(),this.status=o,this.source=i}},za=class extends Gn{constructor(o){super(),this.source=o}},qa=class extends Gn{constructor(o){super(),this.source=o}};function nu(a){return(Io(a)?a.validators:a)||null}function Td(a){return Array.isArray(a)?vl(a):a||null}function ru(a,o){return(Io(o)?o.asyncValidators:a)||null}function Id(a){return Array.isArray(a)?_l(a):a||null}function Io(a){return a!=null&&!Array.isArray(a)&&typeof a=="object"}function Cl(a,o,i){let f=a.controls;if(!(o?Object.keys(f):f).length)throw new fo(1e3,"");if(!f[i])throw new fo(1001,"")}function Dl(a,o,i){a._forEachChild((f,g)=>{if(i[g]===void 0)throw new fo(1002,"")})}var gi=class{constructor(o,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=vs(()=>this.statusReactive()),this.statusReactive=Gt(void 0),this._pristine=vs(()=>this.pristineReactive()),this.pristineReactive=Gt(!0),this._touched=vs(()=>this.touchedReactive()),this.touchedReactive=Gt(!1),this._events=new lo,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(o),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(o){this._rawValidators=this._composedValidatorFn=o}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(o){this._rawAsyncValidators=this._composedAsyncValidatorFn=o}get parent(){return this._parent}get status(){return Bn(this.statusReactive)}set status(o){Bn(()=>this.statusReactive.set(o))}get valid(){return this.status===ws}get invalid(){return this.status===So}get pending(){return this.status==pi}get disabled(){return this.status===Cs}get enabled(){return this.status!==Cs}get pristine(){return Bn(this.pristineReactive)}set pristine(o){Bn(()=>this.pristineReactive.set(o))}get dirty(){return!this.pristine}get touched(){return Bn(this.touchedReactive)}set touched(o){Bn(()=>this.touchedReactive.set(o))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(o){this._assignValidators(o)}setAsyncValidators(o){this._assignAsyncValidators(o)}addValidators(o){this.setValidators(el(o,this._rawValidators))}addAsyncValidators(o){this.setAsyncValidators(el(o,this._rawAsyncValidators))}removeValidators(o){this.setValidators(tl(o,this._rawValidators))}removeAsyncValidators(o){this.setAsyncValidators(tl(o,this._rawAsyncValidators))}hasValidator(o){return Mo(this._rawValidators,o)}hasAsyncValidator(o){return Mo(this._rawAsyncValidators,o)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(o={}){let i=this.touched===!1;this.touched=!0;let f=o.sourceControl??this;this._parent&&!o.onlySelf&&this._parent.markAsTouched(gt(ye({},o),{sourceControl:f})),i&&o.emitEvent!==!1&&this._events.next(new Ss(!0,f))}markAllAsTouched(o={}){this.markAsTouched({onlySelf:!0,emitEvent:o.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(o))}markAsUntouched(o={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let f=o.sourceControl??this;this._forEachChild(g=>{g.markAsUntouched({onlySelf:!0,emitEvent:o.emitEvent,sourceControl:f})}),this._parent&&!o.onlySelf&&this._parent._updateTouched(o,f),i&&o.emitEvent!==!1&&this._events.next(new Ss(!1,f))}markAsDirty(o={}){let i=this.pristine===!0;this.pristine=!1;let f=o.sourceControl??this;this._parent&&!o.onlySelf&&this._parent.markAsDirty(gt(ye({},o),{sourceControl:f})),i&&o.emitEvent!==!1&&this._events.next(new Ds(!1,f))}markAsPristine(o={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let f=o.sourceControl??this;this._forEachChild(g=>{g.markAsPristine({onlySelf:!0,emitEvent:o.emitEvent})}),this._parent&&!o.onlySelf&&this._parent._updatePristine(o,f),i&&o.emitEvent!==!1&&this._events.next(new Ds(!0,f))}markAsPending(o={}){this.status=pi;let i=o.sourceControl??this;o.emitEvent!==!1&&(this._events.next(new mi(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.markAsPending(gt(ye({},o),{sourceControl:i}))}disable(o={}){let i=this._parentMarkedDirty(o.onlySelf);this.status=Cs,this.errors=null,this._forEachChild(g=>{g.disable(gt(ye({},o),{onlySelf:!0}))}),this._updateValue();let f=o.sourceControl??this;o.emitEvent!==!1&&(this._events.next(new Oo(this.value,f)),this._events.next(new mi(this.status,f)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(gt(ye({},o),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(g=>g(!0))}enable(o={}){let i=this._parentMarkedDirty(o.onlySelf);this.status=ws,this._forEachChild(f=>{f.enable(gt(ye({},o),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent}),this._updateAncestors(gt(ye({},o),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(f=>f(!1))}_updateAncestors(o,i){this._parent&&!o.onlySelf&&(this._parent.updateValueAndValidity(o),o.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(o){this._parent=o}getRawValue(){return this.value}updateValueAndValidity(o={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let f=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ws||this.status===pi)&&this._runAsyncValidator(f,o.emitEvent)}let i=o.sourceControl??this;o.emitEvent!==!1&&(this._events.next(new Oo(this.value,i)),this._events.next(new mi(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.updateValueAndValidity(gt(ye({},o),{sourceControl:i}))}_updateTreeValidity(o={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(o)),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cs:ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(o,i){if(this.asyncValidator){this.status=pi,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let f=fl(this.asyncValidator(this));this._asyncValidationSubscription=f.subscribe(g=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(g,{emitEvent:i,shouldHaveEmitted:o})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let o=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,o}return!1}setErrors(o,i={}){this.errors=o,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(o){let i=o;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((f,g)=>f&&f._find(g),this)}getError(o,i){let f=i?this.get(i):this;return f&&f.errors?f.errors[o]:null}hasError(o,i){return!!this.getError(o,i)}get root(){let o=this;for(;o._parent;)o=o._parent;return o}_updateControlsErrors(o,i,f){this.status=this._calculateStatus(),o&&this.statusChanges.emit(this.status),(o||f)&&this._events.next(new mi(this.status,i)),this._parent&&this._parent._updateControlsErrors(o,i,f)}_initObservables(){this.valueChanges=new ai,this.statusChanges=new ai}_calculateStatus(){return this._allControlsDisabled()?Cs:this.errors?So:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pi)?pi:this._anyControlsHaveStatus(So)?So:ws}_anyControlsHaveStatus(o){return this._anyControls(i=>i.status===o)}_anyControlsDirty(){return this._anyControls(o=>o.dirty)}_anyControlsTouched(){return this._anyControls(o=>o.touched)}_updatePristine(o,i){let f=!this._anyControlsDirty(),g=this.pristine!==f;this.pristine=f,this._parent&&!o.onlySelf&&this._parent._updatePristine(o,i),g&&this._events.next(new Ds(this.pristine,i))}_updateTouched(o={},i){this.touched=this._anyControlsTouched(),this._events.next(new Ss(this.touched,i)),this._parent&&!o.onlySelf&&this._parent._updateTouched(o,i)}_registerOnCollectionChange(o){this._onCollectionChange=o}_setUpdateStrategy(o){Io(o)&&o.updateOn!=null&&(this._updateOn=o.updateOn)}_parentMarkedDirty(o){let i=this._parent&&this._parent.dirty;return!o&&!!i&&!this._parent._anyControlsDirty()}_find(o){return null}_assignValidators(o){this._rawValidators=Array.isArray(o)?o.slice():o,this._composedValidatorFn=Td(this._rawValidators)}_assignAsyncValidators(o){this._rawAsyncValidators=Array.isArray(o)?o.slice():o,this._composedAsyncValidatorFn=Id(this._rawAsyncValidators)}},ko=class extends gi{constructor(o,i,f){super(nu(i),ru(f,i)),this.controls=o,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(o,i){return this.controls[o]?this.controls[o]:(this.controls[o]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(o,i,f={}){this.registerControl(o,i),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}removeControl(o,i={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(o,i,f={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],i&&this.registerControl(o,i),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}contains(o){return this.controls.hasOwnProperty(o)&&this.controls[o].enabled}setValue(o,i={}){Dl(this,!0,o),Object.keys(o).forEach(f=>{Cl(this,!0,f),this.controls[f].setValue(o[f],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(o,i={}){o!=null&&(Object.keys(o).forEach(f=>{let g=this.controls[f];g&&g.patchValue(o[f],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(o={},i={}){this._forEachChild((f,g)=>{f.reset(o?o[g]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(o,i,f)=>(o[f]=i.getRawValue(),o))}_syncPendingControls(){let o=this._reduceChildren(!1,(i,f)=>f._syncPendingControls()?!0:i);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_forEachChild(o){Object.keys(this.controls).forEach(i=>{let f=this.controls[i];f&&o(f,i)})}_setUpControls(){this._forEachChild(o=>{o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(o){for(let[i,f]of Object.entries(this.controls))if(this.contains(i)&&o(f))return!0;return!1}_reduceValue(){let o={};return this._reduceChildren(o,(i,f,g)=>((f.enabled||this.disabled)&&(i[g]=f.value),i))}_reduceChildren(o,i){let f=o;return this._forEachChild((g,S)=>{f=i(f,g,S)}),f}_allControlsDisabled(){for(let o of Object.keys(this.controls))if(this.controls[o].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(o){return this.controls.hasOwnProperty(o)?this.controls[o]:null}};var Za=class extends ko{};var Fo=new Oe("CallSetDisabledState",{providedIn:"root",factory:()=>Vo}),Vo="always";function Sl(a,o){return[...o.path,a]}function Ja(a,o,i=Vo){iu(a,o),o.valueAccessor.writeValue(a.value),(a.disabled||i==="always")&&o.valueAccessor.setDisabledState?.(a.disabled),Vd(a,o),Pd(a,o),Rd(a,o),Fd(a,o)}function nl(a,o,i=!0){let f=()=>{};o.valueAccessor&&(o.valueAccessor.registerOnChange(f),o.valueAccessor.registerOnTouched(f)),To(a,o),a&&(o._invokeOnDestroyCallbacks(),a._registerOnCollectionChange(()=>{}))}function Ao(a,o){a.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(o)})}function Fd(a,o){if(o.valueAccessor.setDisabledState){let i=f=>{o.valueAccessor.setDisabledState(f)};a.registerOnDisabledChange(i),o._registerOnDestroy(()=>{a._unregisterOnDisabledChange(i)})}}function iu(a,o){let i=bl(a);o.validator!==null?a.setValidators(Xu(i,o.validator)):typeof i=="function"&&a.setValidators([i]);let f=wl(a);o.asyncValidator!==null?a.setAsyncValidators(Xu(f,o.asyncValidator)):typeof f=="function"&&a.setAsyncValidators([f]);let g=()=>a.updateValueAndValidity();Ao(o._rawValidators,g),Ao(o._rawAsyncValidators,g)}function To(a,o){let i=!1;if(a!==null){if(o.validator!==null){let g=bl(a);if(Array.isArray(g)&&g.length>0){let S=g.filter(I=>I!==o.validator);S.length!==g.length&&(i=!0,a.setValidators(S))}}if(o.asyncValidator!==null){let g=wl(a);if(Array.isArray(g)&&g.length>0){let S=g.filter(I=>I!==o.asyncValidator);S.length!==g.length&&(i=!0,a.setAsyncValidators(S))}}}let f=()=>{};return Ao(o._rawValidators,f),Ao(o._rawAsyncValidators,f),i}function Vd(a,o){o.valueAccessor.registerOnChange(i=>{a._pendingValue=i,a._pendingChange=!0,a._pendingDirty=!0,a.updateOn==="change"&&Ml(a,o)})}function Rd(a,o){o.valueAccessor.registerOnTouched(()=>{a._pendingTouched=!0,a.updateOn==="blur"&&a._pendingChange&&Ml(a,o),a.updateOn!=="submit"&&a.markAsTouched()})}function Ml(a,o){a._pendingDirty&&a.markAsDirty(),a.setValue(a._pendingValue,{emitModelToViewChange:!1}),o.viewToModelUpdate(a._pendingValue),a._pendingChange=!1}function Pd(a,o){let i=(f,g)=>{o.valueAccessor.writeValue(f),g&&o.viewToModelUpdate(f)};a.registerOnChange(i),o._registerOnDestroy(()=>{a._unregisterOnChange(i)})}function Nd(a,o){a==null,iu(a,o)}function Ld(a,o){return To(a,o)}function xl(a,o){if(!a.hasOwnProperty("model"))return!1;let i=a.model;return i.isFirstChange()?!0:!Object.is(o,i.currentValue)}function jd(a){return Object.getPrototypeOf(a.constructor)===Xa}function Yd(a,o){a._syncPendingControls(),o.forEach(i=>{let f=i.control;f.updateOn==="submit"&&f._pendingChange&&(i.viewToModelUpdate(f._pendingValue),f._pendingChange=!1)})}function El(a,o){if(!o)return null;Array.isArray(o);let i,f,g;return o.forEach(S=>{S.constructor===vi?i=S:jd(S)?f=S:g=S}),g||f||i||null}function Bd(a,o){let i=a.indexOf(o);i>-1&&a.splice(i,1)}function rl(a,o){let i=a.indexOf(o);i>-1&&a.splice(i,1)}function il(a){return typeof a=="object"&&a!==null&&Object.keys(a).length===2&&"value"in a&&"disabled"in a}var Ms=class extends gi{constructor(o=null,i,f){super(nu(i),ru(f,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(o),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Io(i)&&(i.nonNullable||i.initialValueIsDefault)&&(il(o)?this.defaultValue=o.value:this.defaultValue=o)}setValue(o,i={}){this.value=this._pendingValue=o,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(f=>f(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(o,i={}){this.setValue(o,i)}reset(o=this.defaultValue,i={}){this._applyFormState(o),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(o){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(o){this._onChange.push(o)}_unregisterOnChange(o){rl(this._onChange,o)}registerOnDisabledChange(o){this._onDisabledChange.push(o)}_unregisterOnDisabledChange(o){rl(this._onDisabledChange,o)}_forEachChild(o){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(o){il(o)?(this.value=this._pendingValue=o.value,o.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=o}};var Ud=a=>a instanceof Ms;var Wd={provide:tt,useExisting:Be(()=>mr)},sl=Promise.resolve(),mr=(()=>{class a extends tt{constructor(i,f,g,S,I,G){super(),this._changeDetectorRef=I,this.callSetDisabledState=G,this.control=new Ms,this._registered=!1,this.name="",this.update=new ai,this._parent=i,this._setValidators(f),this._setAsyncValidators(g),this.valueAccessor=El(this,S)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let f=i.name.previousValue;this.formDirective.removeControl({name:f,path:this._getPath(f)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),xl(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ja(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){sl.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let f=i.isDisabled.currentValue,g=f!==0&&Ru(f);sl.then(()=>{g&&!this.control.disabled?this.control.disable():!g&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Sl(i,this._parent):[i]}static{this.\u0275fac=function(f){return new(f||a)(ae(pr,9),ae(eu,10),ae(tu,10),ae(nt,10),ae(wo,8),ae(Fo,8))}}static{this.\u0275dir=Xe({type:a,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ue([Wd]),Qt,ps]})}}return a})(),_i=(()=>{class a{static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275dir=Xe({type:a,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return a})();var Ol=new Oe("");var Gd={provide:pr,useExisting:Be(()=>rt)},rt=(()=>{class a extends pr{get submitted(){return Bn(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,f,g){super(),this.callSetDisabledState=g,this._submitted=vs(()=>this._submittedReactive()),this._submittedReactive=Gt(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ai,this._setValidators(i),this._setAsyncValidators(f)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(To(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let f=this.form.get(i.path);return Ja(f,i,this.callSetDisabledState),f.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),f}getControl(i){return this.form.get(i.path)}removeControl(i){nl(i.control||null,i,!1),Bd(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,f){this.form.get(i.path).setValue(f)}onSubmit(i){return this._submittedReactive.set(!0),Yd(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new za(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new qa(this.form))}_updateDomValue(){this.directives.forEach(i=>{let f=i.control,g=this.form.get(i.path);f!==g&&(nl(f||null,i),Ud(g)&&(Ja(g,i,this.callSetDisabledState),i.control=g))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let f=this.form.get(i.path);Nd(f,i),f.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let f=this.form.get(i.path);f&&Ld(f,i)&&f.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){iu(this.form,this),this._oldForm&&To(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(f){return new(f||a)(ae(eu,10),ae(tu,10),ae(Fo,8))}}static{this.\u0275dir=Xe({type:a,selectors:[["","formGroup",""]],hostBindings:function(f,g){f&1&&we("submit",function(I){return g.onSubmit(I)})("reset",function(){return g.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ue([Gd]),Qt,ps]})}}return a})();var Hd={provide:tt,useExisting:Be(()=>gr)},gr=(()=>{class a extends tt{set isDisabled(i){}static{this._ngModelWarningSentOnce=!1}constructor(i,f,g,S,I){super(),this._ngModelWarningConfig=I,this._added=!1,this.name=null,this.update=new ai,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(f),this._setAsyncValidators(g),this.valueAccessor=El(this,S)}ngOnChanges(i){this._added||this._setUpControl(),xl(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Sl(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(f){return new(f||a)(ae(pr,13),ae(eu,10),ae(tu,10),ae(nt,10),ae(Ol,8))}}static{this.\u0275dir=Xe({type:a,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ue([Hd]),Qt,ps]})}}return a})(),Kd={provide:nt,useExisting:Be(()=>Ro),multi:!0};function kl(a,o){return a==null?`${o}`:(o&&typeof o=="object"&&(o="Object"),`${a}: ${o}`.slice(0,50))}function $d(a){return a.split(":")[0]}var Ro=(()=>{class a extends Xa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let f=this._getOptionId(i),g=kl(f,i);this.setProperty("value",g)}registerOnChange(i){this.onChange=f=>{this.value=this._getOptionValue(f),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let f of this._optionMap.keys())if(this._compareWith(this._optionMap.get(f),i))return f;return null}_getOptionValue(i){let f=$d(i);return this._optionMap.has(f)?this._optionMap.get(f):i}static{this.\u0275fac=(()=>{let i;return function(g){return(i||(i=ms(a)))(g||a)}})()}static{this.\u0275dir=Xe({type:a,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(f,g){f&1&&we("change",function(I){return g.onChange(I.target.value)})("blur",function(){return g.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ue([Kd]),Qt]})}}return a})(),Al=(()=>{class a{constructor(i,f,g){this._element=i,this._renderer=f,this._select=g,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(kl(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(f){return new(f||a)(ae(ui),ae(li),ae(Ro,9))}}static{this.\u0275dir=Xe({type:a,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return a})(),zd={provide:nt,useExisting:Be(()=>Tl),multi:!0};function ol(a,o){return a==null?`${o}`:(typeof o=="string"&&(o=`'${o}'`),o&&typeof o=="object"&&(o="Object"),`${a}: ${o}`.slice(0,50))}function qd(a){return a.split(":")[0]}var Tl=(()=>{class a extends Xa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let f;if(Array.isArray(i)){let g=i.map(S=>this._getOptionId(S));f=(S,I)=>{S._setSelected(g.indexOf(I.toString())>-1)}}else f=(g,S)=>{g._setSelected(!1)};this._optionMap.forEach(f)}registerOnChange(i){this.onChange=f=>{let g=[],S=f.selectedOptions;if(S!==void 0){let I=S;for(let G=0;G<I.length;G++){let ue=I[G],Re=this._getOptionValue(ue.value);g.push(Re)}}else{let I=f.options;for(let G=0;G<I.length;G++){let ue=I[G];if(ue.selected){let Re=this._getOptionValue(ue.value);g.push(Re)}}}this.value=g,i(g)}}_registerOption(i){let f=(this._idCounter++).toString();return this._optionMap.set(f,i),f}_getOptionId(i){for(let f of this._optionMap.keys())if(this._compareWith(this._optionMap.get(f)._value,i))return f;return null}_getOptionValue(i){let f=qd(i);return this._optionMap.has(f)?this._optionMap.get(f)._value:i}static{this.\u0275fac=(()=>{let i;return function(g){return(i||(i=ms(a)))(g||a)}})()}static{this.\u0275dir=Xe({type:a,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(f,g){f&1&&we("change",function(I){return g.onChange(I.target)})("blur",function(){return g.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ue([zd]),Qt]})}}return a})(),Il=(()=>{class a{constructor(i,f,g){this._element=i,this._renderer=f,this._select=g,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(ol(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(ol(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(f){return new(f||a)(ae(ui),ae(li),ae(Tl,9))}}static{this.\u0275dir=Xe({type:a,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return a})();var Fl=(()=>{class a{static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275mod=Yn({type:a})}static{this.\u0275inj=jn({})}}return a})(),Qa=class extends gi{constructor(o,i,f){super(nu(i),ru(f,i)),this.controls=o,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(o){return this.controls[this._adjustIndex(o)]}push(o,i={}){this.controls.push(o),this._registerControl(o),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(o,i,f={}){this.controls.splice(o,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:f.emitEvent})}removeAt(o,i={}){let f=this._adjustIndex(o);f<0&&(f=0),this.controls[f]&&this.controls[f]._registerOnCollectionChange(()=>{}),this.controls.splice(f,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(o,i,f={}){let g=this._adjustIndex(o);g<0&&(g=0),this.controls[g]&&this.controls[g]._registerOnCollectionChange(()=>{}),this.controls.splice(g,1),i&&(this.controls.splice(g,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(o,i={}){Dl(this,!1,o),o.forEach((f,g)=>{Cl(this,!1,g),this.at(g).setValue(f,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(o,i={}){o!=null&&(o.forEach((f,g)=>{this.at(g)&&this.at(g).patchValue(f,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(o=[],i={}){this._forEachChild((f,g)=>{f.reset(o[g],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(o=>o.getRawValue())}clear(o={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:o.emitEvent}))}_adjustIndex(o){return o<0?o+this.length:o}_syncPendingControls(){let o=this.controls.reduce((i,f)=>f._syncPendingControls()?!0:i,!1);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_forEachChild(o){this.controls.forEach((i,f)=>{o(i,f)})}_updateValue(){this.value=this.controls.filter(o=>o.enabled||this.disabled).map(o=>o.value)}_anyControls(o){return this.controls.some(i=>i.enabled&&o(i))}_setUpControls(){this._forEachChild(o=>this._registerControl(o))}_allControlsDisabled(){for(let o of this.controls)if(o.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(o){o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)}_find(o){return this.at(o)??null}};function al(a){return!!a&&(a.asyncValidators!==void 0||a.validators!==void 0||a.updateOn!==void 0)}var bi=(()=>{class a{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new a;return i.useNonNullable=!0,i}group(i,f=null){let g=this._reduceControls(i),S={};return al(f)?S=f:f!==null&&(S.validators=f.validator,S.asyncValidators=f.asyncValidator),new ko(g,S)}record(i,f=null){let g=this._reduceControls(i);return new Za(g,f)}control(i,f,g){let S={};return this.useNonNullable?(al(f)?S=f:(S.validators=f,S.asyncValidators=g),new Ms(i,gt(ye({},S),{nonNullable:!0}))):new Ms(i,f,g)}array(i,f,g){let S=i.map(I=>this._createControl(I));return new Qa(S,f,g)}_reduceControls(i){let f={};return Object.keys(i).forEach(g=>{f[g]=this._createControl(i[g])}),f}_createControl(i){if(i instanceof Ms)return i;if(i instanceof gi)return i;if(Array.isArray(i)){let f=i[0],g=i.length>1?i[1]:null,S=i.length>2?i[2]:null;return this.control(f,g,S)}else return this.control(i)}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275prov=Ee({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var wi=(()=>{class a{static withConfig(i){return{ngModule:a,providers:[{provide:Fo,useValue:i.callSetDisabledState??Vo}]}}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275mod=Yn({type:a})}static{this.\u0275inj=jn({imports:[Fl]})}}return a})(),Ci=(()=>{class a{static withConfig(i){return{ngModule:a,providers:[{provide:Ol,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Fo,useValue:i.callSetDisabledState??Vo}]}}static{this.\u0275fac=function(f){return new(f||a)}}static{this.\u0275mod=Yn({type:a})}static{this.\u0275inj=jn({imports:[Fl]})}}return a})();var Zd=["*"],Si=(()=>{class a{theme="primary";disabled=!1;type="button";outline=!1;onTouched=()=>{};onChange=i=>{};get buttonClasses(){let i="px-4 py-2 rounded-lg font-medium transition-colors border-2",f={primary:this.outline?"border-primary text-primary hover:bg-primary-light":"bg-primary text-white hover:bg-primary-dark",secondary:this.outline?"border-secondary text-secondary hover:bg-secondary-light":"bg-secondary text-black hover:bg-secondary-dark",neutral:this.outline?"border-neutral-500 text-neutral-800 hover:bg-neutral-200":"bg-neutral-200 text-neutral-800 hover:bg-neutral-500",gradient:this.outline?"border-gradient text-gradient hover:bg-gradient-light":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:bg-gradient-dark"};return`${i} ${f[this.theme]} ${this.disabled?"opacity-50 cursor-not-allowed":""}`}writeValue(i){}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i}onClick(){this.disabled||(this.onChange(!0),this.onTouched())}static \u0275fac=function(f){return new(f||a)};static \u0275cmp=Ce({type:a,selectors:[["app-button"]],inputs:{theme:"theme",disabled:"disabled",type:"type",outline:"outline"},standalone:!0,features:[Ue([{provide:nt,useExisting:Be(()=>a),multi:!0}]),De],ngContentSelectors:Zd,decls:2,vars:3,consts:[[1,"w-full","h-12","px-6",3,"click","type","disabled","ngClass"]],template:function(f,g){f&1&&(po(),J(0,"button",0),we("click",function(){return g.onClick()}),mo(1),te()),f&2&&ke("type",g.type)("disabled",g.disabled)("ngClass",g.buttonClasses)},dependencies:[It,ci]})}return a})();var Rl=(()=>{class a{router=Ie(Un);goToRegisterPet(){this.router.navigate(["/login/meu-pet"])}static \u0275fac=function(f){return new(f||a)};static \u0275cmp=Ce({type:a,selectors:[["app-introduction"]],standalone:!0,features:[De],decls:7,vars:0,consts:[[1,"min-h-screen","bg-gradient-to-r","from-blue-500","to-purple-600","flex","flex-col","justify-center","items-center","text-white","p-4"],[1,"text-4xl","font-bold","mb-4"],[1,"text-lg","mb-8"],["theme","neutral",3,"click"]],template:function(f,g){f&1&&(J(0,"div",0)(1,"h1",1),fe(2,"Bem-vindo ao Pet Amigo!"),te(),J(3,"p",2),fe(4," Para come\xE7ar, cadastre seu primeiro animal de estima\xE7\xE3o. "),te(),J(5,"app-button",3),we("click",function(){return g.goToRegisterPet()}),fe(6,"Cadastrar meu animal"),te()())},dependencies:[Si]})}return a})();var Hl=_u(Pl());var Nl={production:!1,apiUrl:"http://localhost:3000/"};var xi=new Nu(()=>({host:""}));var Po=class{http;config;constructor(o,i){this.http=o,this.config=i}fetch(o,i){let f=Object.assign({context:new di().set(xi,this.config)},i||{});return this.http.get(this.bindUrlHost(o),f)}post(o,i){return this.http.post(this.bindUrlHost(o),i,{context:new di().set(xi,this.config)})}delete(o){return this.http.delete(this.bindUrlHost(o),{context:new di().set(xi,this.config)})}update(o,i){return this.http.put(this.bindUrlHost(o),i||{},{context:new di().set(xi,this.config)})}partialUpdate(o,i){return this.http.patch(this.bindUrlHost(o),i||{},{context:new di().set(xi,this.config)})}bindUrlHost(o){return this.config.host+"/"+o}};var Ll=(()=>{class a extends Po{constructor(i){super(i,{host:Nl.apiUrl+"auth"})}register(i){return this.post("register",i)}login(i){return this.post("login",i)}static \u0275fac=function(f){return new(f||a)(Qe(Co))};static \u0275prov=Ee({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var No=_u(jl(),1),Yl=Symbol.for("Dexie"),Lo=globalThis[Yl]||(globalThis[Yl]=No.default);if(No.default.semVer!==Lo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${No.default.semVer} and ${Lo.semVer}`);var{liveQuery:Hh,mergeRanges:Kh,rangesOverlap:$h,RangeSet:zh,cmp:qh,Entity:Zh,PropModification:Jh,replacePrefix:Qh,add:Xh,remove:ep}=Lo;var Bl=Lo;var Ul=(()=>{class a{dbName="pethub_database";db;table;constructor(i,f,g){this.db=new Bl(this.dbName),this.db.version(1).stores({[i]:f}),this.table=this.db.table(i),g&&this.initializeData(g)}add(i){return Nn(this,null,function*(){return this.table.add(i)})}getById(i){return Nn(this,null,function*(){return this.table.get(i)})}getAll(){return Nn(this,null,function*(){return this.table.toArray()})}update(i){return Nn(this,null,function*(){if(!i.id)throw new Error("Item ID is required for update.");return this.table.update(i.id,i)})}delete(i){return Nn(this,null,function*(){return this.table.delete(i)})}clear(){return Nn(this,null,function*(){return this.table.clear()})}initializeData(i){return Nn(this,null,function*(){(yield this.table.count())===0&&(yield this.table.bulkAdd(i))})}static \u0275fac=function(f){ku()};static \u0275prov=Ee({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Wl=["++id","name"].toString();var Gl=(()=>{class a extends Ul{constructor(){super("specie",Wl,[{id:1,name:"Cachorro"},{id:2,name:"Gato"},{id:3,name:"Outro"}])}static \u0275fac=function(f){return new(f||a)};static \u0275prov=Ee({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Ei=(()=>{class a{species=Ie(Gl);auth=Ie(Ll);store=new bu({name:"",email:"",password:"",confirmation:"",pet:null});listSpecies(){return this.species.getAll()}registerPet(i){let f=this.store.value;return this.species.getAll().then(g=>{let S=g.find(I=>I.id==i.specieId);f.pet={birth:(0,Hl.default)(i.birth).toDate(),breed:i.breed,gender:i.birth,name:i.name,photoUrl:"",specie:{id:i.specieId,name:S?.name||""}},this.store.next(f)})}registerUser(i){return this.auth.register(i)}login(i,f){return this.auth.login({email:i,password:f})}static \u0275fac=function(f){return new(f||a)};static \u0275prov=Ee({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Qd=["*"],Kl=(()=>{class a{disabled=!1;type="button";static \u0275fac=function(f){return new(f||a)};static \u0275cmp=Ce({type:a,selectors:[["app-login-button"]],inputs:{disabled:"disabled",type:"type"},standalone:!0,features:[De],ngContentSelectors:Qd,decls:2,vars:2,consts:[[1,"block","w-full","h-12","px-6","bg-white","bg-opacity-30","text-white","rounded-full",3,"type","disabled"]],template:function(f,g){f&1&&(po(),J(0,"button",0),mo(1),te()),f&2&&ke("type",g.type)("disabled",g.disabled)}})}return a})();function Xd(a,o){if(a&1&&(J(0,"p",0),fe(1),te()),a&2){let i=lt();oe(),Tt(i.error)}}function ef(a,o){if(a&1&&(J(0,"label",1),fe(1),te()),a&2){let i=lt();oe(),Tt(i.label)}}var $l=(()=>{class a{injector;placeholder="";type="text";disabled=!1;label="";value="";onChange=()=>{};onTouched=()=>{};control=null;group=null;get error(){if(this.control?.errors&&this.group?.submitted){if(this.control.errors.required)return"Este campo \xE9 obrigat\xF3rio.";if(this.control.errors.email)return"Este campo deve ser um email."}return""}constructor(i){this.injector=i}ngOnInit(){this.group=this.injector.get(rt,null),this.control=this.injector.get(tt,null)}writeValue(i){this.value=i}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i}onBlur(){this.onTouched()}onInputChange(i){let f=i.target.value;this.value=f,this.onChange(f)}static \u0275fac=function(f){return new(f||a)(ae(kt))};static \u0275cmp=Ce({type:a,selectors:[["app-login-input"]],inputs:{placeholder:"placeholder",type:"type",disabled:"disabled",label:"label"},standalone:!0,features:[Ue([{provide:nt,useExisting:Be(()=>a),multi:!0}]),De],decls:3,vars:5,consts:[[1,"pl-4","animate-fade-right","pb-1","text-xs","text-white"],[1,"pl-4","text-white","block","text-sm","font-medium","mb-2"],[1,"w-full","h-12","px-6","mb-4","bg-transparent","border-2","border-solid","placeholder-white","text-white","rounded-full","focus:outline-none",3,"ngModelChange","blur","input","type","placeholder","ngModel"]],template:function(f,g){f&1&&(At(0,Xd,2,1,"p",0)(1,ef,2,1,"label",1),J(2,"input",2),_o("ngModelChange",function(I){return yo(g.value,I)||(g.value=I),I}),we("blur",function(){return g.onBlur()})("input",function(I){return g.onInputChange(I)}),te()),f&2&&(Ge(g.error?0:-1),oe(),Ge(g.label?1:-1),oe(),ke("type",g.type)("placeholder",g.placeholder),vo("ngModel",g.value))},dependencies:[It,wi,vi,Ft,mr]})}return a})();var zl=(()=>{class a{fb=Ie(bi);registration=Ie(Ei);formLogin=this.fb.group({email:["",ct.required],password:["",ct.required]});submitLogin(){this.formLogin.valid&&this.registration.login(this.formLogin.value.email||"",this.formLogin.value.password||"").subscribe({next:i=>{console.log(i)},error:i=>{console.log(i)}})}static \u0275fac=function(f){return new(f||a)};static \u0275cmp=Ce({type:a,selectors:[["app-login"]],standalone:!0,features:[De],decls:6,vars:1,consts:[[1,"min-h-screen","bg-gradient-to-r","from-blue-500","to-purple-600","flex","flex-col","justify-center","items-center","text-white","p-4"],[1,"flex","flex-col","p-8","w-full","max-w-md","text-gray-800",3,"submit","formGroup"],["formControlName","email","placeholder","Email"],["formControlName","password","type","password","placeholder","Senha"],["type","submit","theme","gradient",1,"w-2/3","mx-auto","mt-3","font-bold"]],template:function(f,g){f&1&&(J(0,"div",0)(1,"form",1),we("submit",function(){return g.submitLogin()}),et(2,"app-login-input",2)(3,"app-login-input",3),J(4,"app-login-button",4),fe(5,"Entrar"),te()()()),f&2&&(oe(),ke("formGroup",g.formLogin))},dependencies:[Ci,_i,Ft,yi,rt,gr,$l,Kl]})}return a})();function tf(a,o){if(a&1&&(J(0,"p",1),fe(1),te()),a&2){let i=lt();oe(),Tt(i.error)}}function nf(a,o){if(a&1&&(J(0,"label",2),fe(1),te()),a&2){let i=lt();oe(),Tt(i.label)}}var ql=(()=>{class a{injector;label="Data";disabled=!1;value="";onChange=()=>{};onTouched=()=>{};control=null;group=null;get error(){if(this.control?.errors&&this.group?.submitted){if(this.control.errors.required)return"Este campo \xE9 obrigat\xF3rio.";if(this.control.errors.email)return"Este campo deve ser um email."}return""}constructor(i){this.injector=i}ngOnInit(){this.value=this.getCurrentDate(),this.group=this.injector.get(rt,null),this.control=this.injector.get(tt,null)}writeValue(i){this.value=i}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i}handleInputChange(i){let f=i.target;this.value=f.value,this.onChange(this.value)}getCurrentDate(){return new Date().toISOString().split("T")[0]}static \u0275fac=function(f){return new(f||a)(ae(kt))};static \u0275cmp=Ce({type:a,selectors:[["app-date"]],inputs:{label:"label",disabled:"disabled"},standalone:!0,features:[Ue([{provide:nt,useExisting:Be(()=>a),multi:!0}]),De],decls:7,vars:6,consts:[[1,"flex","flex-col","mb-4"],[1,"animate-fade-right","pb-1","text-xs","text-red-400"],["for","date-input",1,"block","text-sm","font-medium","mb-2"],[1,"relative","flex","items-center","bg-background-light","border","border-neutral-500","rounded-lg","px-3","py-2","focus-within:ring-2","focus-within:ring-primary"],["id","date-input","type","date",1,"w-full","bg-transparent","text-text-primary","focus:outline-none",3,"change","blur","value","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","text-neutral-500","absolute","right-3","pointer-events-none"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 4h10M5 10h14m-14 4h14m-14 4h14"]],template:function(f,g){f&1&&(J(0,"div",0),At(1,tf,2,1,"p",1)(2,nf,2,1,"label",2),J(3,"div",3)(4,"input",4),we("change",function(I){return g.handleInputChange(I)})("blur",function(){return g.onTouched()}),te(),ho(),J(5,"svg",5),et(6,"path",6),te()()()),f&2&&(oe(),Ge(g.error?1:-1),oe(),Ge(g.label?2:-1),oe(),gs("opacity-50",g.disabled),oe(),ke("value",g.value)("disabled",g.disabled))},dependencies:[It]})}return a})();var rf=(a,o)=>({"border-neutral-500 focus:border-primary-500":a,"border-neutral-200 bg-neutral-200":o});function sf(a,o){if(a&1&&(J(0,"p",1),fe(1),te()),a&2){let i=lt();oe(),Tt(i.error)}}function of(a,o){if(a&1&&(J(0,"label",2),fe(1),te()),a&2){let i=lt();oe(),Tt(i.label)}}var jo=(()=>{class a{injector;placeholder="";type="text";disabled=!1;label="";value="";onChange=()=>{};onTouched=()=>{};control=null;group=null;get error(){if(this.control?.errors&&this.group?.submitted){if(this.control.errors.required)return"Este campo \xE9 obrigat\xF3rio.";if(this.control.errors.email)return"Este campo deve ser um email."}return""}constructor(i){this.injector=i}ngOnInit(){this.group=this.injector.get(rt,null),this.control=this.injector.get(tt,null)}writeValue(i){this.value=i}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i}onBlur(){this.onTouched()}onInputChange(i){let f=i.target.value;this.value=f,this.onChange(f)}static \u0275fac=function(f){return new(f||a)(ae(kt))};static \u0275cmp=Ce({type:a,selectors:[["app-input"]],inputs:{placeholder:"placeholder",type:"type",disabled:"disabled",label:"label"},standalone:!0,features:[Ue([{provide:nt,useExisting:Be(()=>a),multi:!0}]),De],decls:5,vars:10,consts:[[1,"relative","mb-4"],[1,"animate-fade-right","pb-1","text-xs","text-red-400"],[1,"block","text-sm","font-medium","mb-2"],[1,"w-full","p-3","rounded-lg","border-2","focus:outline-none","transition-colors",3,"ngModelChange","blur","input","type","placeholder","disabled","ngModel","ngClass"]],template:function(f,g){f&1&&(J(0,"div",0),At(1,sf,2,1,"p",1)(2,of,2,1,"label",2),J(3,"input",3),_o("ngModelChange",function(I){return yo(g.value,I)||(g.value=I),I}),we("blur",function(){return g.onBlur()})("input",function(I){return g.onInputChange(I)}),te(),et(4,"p"),te()),f&2&&(oe(),Ge(g.error?1:-1),oe(),Ge(g.label?2:-1),oe(),ke("type",g.type)("placeholder",g.placeholder)("disabled",g.disabled),vo("ngModel",g.value),ke("ngClass",bo(7,rf,!g.disabled,g.disabled)))},dependencies:[It,ci,wi,vi,Ft,mr],encapsulation:2})}return a})();var af=(a,o)=>({"border-neutral-500 focus:border-primary-500":a,"border-neutral-200 bg-neutral-200":o});function uf(a,o){if(a&1&&(J(0,"p",1),fe(1),te()),a&2){let i=lt();oe(),Tt(i.error)}}function lf(a,o){if(a&1&&(J(0,"label",2),fe(1),te()),a&2){let i=lt();oe(),Tt(i.label)}}function cf(a,o){if(a&1&&(J(0,"option",5),fe(1),te()),a&2){let i=o.$implicit;ke("value",i.value),oe(),go(" ",i.label," ")}}var Zl=(()=>{class a{injector;options=[];disabled=!1;label="";value;onChange=()=>{};onTouched=()=>{};control=null;group=null;get error(){return this.control?.errors&&this.group?.submitted&&this.control.errors.required?"Este campo \xE9 obrigat\xF3rio.":""}constructor(i){this.injector=i}ngOnInit(){this.group=this.injector.get(rt,null),this.control=this.injector.get(tt,null)}writeValue(i){this.value=i.value}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i}onBlur(){this.onTouched()}onChangeEvent(i){let f=this.options.find(g=>g.value==i);console.log(f),this.onChange(f)}static \u0275fac=function(f){return new(f||a)(ae(kt))};static \u0275cmp=Ce({type:a,selectors:[["app-select"]],inputs:{options:"options",disabled:"disabled",label:"label"},standalone:!0,features:[Ue([{provide:nt,useExisting:Be(()=>a),multi:!0}]),De],decls:10,vars:8,consts:[[1,"relative","mb-4"],[1,"animate-fade-right","pb-1","text-xs","text-red-400"],[1,"block","text-sm","font-medium","mb-2"],[1,"relative"],[1,"w-full","p-3","rounded-lg","border-2","focus:outline-none","transition-colors","appearance-none",3,"ngModelChange","blur","disabled","ngModel","ngClass"],[3,"value"],[1,"pointer-events-none","absolute","inset-y-0","right-0","flex","items-center","px-2","text-neutral-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"]],template:function(f,g){f&1&&(J(0,"div",0),At(1,uf,2,1,"p",1)(2,lf,2,1,"label",2),J(3,"div",3)(4,"select",4),we("ngModelChange",function(I){return g.onChangeEvent(I)})("blur",function(){return g.onBlur()}),Tu(5,cf,2,2,"option",5,Au),te(),J(7,"div",6),ho(),J(8,"svg",7),et(9,"path",8),te()()()()),f&2&&(oe(),Ge(g.error?1:-1),oe(),Ge(g.label?2:-1),oe(2),ke("disabled",g.disabled)("ngModel",g.value)("ngClass",bo(5,af,!g.disabled,g.disabled)),oe(),Iu(g.options))},dependencies:[It,ci,wi,Al,Il,Ro,Ft,mr],encapsulation:2})}return a})();function uu(){return a=>a.value.value?null:{required:!0}}function df(a,o){a&1&&(J(0,"p",8),fe(1," Preencha todos os campos obrigat\xF3rios. "),te())}var Jl=(()=>{class a{router=Ie(Un);registration=Ie(Ei);fb=Ie(bi);species=Gt([]);gender=Gt([{label:"Macho",value:"M"},{label:"F\xEAmea",value:"F"}]);formPet=this.fb.group({name:["",ct.required],specie:[{label:"",value:""},[uu()]],breed:[""],birth:["",ct.required],gender:[{label:"",value:""},[uu()]]});errorFieldRequired=Gt(!1);ngAfterViewInit(){this.initData()}onSubmit(){if(console.log(this.formPet.value),this.errorFieldRequired.set(!1),!this.formPet.valid){this.errorFieldRequired.set(!0);return}this.registration.registerPet({birth:this.formPet.value.birth||"",breed:this.formPet.value.breed||"",gender:this.formPet.value.gender?.value||"M",name:this.formPet.value.name||"",specieId:Number(this.formPet.value.specie?.value||"")}).then(()=>{this.router.navigate(["login/perfil"])})}initData(){this.registration.listSpecies().then(f=>{let g=f.map(S=>({value:S.id,label:S.name}));this.species.set(g)});let i=this.registration.store.value.pet;this.formPet.reset({name:i?.name||"",specie:{label:i?.specie.name||"",value:String(i?.specie.id||"")},breed:i?.breed||"",birth:i?.birth.toISOString().split("T")[0]||"",gender:{label:i?.gender=="M"?"Macho":"Femea",value:i?.gender||""}})}static \u0275fac=function(f){return new(f||a)};static \u0275cmp=Ce({type:a,selectors:[["app-register-pet"]],standalone:!0,features:[De],decls:12,vars:4,consts:[[1,"min-h-screen","bg-gradient-to-r","from-blue-500","to-purple-600","flex","flex-col","justify-center","items-center","text-white","p-4"],[1,"text-3xl","font-bold","mb-6"],[1,"bg-white","p-5","rounded-lg","shadow-lg","w-full","max-w-md","text-gray-800",3,"ngSubmit","formGroup"],["formControlName","name","label","Nome do Animal"],["formControlName","specie","label","Esp\xE9cie",3,"options"],["formControlName","breed","label","Ra\xE7a (opcional)"],["formControlName","birth","label","Nascimento"],["formControlName","gender","label","Sexo",3,"options"],[1,"py-2","text-sm","text-gray-600","animate-fade-up"],["theme","gradient","type","submit",1,"max-w-md","my-2","w-full"]],template:function(f,g){f&1&&(J(0,"div",0)(1,"h2",1),fe(2,"Cadastro do Animal"),te(),J(3,"form",2),we("ngSubmit",function(){return g.onSubmit()}),et(4,"app-input",3)(5,"app-select",4)(6,"app-input",5)(7,"app-date",6)(8,"app-select",7),At(9,df,2,0,"p",8),J(10,"app-button",9),fe(11," Avan\xE7ar"),te()()()),f&2&&(oe(3),ke("formGroup",g.formPet),oe(2),ke("options",g.species()),oe(3),ke("options",g.gender()),oe(),Ge(g.errorFieldRequired()?9:-1))},dependencies:[Ci,_i,Ft,yi,rt,gr,jo,Zl,Si,ql]})}return a})();function Ql(a,o){return i=>{let f=i.get(a)?.value,g=i.get(o)?.value;return f!==g?{passwordMismatch:!0}:null}}function ff(a,o){if(a&1&&(J(0,"p",7),fe(1),te()),a&2){let i=lt();oe(),go(" ",i.passwordMismatch()," ")}}var Xl=(()=>{class a{router=Ie(Un);fb=Ie(bi);registration=Ie(Ei);formUser=this.fb.group({name:["",ct.required],email:["",[ct.required,ct.email]],password:["",ct.required],confirmation:["",ct.required]},{validators:Ql("password","confirmation")});passwordMismatch=Gt("");onSubmit(){if(!this.formUser.valid){this.formUser.errors?.passwordMismatch&&this.passwordMismatch.set("As senhas n\xE3o conferem.");return}this.registration.registerUser({email:this.formUser.get("email")?.value||"",name:this.formUser.get("name")?.value||"",password:this.formUser.get("password")?.value||""}).subscribe(()=>{this.router.navigate(["login/confirmacao"])})}goToPet(){this.router.navigate(["login/meu-pet"])}static \u0275fac=function(f){return new(f||a)};static \u0275cmp=Ce({type:a,selectors:[["app-register-user"]],standalone:!0,features:[De],decls:14,vars:2,consts:[[1,"min-h-screen","bg-gradient-to-r","from-blue-500","to-purple-600","flex","flex-col","justify-center","items-center","text-white","p-4"],[1,"text-3xl","font-bold","mb-6"],[1,"bg-white","p-5","rounded-lg","shadow-lg","w-full","max-w-md","text-gray-800",3,"ngSubmit","formGroup"],["formControlName","name","label","Nome Completo"],["formControlName","email","label","Email","error","teste"],["formControlName","password","label","Senha","type","password"],["formControlName","confirmation","label","Confirmar Senha","type","password"],[1,"animate-fade-right","pb-1","text-xs","text-red-400"],[1,"flex","flex-col","gap-2"],["type","submit","theme","gradient"],["theme","neutral",3,"click"]],template:function(f,g){f&1&&(J(0,"div",0)(1,"h2",1),fe(2,"Cria\xE7\xE3o de Login"),te(),J(3,"form",2),we("ngSubmit",function(){return g.onSubmit()}),et(4,"app-input",3)(5,"app-input",4)(6,"app-input",5)(7,"app-input",6),At(8,ff,2,1,"p",7),J(9,"div",8)(10,"app-button",9),fe(11,"Criar Conta"),te(),J(12,"app-button",10),we("click",function(){return g.goToPet()}),fe(13,"Voltar"),te()()()()),f&2&&(oe(3),ke("formGroup",g.formUser),oe(5),Ge(g.passwordMismatch()?8:-1))},dependencies:[Ci,_i,Ft,yi,rt,gr,Si,jo]})}return a})();var ec=[{path:"",pathMatch:"full",redirectTo:"login/introducao"},{path:"login",loadComponent:()=>import("./chunk-GU45UPGK.js").then(a=>a.LoginLayoutComponent),children:[{path:"introducao",component:Rl},{path:"meu-pet",component:Jl},{path:"perfil",component:Xl},{path:"confirmacao",component:Qu},{path:"sign",component:zl}]}];var tc=(()=>{class a{http;constructor(i){this.http=i}getTranslation(i){return this.http.get(`/assets/i18n/${i}.json`)}static \u0275fac=function(f){return new(f||a)(Qe(Co))};static \u0275prov=Ee({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var nc={providers:[Vu({eventCoalescing:!0}),Wu(ec),ju(Yu()),Ju({config:{availableLangs:["pt-BR","en"],defaultLang:"pt-BR",reRenderOnLangChange:!0,prodMode:!Ua()},loader:tc}),Ku("ngsw-worker.js",{enabled:!Ua(),registrationStrategy:"registerWhenStable:30000"}),Eu(qu.forRoot({config:{tokenGetter:()=>localStorage.getItem("access_token"),allowedDomains:[Do.apiUrl],disallowedRoutes:[Do.apiUrl+"login",Do.apiUrl+"register"]}}))]};var rc=(()=>{class a{static \u0275fac=function(f){return new(f||a)};static \u0275cmp=Ce({type:a,selectors:[["app-root"]],standalone:!0,features:[De],decls:1,vars:0,template:function(f,g){f&1&&et(0,"router-outlet")},dependencies:[Uu,It],encapsulation:2})}return a})();Bu(rc,nc).catch(a=>console.error(a));
